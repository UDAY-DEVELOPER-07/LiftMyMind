import{r as O1,a as oR,g as lR}from"./vendor-DJG_os-6.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var eg={exports:{}},bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aM;function cR(){if(aM)return bc;aM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:e,type:i,key:c,ref:a!==void 0?a:null,props:o}}return bc.Fragment=t,bc.jsx=n,bc.jsxs=n,bc}var oM;function uR(){return oM||(oM=1,eg.exports=cR()),eg.exports}var Bt=uR(),Rt=O1(),ng={exports:{}},_c={},ig={exports:{}},sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lM;function fR(){return lM||(lM=1,function(e){function t(z,q){var X=z.length;z.push(q);t:for(;0<X;){var lt=X-1>>>1,ht=z[lt];if(0<a(ht,q))z[lt]=q,z[X]=ht,X=lt;else break t}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var q=z[0],X=z.pop();if(X!==q){z[0]=X;t:for(var lt=0,ht=z.length,gt=ht>>>1;lt<gt;){var At=2*(lt+1)-1,yt=z[At],Gt=At+1,st=z[Gt];if(0>a(yt,X))Gt<ht&&0>a(st,yt)?(z[lt]=st,z[Gt]=X,lt=Gt):(z[lt]=yt,z[At]=X,lt=At);else if(Gt<ht&&0>a(st,X))z[lt]=st,z[Gt]=X,lt=Gt;else break t}}return q}function a(z,q){var X=z.sortIndex-q.sortIndex;return X!==0?X:z.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var h=[],d=[],m=1,p=null,y=3,v=!1,_=!1,S=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(z){for(var q=n(d);q!==null;){if(q.callback===null)i(d);else if(q.startTime<=z)i(d),q.sortIndex=q.expirationTime,t(h,q);else break;q=n(d)}}function C(z){if(S=!1,R(z),!_)if(n(h)!==null)_=!0,A||(A=!0,I());else{var q=n(d);q!==null&&k(C,q.startTime-z)}}var A=!1,O=-1,P=5,G=-1;function J(){return w?!0:!(e.unstable_now()-G<P)}function j(){if(w=!1,A){var z=e.unstable_now();G=z;var q=!0;try{t:{_=!1,S&&(S=!1,b(O),O=-1),v=!0;var X=y;try{e:{for(R(z),p=n(h);p!==null&&!(p.expirationTime>z&&J());){var lt=p.callback;if(typeof lt=="function"){p.callback=null,y=p.priorityLevel;var ht=lt(p.expirationTime<=z);if(z=e.unstable_now(),typeof ht=="function"){p.callback=ht,R(z),q=!0;break e}p===n(h)&&i(h),R(z)}else i(h);p=n(h)}if(p!==null)q=!0;else{var gt=n(d);gt!==null&&k(C,gt.startTime-z),q=!1}}break t}finally{p=null,y=X,v=!1}q=void 0}}finally{q?I():A=!1}}}var I;if(typeof T=="function")I=function(){T(j)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,F=K.port2;K.port1.onmessage=j,I=function(){F.postMessage(null)}}else I=function(){M(j,0)};function k(z,q){O=M(function(){z(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(z){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var X=y;y=q;try{return z()}finally{y=X}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=y;y=z;try{return q()}finally{y=X}},e.unstable_scheduleCallback=function(z,q,X){var lt=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?lt+X:lt):X=lt,z){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=X+ht,z={id:m++,callback:q,priorityLevel:z,startTime:X,expirationTime:ht,sortIndex:-1},X>lt?(z.sortIndex=X,t(d,z),n(h)===null&&z===n(d)&&(S?(b(O),O=-1):S=!0,k(C,X-lt))):(z.sortIndex=ht,t(h,z),_||v||(_=!0,A||(A=!0,I()))),z},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(z){var q=y;return function(){var X=y;y=q;try{return z.apply(this,arguments)}finally{y=X}}}}(sg)),sg}var cM;function hR(){return cM||(cM=1,ig.exports=fR()),ig.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uM;function dR(){if(uM)return _c;uM=1;var e=hR(),t=O1(),n=oR();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(i(188))}function h(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,f=r;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return u(g),s;if(x===f)return u(g),r;x=x.sibling}throw Error(i(188))}if(l.return!==f.return)l=g,f=x;else{for(var E=!1,L=g.child;L;){if(L===l){E=!0,l=g,f=x;break}if(L===f){E=!0,f=g,l=x;break}L=L.sibling}if(!E){for(L=x.child;L;){if(L===l){E=!0,l=x,f=g;break}if(L===f){E=!0,f=x,l=g;break}L=L.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==f)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function d(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=d(s),r!==null)return r;s=s.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function I(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var K=Symbol.for("react.client.reference");function F(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===K?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case w:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList";case G:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case v:return"Portal";case T:return(s.displayName||"Context")+".Provider";case b:return(s._context.displayName||"Context")+".Consumer";case R:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return r=s.displayName||null,r!==null?r:F(s.type)||"Memo";case P:r=s._payload,s=s._init;try{return F(s(r))}catch{}}return null}var k=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},lt=[],ht=-1;function gt(s){return{current:s}}function At(s){0>ht||(s.current=lt[ht],lt[ht]=null,ht--)}function yt(s,r){ht++,lt[ht]=s.current,s.current=r}var Gt=gt(null),st=gt(null),Me=gt(null),St=gt(null);function ie(s,r){switch(yt(Me,r),yt(st,s),yt(Gt,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?N_(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=N_(r),s=B_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}At(Gt),yt(Gt,s)}function kt(){At(Gt),At(st),At(Me)}function ce(s){s.memoizedState!==null&&yt(St,s);var r=Gt.current,l=B_(r,s.type);r!==l&&(yt(st,s),yt(Gt,l))}function $t(s){st.current===s&&(At(Gt),At(st)),St.current===s&&(At(St),mc._currentValue=X)}var ft=Object.prototype.hasOwnProperty,vt=e.unstable_scheduleCallback,xt=e.unstable_cancelCallback,It=e.unstable_shouldYield,Et=e.unstable_requestPaint,U=e.unstable_now,B=e.unstable_getCurrentPriorityLevel,dt=e.unstable_ImmediatePriority,ut=e.unstable_UserBlockingPriority,W=e.unstable_NormalPriority,mt=e.unstable_LowPriority,_t=e.unstable_IdlePriority,Ut=e.log,bt=e.unstable_setDisableYieldValue,Dt=null,Lt=null;function Xt(s){if(typeof Ut=="function"&&bt(s),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Dt,s)}catch{}}var Mt=Math.clz32?Math.clz32:Mn,Zt=Math.log,Pe=Math.LN2;function Mn(s){return s>>>=0,s===0?32:31-(Zt(s)/Pe|0)|0}var Gr=256,za=4194304;function ki(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ua(s,r,l){var f=s.pendingLanes;if(f===0)return 0;var g=0,x=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var L=f&134217727;return L!==0?(f=L&~x,f!==0?g=ki(f):(E&=L,E!==0?g=ki(E):l||(l=L&~s,l!==0&&(g=ki(l))))):(L=f&~x,L!==0?g=ki(L):E!==0?g=ki(E):l||(l=f&~s,l!==0&&(g=ki(l)))),g===0?0:r!==0&&r!==g&&(r&x)===0&&(x=g&-g,l=r&-r,x>=l||x===32&&(l&4194048)!==0)?r:g}function us(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Yd(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Is(){var s=Gr;return Gr<<=1,(Gr&4194048)===0&&(Gr=256),s}function Tl(){var s=za;return za<<=1,(za&62914560)===0&&(za=4194304),s}function Va(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Fs(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ai(s,r,l,f,g,x){var E=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var L=s.entanglements,V=s.expirationTimes,Q=s.hiddenUpdates;for(l=E&~l;0<l;){var it=31-Mt(l),ot=1<<it;L[it]=0,V[it]=-1;var $=Q[it];if($!==null)for(Q[it]=null,it=0;it<$.length;it++){var tt=$[it];tt!==null&&(tt.lane&=-536870913)}l&=~ot}f!==0&&El(s,f,0),x!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=x&~(E&~r))}function El(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var f=31-Mt(r);s.entangledLanes|=r,s.entanglements[f]=s.entanglements[f]|1073741824|l&4194090}function Iu(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var f=31-Mt(l),g=1<<f;g&r|s[f]&r&&(s[f]|=r),l&=~g}}function Al(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function N(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function nt(){var s=q.p;return s!==0?s:(s=window.event,s===void 0?32:tM(s.type))}function et(s,r){var l=q.p;try{return q.p=s,r()}finally{q.p=l}}var rt=Math.random().toString(36).slice(2),pt="__reactFiber$"+rt,Wt="__reactProps$"+rt,ee="__reactContainer$"+rt,ae="__reactEvents$"+rt,se="__reactListeners$"+rt,We="__reactHandles$"+rt,Ue="__reactResources$"+rt,te="__reactMarker$"+rt;function ve(s){delete s[pt],delete s[Wt],delete s[ae],delete s[se],delete s[We]}function wn(s){var r=s[pt];if(r)return r;for(var l=s.parentNode;l;){if(r=l[ee]||l[pt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=G_(s);s!==null;){if(l=s[pt])return l;s=G_(s)}return r}s=l,l=s.parentNode}return null}function me(s){if(s=s[pt]||s[ee]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function qn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ne(s){var r=s[Ue];return r||(r=s[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function je(s){s[te]=!0}var pn=new Set,ks={};function Gn(s,r){li(s,r),li(s+"Capture",r)}function li(s,r){for(ks[s]=r,s=0;s<r.length;s++)pn.add(r[s])}var $A=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),T0={},E0={};function t2(s){return ft.call(E0,s)?!0:ft.call(T0,s)?!1:$A.test(s)?E0[s]=!0:(T0[s]=!0,!1)}function Fu(s,r,l){if(t2(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function ku(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function fs(s,r,l,f){if(f===null)s.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+f)}}var Zd,A0;function Ga(s){if(Zd===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Zd=r&&r[1]||"",A0=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zd+s+A0}var Qd=!1;function Jd(s,r){if(!s||Qd)return"";Qd=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(tt){var $=tt}Reflect.construct(s,[],ot)}else{try{ot.call()}catch(tt){$=tt}s.call(ot.prototype)}}else{try{throw Error()}catch(tt){$=tt}(ot=s())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(tt){if(tt&&$&&typeof tt.stack=="string")return[tt.stack,$.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),E=x[0],L=x[1];if(E&&L){var V=E.split(`
`),Q=L.split(`
`);for(g=f=0;f<V.length&&!V[f].includes("DetermineComponentFrameRoot");)f++;for(;g<Q.length&&!Q[g].includes("DetermineComponentFrameRoot");)g++;if(f===V.length||g===Q.length)for(f=V.length-1,g=Q.length-1;1<=f&&0<=g&&V[f]!==Q[g];)g--;for(;1<=f&&0<=g;f--,g--)if(V[f]!==Q[g]){if(f!==1||g!==1)do if(f--,g--,0>g||V[f]!==Q[g]){var it=`
`+V[f].replace(" at new "," at ");return s.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",s.displayName)),it}while(1<=f&&0<=g);break}}}finally{Qd=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Ga(l):""}function e2(s){switch(s.tag){case 26:case 27:case 5:return Ga(s.type);case 16:return Ga("Lazy");case 13:return Ga("Suspense");case 19:return Ga("SuspenseList");case 0:case 15:return Jd(s.type,!1);case 11:return Jd(s.type.render,!1);case 1:return Jd(s.type,!0);case 31:return Ga("Activity");default:return""}}function R0(s){try{var r="";do r+=e2(s),s=s.return;while(s);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ci(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function C0(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function n2(s){var r=C0(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),f=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,x=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return g.call(this)},set:function(E){f=""+E,x.call(this,E)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Wu(s){s._valueTracker||(s._valueTracker=n2(s))}function L0(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),f="";return s&&(f=C0(s)?s.checked?"true":"false":s.value),s=f,s!==l?(r.setValue(s),!0):!1}function ju(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var i2=/[\n"\\]/g;function ui(s){return s.replace(i2,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Kd(s,r,l,f,g,x,E,L){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),r!=null?E==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+ci(r)):s.value!==""+ci(r)&&(s.value=""+ci(r)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),r!=null?$d(s,E,ci(r)):l!=null?$d(s,E,ci(l)):f!=null&&s.removeAttribute("value"),g==null&&x!=null&&(s.defaultChecked=!!x),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.name=""+ci(L):s.removeAttribute("name")}function D0(s,r,l,f,g,x,E,L){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),r!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||r!=null))return;l=l!=null?""+ci(l):"",r=r!=null?""+ci(r):l,L||r===s.value||(s.value=r),s.defaultValue=r}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=L?s.checked:!!f,s.defaultChecked=!!f,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E)}function $d(s,r,l){r==="number"&&ju(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ha(s,r,l,f){if(s=s.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=r.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&f&&(s[l].defaultSelected=!0)}else{for(l=""+ci(l),r=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}r!==null||s[g].disabled||(r=s[g])}r!==null&&(r.selected=!0)}}function O0(s,r,l){if(r!=null&&(r=""+ci(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+ci(l):""}function P0(s,r,l,f){if(r==null){if(f!=null){if(l!=null)throw Error(i(92));if(k(f)){if(1<f.length)throw Error(i(93));f=f[0]}l=f}l==null&&(l=""),r=l}l=ci(r),s.defaultValue=l,f=s.textContent,f===l&&f!==""&&f!==null&&(s.value=f)}function Ia(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var s2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function N0(s,r,l){var f=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":f?s.setProperty(r,l):typeof l!="number"||l===0||s2.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function B0(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var g in r)f=r[g],r.hasOwnProperty(g)&&l[g]!==f&&N0(s,g,f)}else for(var x in r)r.hasOwnProperty(x)&&N0(s,x,r[x])}function tp(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),a2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qu(s){return a2.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ep=null;function np(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Fa=null,ka=null;function z0(s){var r=me(s);if(r&&(s=r.stateNode)){var l=s[Wt]||null;t:switch(s=r.stateNode,r.type){case"input":if(Kd(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ui(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var f=l[r];if(f!==s&&f.form===s.form){var g=f[Wt]||null;if(!g)throw Error(i(90));Kd(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)f=l[r],f.form===s.form&&L0(f)}break t;case"textarea":O0(s,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Ha(s,!!l.multiple,r,!1)}}}var ip=!1;function U0(s,r,l){if(ip)return s(r,l);ip=!0;try{var f=s(r);return f}finally{if(ip=!1,(Fa!==null||ka!==null)&&(Of(),Fa&&(r=Fa,s=ka,ka=Fa=null,z0(r),s)))for(r=0;r<s.length;r++)z0(s[r])}}function Rl(s,r){var l=s.stateNode;if(l===null)return null;var f=l[Wt]||null;if(f===null)return null;l=f[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sp=!1;if(hs)try{var Cl={};Object.defineProperty(Cl,"passive",{get:function(){sp=!0}}),window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{sp=!1}var Ws=null,rp=null,Xu=null;function V0(){if(Xu)return Xu;var s,r=rp,l=r.length,f,g="value"in Ws?Ws.value:Ws.textContent,x=g.length;for(s=0;s<l&&r[s]===g[s];s++);var E=l-s;for(f=1;f<=E&&r[l-f]===g[x-f];f++);return Xu=g.slice(s,1<f?1-f:void 0)}function Yu(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Zu(){return!0}function G0(){return!1}function Hn(s){function r(l,f,g,x,E){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(l=s[L],this[L]=l?l(x):x[L]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Zu:G0,this.isPropagationStopped=G0,this}return m(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Zu)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Zu)},persist:function(){},isPersistent:Zu}),r}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qu=Hn(Hr),Ll=m({},Hr,{view:0,detail:0}),o2=Hn(Ll),ap,op,Dl,Ju=m({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Dl&&(Dl&&s.type==="mousemove"?(ap=s.screenX-Dl.screenX,op=s.screenY-Dl.screenY):op=ap=0,Dl=s),ap)},movementY:function(s){return"movementY"in s?s.movementY:op}}),H0=Hn(Ju),l2=m({},Ju,{dataTransfer:0}),c2=Hn(l2),u2=m({},Ll,{relatedTarget:0}),lp=Hn(u2),f2=m({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),h2=Hn(f2),d2=m({},Hr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),p2=Hn(d2),m2=m({},Hr,{data:0}),I0=Hn(m2),g2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x2(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=v2[s])?!!r[s]:!1}function cp(){return x2}var b2=m({},Ll,{key:function(s){if(s.key){var r=g2[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Yu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?y2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cp,charCode:function(s){return s.type==="keypress"?Yu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Yu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_2=Hn(b2),M2=m({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F0=Hn(M2),w2=m({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cp}),S2=Hn(w2),T2=m({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),E2=Hn(T2),A2=m({},Ju,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),R2=Hn(A2),C2=m({},Hr,{newState:0,oldState:0}),L2=Hn(C2),D2=[9,13,27,32],up=hs&&"CompositionEvent"in window,Ol=null;hs&&"documentMode"in document&&(Ol=document.documentMode);var O2=hs&&"TextEvent"in window&&!Ol,k0=hs&&(!up||Ol&&8<Ol&&11>=Ol),W0=" ",j0=!1;function q0(s,r){switch(s){case"keyup":return D2.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Wa=!1;function P2(s,r){switch(s){case"compositionend":return X0(r);case"keypress":return r.which!==32?null:(j0=!0,W0);case"textInput":return s=r.data,s===W0&&j0?null:s;default:return null}}function N2(s,r){if(Wa)return s==="compositionend"||!up&&q0(s,r)?(s=V0(),Xu=rp=Ws=null,Wa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return k0&&r.locale!=="ko"?null:r.data;default:return null}}var B2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y0(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!B2[s.type]:r==="textarea"}function Z0(s,r,l,f){Fa?ka?ka.push(f):ka=[f]:Fa=f,r=Vf(r,"onChange"),0<r.length&&(l=new Qu("onChange","change",null,l,f),s.push({event:l,listeners:r}))}var Pl=null,Nl=null;function z2(s){C_(s,0)}function Ku(s){var r=qn(s);if(L0(r))return s}function Q0(s,r){if(s==="change")return r}var J0=!1;if(hs){var fp;if(hs){var hp="oninput"in document;if(!hp){var K0=document.createElement("div");K0.setAttribute("oninput","return;"),hp=typeof K0.oninput=="function"}fp=hp}else fp=!1;J0=fp&&(!document.documentMode||9<document.documentMode)}function $0(){Pl&&(Pl.detachEvent("onpropertychange",tx),Nl=Pl=null)}function tx(s){if(s.propertyName==="value"&&Ku(Nl)){var r=[];Z0(r,Nl,s,np(s)),U0(z2,r)}}function U2(s,r,l){s==="focusin"?($0(),Pl=r,Nl=l,Pl.attachEvent("onpropertychange",tx)):s==="focusout"&&$0()}function V2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ku(Nl)}function G2(s,r){if(s==="click")return Ku(r)}function H2(s,r){if(s==="input"||s==="change")return Ku(r)}function I2(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Xn=typeof Object.is=="function"?Object.is:I2;function Bl(s,r){if(Xn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),f=Object.keys(r);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!ft.call(r,g)||!Xn(s[g],r[g]))return!1}return!0}function ex(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function nx(s,r){var l=ex(s);s=0;for(var f;l;){if(l.nodeType===3){if(f=s+l.textContent.length,s<=r&&f>=r)return{node:l,offset:r-s};s=f}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=ex(l)}}function ix(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?ix(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function sx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=ju(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=ju(s.document)}return r}function dp(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var F2=hs&&"documentMode"in document&&11>=document.documentMode,ja=null,pp=null,zl=null,mp=!1;function rx(s,r,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;mp||ja==null||ja!==ju(f)||(f=ja,"selectionStart"in f&&dp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),zl&&Bl(zl,f)||(zl=f,f=Vf(pp,"onSelect"),0<f.length&&(r=new Qu("onSelect","select",null,r,l),s.push({event:r,listeners:f}),r.target=ja)))}function Ir(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var qa={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},gp={},ax={};hs&&(ax=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Fr(s){if(gp[s])return gp[s];if(!qa[s])return s;var r=qa[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in ax)return gp[s]=r[l];return s}var ox=Fr("animationend"),lx=Fr("animationiteration"),cx=Fr("animationstart"),k2=Fr("transitionrun"),W2=Fr("transitionstart"),j2=Fr("transitioncancel"),ux=Fr("transitionend"),fx=new Map,yp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yp.push("scrollEnd");function Ri(s,r){fx.set(s,r),Gn(r,[s])}var hx=new WeakMap;function fi(s,r){if(typeof s=="object"&&s!==null){var l=hx.get(s);return l!==void 0?l:(r={value:s,source:r,stack:R0(r)},hx.set(s,r),r)}return{value:s,source:r,stack:R0(r)}}var hi=[],Xa=0,vp=0;function $u(){for(var s=Xa,r=vp=Xa=0;r<s;){var l=hi[r];hi[r++]=null;var f=hi[r];hi[r++]=null;var g=hi[r];hi[r++]=null;var x=hi[r];if(hi[r++]=null,f!==null&&g!==null){var E=f.pending;E===null?g.next=g:(g.next=E.next,E.next=g),f.pending=g}x!==0&&dx(l,g,x)}}function tf(s,r,l,f){hi[Xa++]=s,hi[Xa++]=r,hi[Xa++]=l,hi[Xa++]=f,vp|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function xp(s,r,l,f){return tf(s,r,l,f),ef(s)}function Ya(s,r){return tf(s,null,null,r),ef(s)}function dx(s,r,l){s.lanes|=l;var f=s.alternate;f!==null&&(f.lanes|=l);for(var g=!1,x=s.return;x!==null;)x.childLanes|=l,f=x.alternate,f!==null&&(f.childLanes|=l),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(g=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,g&&r!==null&&(g=31-Mt(l),s=x.hiddenUpdates,f=s[g],f===null?s[g]=[r]:f.push(r),r.lane=l|536870912),x):null}function ef(s){if(50<oc)throw oc=0,Tm=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Za={};function q2(s,r,l,f){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(s,r,l,f){return new q2(s,r,l,f)}function bp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ds(s,r){var l=s.alternate;return l===null?(l=Yn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function px(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function nf(s,r,l,f,g,x){var E=0;if(f=s,typeof s=="function")bp(s)&&(E=1);else if(typeof s=="string")E=Y3(s,l,Gt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case G:return s=Yn(31,l,r,g),s.elementType=G,s.lanes=x,s;case _:return kr(l.children,g,x,r);case S:E=8,g|=24;break;case w:return s=Yn(12,l,r,g|2),s.elementType=w,s.lanes=x,s;case C:return s=Yn(13,l,r,g),s.elementType=C,s.lanes=x,s;case A:return s=Yn(19,l,r,g),s.elementType=A,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:case T:E=10;break t;case b:E=9;break t;case R:E=11;break t;case O:E=14;break t;case P:E=16,f=null;break t}E=29,l=Error(i(130,s===null?"null":typeof s,"")),f=null}return r=Yn(E,l,r,g),r.elementType=s,r.type=f,r.lanes=x,r}function kr(s,r,l,f){return s=Yn(7,s,f,r),s.lanes=l,s}function _p(s,r,l){return s=Yn(6,s,null,r),s.lanes=l,s}function Mp(s,r,l){return r=Yn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Qa=[],Ja=0,sf=null,rf=0,di=[],pi=0,Wr=null,ps=1,ms="";function jr(s,r){Qa[Ja++]=rf,Qa[Ja++]=sf,sf=s,rf=r}function mx(s,r,l){di[pi++]=ps,di[pi++]=ms,di[pi++]=Wr,Wr=s;var f=ps;s=ms;var g=32-Mt(f)-1;f&=~(1<<g),l+=1;var x=32-Mt(r)+g;if(30<x){var E=g-g%5;x=(f&(1<<E)-1).toString(32),f>>=E,g-=E,ps=1<<32-Mt(r)+g|l<<g|f,ms=x+s}else ps=1<<x|l<<g|f,ms=s}function wp(s){s.return!==null&&(jr(s,1),mx(s,1,0))}function Sp(s){for(;s===sf;)sf=Qa[--Ja],Qa[Ja]=null,rf=Qa[--Ja],Qa[Ja]=null;for(;s===Wr;)Wr=di[--pi],di[pi]=null,ms=di[--pi],di[pi]=null,ps=di[--pi],di[pi]=null}var Dn=null,qe=null,ye=!1,qr=null,Wi=!1,Tp=Error(i(519));function Xr(s){var r=Error(i(418,""));throw Gl(fi(r,s)),Tp}function gx(s){var r=s.stateNode,l=s.type,f=s.memoizedProps;switch(r[pt]=s,r[Wt]=f,l){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(l=0;l<cc.length;l++)de(cc[l],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":de("invalid",r),D0(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Wu(r);break;case"select":de("invalid",r);break;case"textarea":de("invalid",r),P0(r,f.value,f.defaultValue,f.children),Wu(r)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||f.suppressHydrationWarning===!0||P_(r.textContent,l)?(f.popover!=null&&(de("beforetoggle",r),de("toggle",r)),f.onScroll!=null&&de("scroll",r),f.onScrollEnd!=null&&de("scrollend",r),f.onClick!=null&&(r.onclick=Gf),r=!0):r=!1,r||Xr(s)}function yx(s){for(Dn=s.return;Dn;)switch(Dn.tag){case 5:case 13:Wi=!1;return;case 27:case 3:Wi=!0;return;default:Dn=Dn.return}}function Ul(s){if(s!==Dn)return!1;if(!ye)return yx(s),ye=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Im(s.type,s.memoizedProps)),l=!l),l&&qe&&Xr(s),yx(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(r===0){qe=Li(s.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;s=s.nextSibling}qe=null}}else r===27?(r=qe,ar(s.type)?(s=jm,jm=null,qe=s):qe=r):qe=Dn?Li(s.stateNode.nextSibling):null;return!0}function Vl(){qe=Dn=null,ye=!1}function vx(){var s=qr;return s!==null&&(kn===null?kn=s:kn.push.apply(kn,s),qr=null),s}function Gl(s){qr===null?qr=[s]:qr.push(s)}var Ep=gt(null),Yr=null,gs=null;function js(s,r,l){yt(Ep,r._currentValue),r._currentValue=l}function ys(s){s._currentValue=Ep.current,At(Ep)}function Ap(s,r,l){for(;s!==null;){var f=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),s===l)break;s=s.return}}function Rp(s,r,l,f){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var x=g.dependencies;if(x!==null){var E=g.child;x=x.firstContext;t:for(;x!==null;){var L=x;x=g;for(var V=0;V<r.length;V++)if(L.context===r[V]){x.lanes|=l,L=x.alternate,L!==null&&(L.lanes|=l),Ap(x.return,l,s),f||(E=null);break t}x=L.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(i(341));E.lanes|=l,x=E.alternate,x!==null&&(x.lanes|=l),Ap(E,l,s),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Hl(s,r,l,f){s=null;for(var g=r,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var L=g.type;Xn(g.pendingProps.value,E.value)||(s!==null?s.push(L):s=[L])}}else if(g===St.current){if(E=g.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(mc):s=[mc])}g=g.return}s!==null&&Rp(r,s,l,f),r.flags|=262144}function af(s){for(s=s.firstContext;s!==null;){if(!Xn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Zr(s){Yr=s,gs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Sn(s){return xx(Yr,s)}function of(s,r){return Yr===null&&Zr(s),xx(s,r)}function xx(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},gs===null){if(s===null)throw Error(i(308));gs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else gs=gs.next=r;return l}var X2=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,f){s.push(f)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},Y2=e.unstable_scheduleCallback,Z2=e.unstable_NormalPriority,sn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cp(){return{controller:new X2,data:new Map,refCount:0}}function Il(s){s.refCount--,s.refCount===0&&Y2(Z2,function(){s.controller.abort()})}var Fl=null,Lp=0,Ka=0,$a=null;function Q2(s,r){if(Fl===null){var l=Fl=[];Lp=0,Ka=Om(),$a={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Lp++,r.then(bx,bx),r}function bx(){if(--Lp===0&&Fl!==null){$a!==null&&($a.status="fulfilled");var s=Fl;Fl=null,Ka=0,$a=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function J2(s,r){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){f.status="fulfilled",f.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var _x=z.S;z.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Q2(s,r),_x!==null&&_x(s,r)};var Qr=gt(null);function Dp(){var s=Qr.current;return s!==null?s:Le.pooledCache}function lf(s,r){r===null?yt(Qr,Qr.current):yt(Qr,r.pool)}function Mx(){var s=Dp();return s===null?null:{parent:sn._currentValue,pool:s}}var kl=Error(i(460)),wx=Error(i(474)),cf=Error(i(542)),Op={then:function(){}};function Sx(s){return s=s.status,s==="fulfilled"||s==="rejected"}function uf(){}function Tx(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(uf,uf),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Ax(s),s;default:if(typeof r.status=="string")r.then(uf,uf);else{if(s=Le,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(f){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=f}},function(f){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Ax(s),s}throw Wl=r,kl}}var Wl=null;function Ex(){if(Wl===null)throw Error(i(459));var s=Wl;return Wl=null,s}function Ax(s){if(s===kl||s===cf)throw Error(i(483))}var qs=!1;function Pp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Np(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Xs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ys(s,r,l){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(xe&2)!==0){var g=f.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),f.pending=r,r=ef(s),dx(s,null,l),r}return tf(s,f,r,l),ef(s)}function jl(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var f=r.lanes;f&=s.pendingLanes,l|=f,r.lanes=l,Iu(s,l)}}function Bp(s,r){var l=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?g=x=E:x=x.next=E,l=l.next}while(l!==null);x===null?g=x=r:x=x.next=r}else g=x=r;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var zp=!1;function ql(){if(zp){var s=$a;if(s!==null)throw s}}function Xl(s,r,l,f){zp=!1;var g=s.updateQueue;qs=!1;var x=g.firstBaseUpdate,E=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var V=L,Q=V.next;V.next=null,E===null?x=Q:E.next=Q,E=V;var it=s.alternate;it!==null&&(it=it.updateQueue,L=it.lastBaseUpdate,L!==E&&(L===null?it.firstBaseUpdate=Q:L.next=Q,it.lastBaseUpdate=V))}if(x!==null){var ot=g.baseState;E=0,it=Q=V=null,L=x;do{var $=L.lane&-536870913,tt=$!==L.lane;if(tt?(pe&$)===$:(f&$)===$){$!==0&&$===Ka&&(zp=!0),it!==null&&(it=it.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});t:{var Jt=s,jt=L;$=r;var Te=l;switch(jt.tag){case 1:if(Jt=jt.payload,typeof Jt=="function"){ot=Jt.call(Te,ot,$);break t}ot=Jt;break t;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=jt.payload,$=typeof Jt=="function"?Jt.call(Te,ot,$):Jt,$==null)break t;ot=m({},ot,$);break t;case 2:qs=!0}}$=L.callback,$!==null&&(s.flags|=64,tt&&(s.flags|=8192),tt=g.callbacks,tt===null?g.callbacks=[$]:tt.push($))}else tt={lane:$,tag:L.tag,payload:L.payload,callback:L.callback,next:null},it===null?(Q=it=tt,V=ot):it=it.next=tt,E|=$;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;tt=L,L=tt.next,tt.next=null,g.lastBaseUpdate=tt,g.shared.pending=null}}while(!0);it===null&&(V=ot),g.baseState=V,g.firstBaseUpdate=Q,g.lastBaseUpdate=it,x===null&&(g.shared.lanes=0),nr|=E,s.lanes=E,s.memoizedState=ot}}function Rx(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Cx(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Rx(l[s],r)}var to=gt(null),ff=gt(0);function Lx(s,r){s=Ss,yt(ff,s),yt(to,r),Ss=s|r.baseLanes}function Up(){yt(ff,Ss),yt(to,to.current)}function Vp(){Ss=ff.current,At(to),At(ff)}var Zs=0,oe=null,we=null,tn=null,hf=!1,eo=!1,Jr=!1,df=0,Yl=0,no=null,K2=0;function Qe(){throw Error(i(321))}function Gp(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!Xn(s[l],r[l]))return!1;return!0}function Hp(s,r,l,f,g,x){return Zs=x,oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,z.H=s===null||s.memoizedState===null?db:pb,Jr=!1,x=l(f,g),Jr=!1,eo&&(x=Ox(r,l,f,g)),Dx(s),x}function Dx(s){z.H=xf;var r=we!==null&&we.next!==null;if(Zs=0,tn=we=oe=null,hf=!1,Yl=0,no=null,r)throw Error(i(300));s===null||cn||(s=s.dependencies,s!==null&&af(s)&&(cn=!0))}function Ox(s,r,l,f){oe=s;var g=0;do{if(eo&&(no=null),Yl=0,eo=!1,25<=g)throw Error(i(301));if(g+=1,tn=we=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}z.H=r3,x=r(l,f)}while(eo);return x}function $2(){var s=z.H,r=s.useState()[0];return r=typeof r.then=="function"?Zl(r):r,s=s.useState()[0],(we!==null?we.memoizedState:null)!==s&&(oe.flags|=1024),r}function Ip(){var s=df!==0;return df=0,s}function Fp(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function kp(s){if(hf){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}hf=!1}Zs=0,tn=we=oe=null,eo=!1,Yl=df=0,no=null}function In(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?oe.memoizedState=tn=s:tn=tn.next=s,tn}function en(){if(we===null){var s=oe.alternate;s=s!==null?s.memoizedState:null}else s=we.next;var r=tn===null?oe.memoizedState:tn.next;if(r!==null)tn=r,we=s;else{if(s===null)throw oe.alternate===null?Error(i(467)):Error(i(310));we=s,s={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},tn===null?oe.memoizedState=tn=s:tn=tn.next=s}return tn}function Wp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(s){var r=Yl;return Yl+=1,no===null&&(no=[]),s=Tx(no,s,r),r=oe,(tn===null?r.memoizedState:tn.next)===null&&(r=r.alternate,z.H=r===null||r.memoizedState===null?db:pb),s}function pf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Zl(s);if(s.$$typeof===T)return Sn(s)}throw Error(i(438,String(s)))}function jp(s){var r=null,l=oe.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var f=oe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Wp(),oe.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),f=0;f<s;f++)l[f]=J;return r.index++,l}function vs(s,r){return typeof r=="function"?r(s):r}function mf(s){var r=en();return qp(r,we,s)}function qp(s,r,l){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=l;var g=s.baseQueue,x=f.pending;if(x!==null){if(g!==null){var E=g.next;g.next=x.next,x.next=E}r.baseQueue=g=x,f.pending=null}if(x=s.baseState,g===null)s.memoizedState=x;else{r=g.next;var L=E=null,V=null,Q=r,it=!1;do{var ot=Q.lane&-536870913;if(ot!==Q.lane?(pe&ot)===ot:(Zs&ot)===ot){var $=Q.revertLane;if($===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ot===Ka&&(it=!0);else if((Zs&$)===$){Q=Q.next,$===Ka&&(it=!0);continue}else ot={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(L=V=ot,E=x):V=V.next=ot,oe.lanes|=$,nr|=$;ot=Q.action,Jr&&l(x,ot),x=Q.hasEagerState?Q.eagerState:l(x,ot)}else $={lane:ot,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(L=V=$,E=x):V=V.next=$,oe.lanes|=ot,nr|=ot;Q=Q.next}while(Q!==null&&Q!==r);if(V===null?E=x:V.next=L,!Xn(x,s.memoizedState)&&(cn=!0,it&&(l=$a,l!==null)))throw l;s.memoizedState=x,s.baseState=E,s.baseQueue=V,f.lastRenderedState=x}return g===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function Xp(s){var r=en(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var f=l.dispatch,g=l.pending,x=r.memoizedState;if(g!==null){l.pending=null;var E=g=g.next;do x=s(x,E.action),E=E.next;while(E!==g);Xn(x,r.memoizedState)||(cn=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),l.lastRenderedState=x}return[x,f]}function Px(s,r,l){var f=oe,g=en(),x=ye;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=r();var E=!Xn((we||g).memoizedState,l);E&&(g.memoizedState=l,cn=!0),g=g.queue;var L=zx.bind(null,f,g,s);if(Ql(2048,8,L,[s]),g.getSnapshot!==r||E||tn!==null&&tn.memoizedState.tag&1){if(f.flags|=2048,io(9,gf(),Bx.bind(null,f,g,l,r),null),Le===null)throw Error(i(349));x||(Zs&124)!==0||Nx(f,r,l)}return l}function Nx(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=oe.updateQueue,r===null?(r=Wp(),oe.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function Bx(s,r,l,f){r.value=l,r.getSnapshot=f,Ux(r)&&Vx(s)}function zx(s,r,l){return l(function(){Ux(r)&&Vx(s)})}function Ux(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!Xn(s,l)}catch{return!0}}function Vx(s){var r=Ya(s,2);r!==null&&$n(r,s,2)}function Yp(s){var r=In();if(typeof s=="function"){var l=s;if(s=l(),Jr){Xt(!0);try{l()}finally{Xt(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:s},r}function Gx(s,r,l,f){return s.baseState=l,qp(s,we,typeof f=="function"?f:vs)}function t3(s,r,l,f,g){if(vf(s))throw Error(i(485));if(s=r.action,s!==null){var x={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){x.listeners.push(E)}};z.T!==null?l(!0):x.isTransition=!1,f(x),l=r.pending,l===null?(x.next=r.pending=x,Hx(r,x)):(x.next=l.next,r.pending=l.next=x)}}function Hx(s,r){var l=r.action,f=r.payload,g=s.state;if(r.isTransition){var x=z.T,E={};z.T=E;try{var L=l(g,f),V=z.S;V!==null&&V(E,L),Ix(s,r,L)}catch(Q){Zp(s,r,Q)}finally{z.T=x}}else try{x=l(g,f),Ix(s,r,x)}catch(Q){Zp(s,r,Q)}}function Ix(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Fx(s,r,f)},function(f){return Zp(s,r,f)}):Fx(s,r,l)}function Fx(s,r,l){r.status="fulfilled",r.value=l,kx(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,Hx(s,l)))}function Zp(s,r,l){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=l,kx(r),r=r.next;while(r!==f)}s.action=null}function kx(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Wx(s,r){return r}function jx(s,r){if(ye){var l=Le.formState;if(l!==null){t:{var f=oe;if(ye){if(qe){e:{for(var g=qe,x=Wi;g.nodeType!==8;){if(!x){g=null;break e}if(g=Li(g.nextSibling),g===null){g=null;break e}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){qe=Li(g.nextSibling),f=g.data==="F!";break t}}Xr(f)}f=!1}f&&(r=l[0])}}return l=In(),l.memoizedState=l.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wx,lastRenderedState:r},l.queue=f,l=ub.bind(null,oe,f),f.dispatch=l,f=Yp(!1),x=tm.bind(null,oe,!1,f.queue),f=In(),g={state:r,dispatch:null,action:s,pending:null},f.queue=g,l=t3.bind(null,oe,g,x,l),g.dispatch=l,f.memoizedState=s,[r,l,!1]}function qx(s){var r=en();return Xx(r,we,s)}function Xx(s,r,l){if(r=qp(s,r,Wx)[0],s=mf(vs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=Zl(r)}catch(E){throw E===kl?cf:E}else f=r;r=en();var g=r.queue,x=g.dispatch;return l!==r.memoizedState&&(oe.flags|=2048,io(9,gf(),e3.bind(null,g,l),null)),[f,x,s]}function e3(s,r){s.action=r}function Yx(s){var r=en(),l=we;if(l!==null)return Xx(r,l,s);en(),r=r.memoizedState,l=en();var f=l.queue.dispatch;return l.memoizedState=s,[r,f,!1]}function io(s,r,l,f){return s={tag:s,create:l,deps:f,inst:r,next:null},r=oe.updateQueue,r===null&&(r=Wp(),oe.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(f=l.next,l.next=s,s.next=f,r.lastEffect=s),s}function gf(){return{destroy:void 0,resource:void 0}}function Zx(){return en().memoizedState}function yf(s,r,l,f){var g=In();f=f===void 0?null:f,oe.flags|=s,g.memoizedState=io(1|r,gf(),l,f)}function Ql(s,r,l,f){var g=en();f=f===void 0?null:f;var x=g.memoizedState.inst;we!==null&&f!==null&&Gp(f,we.memoizedState.deps)?g.memoizedState=io(r,x,l,f):(oe.flags|=s,g.memoizedState=io(1|r,x,l,f))}function Qx(s,r){yf(8390656,8,s,r)}function Jx(s,r){Ql(2048,8,s,r)}function Kx(s,r){return Ql(4,2,s,r)}function $x(s,r){return Ql(4,4,s,r)}function tb(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function eb(s,r,l){l=l!=null?l.concat([s]):null,Ql(4,4,tb.bind(null,r,s),l)}function Qp(){}function nb(s,r){var l=en();r=r===void 0?null:r;var f=l.memoizedState;return r!==null&&Gp(r,f[1])?f[0]:(l.memoizedState=[s,r],s)}function ib(s,r){var l=en();r=r===void 0?null:r;var f=l.memoizedState;if(r!==null&&Gp(r,f[1]))return f[0];if(f=s(),Jr){Xt(!0);try{s()}finally{Xt(!1)}}return l.memoizedState=[f,r],f}function Jp(s,r,l){return l===void 0||(Zs&1073741824)!==0?s.memoizedState=r:(s.memoizedState=l,s=a_(),oe.lanes|=s,nr|=s,l)}function sb(s,r,l,f){return Xn(l,r)?l:to.current!==null?(s=Jp(s,l,f),Xn(s,r)||(cn=!0),s):(Zs&42)===0?(cn=!0,s.memoizedState=l):(s=a_(),oe.lanes|=s,nr|=s,r)}function rb(s,r,l,f,g){var x=q.p;q.p=x!==0&&8>x?x:8;var E=z.T,L={};z.T=L,tm(s,!1,r,l);try{var V=g(),Q=z.S;if(Q!==null&&Q(L,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var it=J2(V,f);Jl(s,r,it,Kn(s))}else Jl(s,r,f,Kn(s))}catch(ot){Jl(s,r,{then:function(){},status:"rejected",reason:ot},Kn())}finally{q.p=x,z.T=E}}function n3(){}function Kp(s,r,l,f){if(s.tag!==5)throw Error(i(476));var g=ab(s).queue;rb(s,g,r,X,l===null?n3:function(){return ob(s),l(f)})}function ab(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:X},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function ob(s){var r=ab(s).next.queue;Jl(s,r,{},Kn())}function $p(){return Sn(mc)}function lb(){return en().memoizedState}function cb(){return en().memoizedState}function i3(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Kn();s=Xs(l);var f=Ys(r,s,l);f!==null&&($n(f,r,l),jl(f,r,l)),r={cache:Cp()},s.payload=r;return}r=r.return}}function s3(s,r,l){var f=Kn();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},vf(s)?fb(r,l):(l=xp(s,r,l,f),l!==null&&($n(l,s,f),hb(l,r,f)))}function ub(s,r,l){var f=Kn();Jl(s,r,l,f)}function Jl(s,r,l,f){var g={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(vf(s))fb(r,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var E=r.lastRenderedState,L=x(E,l);if(g.hasEagerState=!0,g.eagerState=L,Xn(L,E))return tf(s,r,g,0),Le===null&&$u(),!1}catch{}finally{}if(l=xp(s,r,g,f),l!==null)return $n(l,s,f),hb(l,r,f),!0}return!1}function tm(s,r,l,f){if(f={lane:2,revertLane:Om(),action:f,hasEagerState:!1,eagerState:null,next:null},vf(s)){if(r)throw Error(i(479))}else r=xp(s,l,f,2),r!==null&&$n(r,s,2)}function vf(s){var r=s.alternate;return s===oe||r!==null&&r===oe}function fb(s,r){eo=hf=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function hb(s,r,l){if((l&4194048)!==0){var f=r.lanes;f&=s.pendingLanes,l|=f,r.lanes=l,Iu(s,l)}}var xf={readContext:Sn,use:pf,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe},db={readContext:Sn,use:pf,useCallback:function(s,r){return In().memoizedState=[s,r===void 0?null:r],s},useContext:Sn,useEffect:Qx,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,yf(4194308,4,tb.bind(null,r,s),l)},useLayoutEffect:function(s,r){return yf(4194308,4,s,r)},useInsertionEffect:function(s,r){yf(4,2,s,r)},useMemo:function(s,r){var l=In();r=r===void 0?null:r;var f=s();if(Jr){Xt(!0);try{s()}finally{Xt(!1)}}return l.memoizedState=[f,r],f},useReducer:function(s,r,l){var f=In();if(l!==void 0){var g=l(r);if(Jr){Xt(!0);try{l(r)}finally{Xt(!1)}}}else g=r;return f.memoizedState=f.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},f.queue=s,s=s.dispatch=s3.bind(null,oe,s),[f.memoizedState,s]},useRef:function(s){var r=In();return s={current:s},r.memoizedState=s},useState:function(s){s=Yp(s);var r=s.queue,l=ub.bind(null,oe,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:Qp,useDeferredValue:function(s,r){var l=In();return Jp(l,s,r)},useTransition:function(){var s=Yp(!1);return s=rb.bind(null,oe,s.queue,!0,!1),In().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var f=oe,g=In();if(ye){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),Le===null)throw Error(i(349));(pe&124)!==0||Nx(f,r,l)}g.memoizedState=l;var x={value:l,getSnapshot:r};return g.queue=x,Qx(zx.bind(null,f,x,s),[s]),f.flags|=2048,io(9,gf(),Bx.bind(null,f,x,l,r),null),l},useId:function(){var s=In(),r=Le.identifierPrefix;if(ye){var l=ms,f=ps;l=(f&~(1<<32-Mt(f)-1)).toString(32)+l,r=""+r+"R"+l,l=df++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=K2++,r=""+r+"r"+l.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:$p,useFormState:jx,useActionState:jx,useOptimistic:function(s){var r=In();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=tm.bind(null,oe,!0,l),l.dispatch=r,[s,r]},useMemoCache:jp,useCacheRefresh:function(){return In().memoizedState=i3.bind(null,oe)}},pb={readContext:Sn,use:pf,useCallback:nb,useContext:Sn,useEffect:Jx,useImperativeHandle:eb,useInsertionEffect:Kx,useLayoutEffect:$x,useMemo:ib,useReducer:mf,useRef:Zx,useState:function(){return mf(vs)},useDebugValue:Qp,useDeferredValue:function(s,r){var l=en();return sb(l,we.memoizedState,s,r)},useTransition:function(){var s=mf(vs)[0],r=en().memoizedState;return[typeof s=="boolean"?s:Zl(s),r]},useSyncExternalStore:Px,useId:lb,useHostTransitionStatus:$p,useFormState:qx,useActionState:qx,useOptimistic:function(s,r){var l=en();return Gx(l,we,s,r)},useMemoCache:jp,useCacheRefresh:cb},r3={readContext:Sn,use:pf,useCallback:nb,useContext:Sn,useEffect:Jx,useImperativeHandle:eb,useInsertionEffect:Kx,useLayoutEffect:$x,useMemo:ib,useReducer:Xp,useRef:Zx,useState:function(){return Xp(vs)},useDebugValue:Qp,useDeferredValue:function(s,r){var l=en();return we===null?Jp(l,s,r):sb(l,we.memoizedState,s,r)},useTransition:function(){var s=Xp(vs)[0],r=en().memoizedState;return[typeof s=="boolean"?s:Zl(s),r]},useSyncExternalStore:Px,useId:lb,useHostTransitionStatus:$p,useFormState:Yx,useActionState:Yx,useOptimistic:function(s,r){var l=en();return we!==null?Gx(l,we,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:jp,useCacheRefresh:cb},so=null,Kl=0;function bf(s){var r=Kl;return Kl+=1,so===null&&(so=[]),Tx(so,s,r)}function $l(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function _f(s,r){throw r.$$typeof===p?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function mb(s){var r=s._init;return r(s._payload)}function gb(s){function r(Y,H){if(s){var Z=Y.deletions;Z===null?(Y.deletions=[H],Y.flags|=16):Z.push(H)}}function l(Y,H){if(!s)return null;for(;H!==null;)r(Y,H),H=H.sibling;return null}function f(Y){for(var H=new Map;Y!==null;)Y.key!==null?H.set(Y.key,Y):H.set(Y.index,Y),Y=Y.sibling;return H}function g(Y,H){return Y=ds(Y,H),Y.index=0,Y.sibling=null,Y}function x(Y,H,Z){return Y.index=Z,s?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<H?(Y.flags|=67108866,H):Z):(Y.flags|=67108866,H)):(Y.flags|=1048576,H)}function E(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function L(Y,H,Z,at){return H===null||H.tag!==6?(H=_p(Z,Y.mode,at),H.return=Y,H):(H=g(H,Z),H.return=Y,H)}function V(Y,H,Z,at){var Ot=Z.type;return Ot===_?it(Y,H,Z.props.children,at,Z.key):H!==null&&(H.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===P&&mb(Ot)===H.type)?(H=g(H,Z.props),$l(H,Z),H.return=Y,H):(H=nf(Z.type,Z.key,Z.props,null,Y.mode,at),$l(H,Z),H.return=Y,H)}function Q(Y,H,Z,at){return H===null||H.tag!==4||H.stateNode.containerInfo!==Z.containerInfo||H.stateNode.implementation!==Z.implementation?(H=Mp(Z,Y.mode,at),H.return=Y,H):(H=g(H,Z.children||[]),H.return=Y,H)}function it(Y,H,Z,at,Ot){return H===null||H.tag!==7?(H=kr(Z,Y.mode,at,Ot),H.return=Y,H):(H=g(H,Z),H.return=Y,H)}function ot(Y,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=_p(""+H,Y.mode,Z),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case y:return Z=nf(H.type,H.key,H.props,null,Y.mode,Z),$l(Z,H),Z.return=Y,Z;case v:return H=Mp(H,Y.mode,Z),H.return=Y,H;case P:var at=H._init;return H=at(H._payload),ot(Y,H,Z)}if(k(H)||I(H))return H=kr(H,Y.mode,Z,null),H.return=Y,H;if(typeof H.then=="function")return ot(Y,bf(H),Z);if(H.$$typeof===T)return ot(Y,of(Y,H),Z);_f(Y,H)}return null}function $(Y,H,Z,at){var Ot=H!==null?H.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ot!==null?null:L(Y,H,""+Z,at);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:return Z.key===Ot?V(Y,H,Z,at):null;case v:return Z.key===Ot?Q(Y,H,Z,at):null;case P:return Ot=Z._init,Z=Ot(Z._payload),$(Y,H,Z,at)}if(k(Z)||I(Z))return Ot!==null?null:it(Y,H,Z,at,null);if(typeof Z.then=="function")return $(Y,H,bf(Z),at);if(Z.$$typeof===T)return $(Y,H,of(Y,Z),at);_f(Y,Z)}return null}function tt(Y,H,Z,at,Ot){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return Y=Y.get(Z)||null,L(H,Y,""+at,Ot);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case y:return Y=Y.get(at.key===null?Z:at.key)||null,V(H,Y,at,Ot);case v:return Y=Y.get(at.key===null?Z:at.key)||null,Q(H,Y,at,Ot);case P:var ue=at._init;return at=ue(at._payload),tt(Y,H,Z,at,Ot)}if(k(at)||I(at))return Y=Y.get(Z)||null,it(H,Y,at,Ot,null);if(typeof at.then=="function")return tt(Y,H,Z,bf(at),Ot);if(at.$$typeof===T)return tt(Y,H,Z,of(H,at),Ot);_f(H,at)}return null}function Jt(Y,H,Z,at){for(var Ot=null,ue=null,Vt=H,Yt=H=0,fn=null;Vt!==null&&Yt<Z.length;Yt++){Vt.index>Yt?(fn=Vt,Vt=null):fn=Vt.sibling;var ge=$(Y,Vt,Z[Yt],at);if(ge===null){Vt===null&&(Vt=fn);break}s&&Vt&&ge.alternate===null&&r(Y,Vt),H=x(ge,H,Yt),ue===null?Ot=ge:ue.sibling=ge,ue=ge,Vt=fn}if(Yt===Z.length)return l(Y,Vt),ye&&jr(Y,Yt),Ot;if(Vt===null){for(;Yt<Z.length;Yt++)Vt=ot(Y,Z[Yt],at),Vt!==null&&(H=x(Vt,H,Yt),ue===null?Ot=Vt:ue.sibling=Vt,ue=Vt);return ye&&jr(Y,Yt),Ot}for(Vt=f(Vt);Yt<Z.length;Yt++)fn=tt(Vt,Y,Yt,Z[Yt],at),fn!==null&&(s&&fn.alternate!==null&&Vt.delete(fn.key===null?Yt:fn.key),H=x(fn,H,Yt),ue===null?Ot=fn:ue.sibling=fn,ue=fn);return s&&Vt.forEach(function(fr){return r(Y,fr)}),ye&&jr(Y,Yt),Ot}function jt(Y,H,Z,at){if(Z==null)throw Error(i(151));for(var Ot=null,ue=null,Vt=H,Yt=H=0,fn=null,ge=Z.next();Vt!==null&&!ge.done;Yt++,ge=Z.next()){Vt.index>Yt?(fn=Vt,Vt=null):fn=Vt.sibling;var fr=$(Y,Vt,ge.value,at);if(fr===null){Vt===null&&(Vt=fn);break}s&&Vt&&fr.alternate===null&&r(Y,Vt),H=x(fr,H,Yt),ue===null?Ot=fr:ue.sibling=fr,ue=fr,Vt=fn}if(ge.done)return l(Y,Vt),ye&&jr(Y,Yt),Ot;if(Vt===null){for(;!ge.done;Yt++,ge=Z.next())ge=ot(Y,ge.value,at),ge!==null&&(H=x(ge,H,Yt),ue===null?Ot=ge:ue.sibling=ge,ue=ge);return ye&&jr(Y,Yt),Ot}for(Vt=f(Vt);!ge.done;Yt++,ge=Z.next())ge=tt(Vt,Y,Yt,ge.value,at),ge!==null&&(s&&ge.alternate!==null&&Vt.delete(ge.key===null?Yt:ge.key),H=x(ge,H,Yt),ue===null?Ot=ge:ue.sibling=ge,ue=ge);return s&&Vt.forEach(function(aR){return r(Y,aR)}),ye&&jr(Y,Yt),Ot}function Te(Y,H,Z,at){if(typeof Z=="object"&&Z!==null&&Z.type===_&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:t:{for(var Ot=Z.key;H!==null;){if(H.key===Ot){if(Ot=Z.type,Ot===_){if(H.tag===7){l(Y,H.sibling),at=g(H,Z.props.children),at.return=Y,Y=at;break t}}else if(H.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===P&&mb(Ot)===H.type){l(Y,H.sibling),at=g(H,Z.props),$l(at,Z),at.return=Y,Y=at;break t}l(Y,H);break}else r(Y,H);H=H.sibling}Z.type===_?(at=kr(Z.props.children,Y.mode,at,Z.key),at.return=Y,Y=at):(at=nf(Z.type,Z.key,Z.props,null,Y.mode,at),$l(at,Z),at.return=Y,Y=at)}return E(Y);case v:t:{for(Ot=Z.key;H!==null;){if(H.key===Ot)if(H.tag===4&&H.stateNode.containerInfo===Z.containerInfo&&H.stateNode.implementation===Z.implementation){l(Y,H.sibling),at=g(H,Z.children||[]),at.return=Y,Y=at;break t}else{l(Y,H);break}else r(Y,H);H=H.sibling}at=Mp(Z,Y.mode,at),at.return=Y,Y=at}return E(Y);case P:return Ot=Z._init,Z=Ot(Z._payload),Te(Y,H,Z,at)}if(k(Z))return Jt(Y,H,Z,at);if(I(Z)){if(Ot=I(Z),typeof Ot!="function")throw Error(i(150));return Z=Ot.call(Z),jt(Y,H,Z,at)}if(typeof Z.then=="function")return Te(Y,H,bf(Z),at);if(Z.$$typeof===T)return Te(Y,H,of(Y,Z),at);_f(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,H!==null&&H.tag===6?(l(Y,H.sibling),at=g(H,Z),at.return=Y,Y=at):(l(Y,H),at=_p(Z,Y.mode,at),at.return=Y,Y=at),E(Y)):l(Y,H)}return function(Y,H,Z,at){try{Kl=0;var Ot=Te(Y,H,Z,at);return so=null,Ot}catch(Vt){if(Vt===kl||Vt===cf)throw Vt;var ue=Yn(29,Vt,null,Y.mode);return ue.lanes=at,ue.return=Y,ue}finally{}}}var ro=gb(!0),yb=gb(!1),mi=gt(null),ji=null;function Qs(s){var r=s.alternate;yt(rn,rn.current&1),yt(mi,s),ji===null&&(r===null||to.current!==null||r.memoizedState!==null)&&(ji=s)}function vb(s){if(s.tag===22){if(yt(rn,rn.current),yt(mi,s),ji===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(ji=s)}}else Js()}function Js(){yt(rn,rn.current),yt(mi,mi.current)}function xs(s){At(mi),ji===s&&(ji=null),At(rn)}var rn=gt(0);function Mf(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Wm(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function em(s,r,l,f){r=s.memoizedState,l=l(f,r),l=l==null?r:m({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var nm={enqueueSetState:function(s,r,l){s=s._reactInternals;var f=Kn(),g=Xs(f);g.payload=r,l!=null&&(g.callback=l),r=Ys(s,g,f),r!==null&&($n(r,s,f),jl(r,s,f))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var f=Kn(),g=Xs(f);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Ys(s,g,f),r!==null&&($n(r,s,f),jl(r,s,f))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Kn(),f=Xs(l);f.tag=2,r!=null&&(f.callback=r),r=Ys(s,f,l),r!==null&&($n(r,s,l),jl(r,s,l))}};function xb(s,r,l,f,g,x,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,E):r.prototype&&r.prototype.isPureReactComponent?!Bl(l,f)||!Bl(g,x):!0}function bb(s,r,l,f){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,f),r.state!==s&&nm.enqueueReplaceState(r,r.state,null)}function Kr(s,r){var l=r;if("ref"in r){l={};for(var f in r)f!=="ref"&&(l[f]=r[f])}if(s=s.defaultProps){l===r&&(l=m({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var wf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function _b(s){wf(s)}function Mb(s){console.error(s)}function wb(s){wf(s)}function Sf(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function Sb(s,r,l){try{var f=s.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function im(s,r,l){return l=Xs(l),l.tag=3,l.payload={element:null},l.callback=function(){Sf(s,r)},l}function Tb(s){return s=Xs(s),s.tag=3,s}function Eb(s,r,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var x=f.value;s.payload=function(){return g(x)},s.callback=function(){Sb(r,l,f)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){Sb(r,l,f),typeof g!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var L=f.stack;this.componentDidCatch(f.value,{componentStack:L!==null?L:""})})}function a3(s,r,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=l.alternate,r!==null&&Hl(r,l,g,!0),l=mi.current,l!==null){switch(l.tag){case 13:return ji===null?Am():l.alternate===null&&Xe===0&&(Xe=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===Op?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([f]):r.add(f),Cm(s,f,g)),!1;case 22:return l.flags|=65536,f===Op?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([f]):l.add(f)),Cm(s,f,g)),!1}throw Error(i(435,l.tag))}return Cm(s,f,g),Am(),!1}if(ye)return r=mi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,f!==Tp&&(s=Error(i(422),{cause:f}),Gl(fi(s,l)))):(f!==Tp&&(r=Error(i(423),{cause:f}),Gl(fi(r,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,f=fi(f,l),g=im(s.stateNode,f,g),Bp(s,g),Xe!==4&&(Xe=2)),!1;var x=Error(i(520),{cause:f});if(x=fi(x,l),ac===null?ac=[x]:ac.push(x),Xe!==4&&(Xe=2),r===null)return!0;f=fi(f,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=im(l.stateNode,f,s),Bp(l,s),!1;case 1:if(r=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ir===null||!ir.has(x))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Tb(g),Eb(g,s,l,f),Bp(l,g),!1}l=l.return}while(l!==null);return!1}var Ab=Error(i(461)),cn=!1;function mn(s,r,l,f){r.child=s===null?yb(r,null,l,f):ro(r,s.child,l,f)}function Rb(s,r,l,f,g){l=l.render;var x=r.ref;if("ref"in f){var E={};for(var L in f)L!=="ref"&&(E[L]=f[L])}else E=f;return Zr(r),f=Hp(s,r,l,E,x,g),L=Ip(),s!==null&&!cn?(Fp(s,r,g),bs(s,r,g)):(ye&&L&&wp(r),r.flags|=1,mn(s,r,f,g),r.child)}function Cb(s,r,l,f,g){if(s===null){var x=l.type;return typeof x=="function"&&!bp(x)&&x.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=x,Lb(s,r,x,f,g)):(s=nf(l.type,null,f,r,r.mode,g),s.ref=r.ref,s.return=r,r.child=s)}if(x=s.child,!fm(s,g)){var E=x.memoizedProps;if(l=l.compare,l=l!==null?l:Bl,l(E,f)&&s.ref===r.ref)return bs(s,r,g)}return r.flags|=1,s=ds(x,f),s.ref=r.ref,s.return=r,r.child=s}function Lb(s,r,l,f,g){if(s!==null){var x=s.memoizedProps;if(Bl(x,f)&&s.ref===r.ref)if(cn=!1,r.pendingProps=f=x,fm(s,g))(s.flags&131072)!==0&&(cn=!0);else return r.lanes=s.lanes,bs(s,r,g)}return sm(s,r,l,f,g)}function Db(s,r,l){var f=r.pendingProps,g=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((r.flags&128)!==0){if(f=x!==null?x.baseLanes|l:l,s!==null){for(g=r.child=s.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;r.childLanes=x&~f}else r.childLanes=0,r.child=null;return Ob(s,r,f,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&lf(r,x!==null?x.cachePool:null),x!==null?Lx(r,x):Up(),vb(r);else return r.lanes=r.childLanes=536870912,Ob(s,r,x!==null?x.baseLanes|l:l,l)}else x!==null?(lf(r,x.cachePool),Lx(r,x),Js(),r.memoizedState=null):(s!==null&&lf(r,null),Up(),Js());return mn(s,r,g,l),r.child}function Ob(s,r,l,f){var g=Dp();return g=g===null?null:{parent:sn._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},s!==null&&lf(r,null),Up(),vb(r),s!==null&&Hl(s,r,f,!0),null}function Tf(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function sm(s,r,l,f,g){return Zr(r),l=Hp(s,r,l,f,void 0,g),f=Ip(),s!==null&&!cn?(Fp(s,r,g),bs(s,r,g)):(ye&&f&&wp(r),r.flags|=1,mn(s,r,l,g),r.child)}function Pb(s,r,l,f,g,x){return Zr(r),r.updateQueue=null,l=Ox(r,f,l,g),Dx(s),f=Ip(),s!==null&&!cn?(Fp(s,r,x),bs(s,r,x)):(ye&&f&&wp(r),r.flags|=1,mn(s,r,l,x),r.child)}function Nb(s,r,l,f,g){if(Zr(r),r.stateNode===null){var x=Za,E=l.contextType;typeof E=="object"&&E!==null&&(x=Sn(E)),x=new l(f,x),r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=nm,r.stateNode=x,x._reactInternals=r,x=r.stateNode,x.props=f,x.state=r.memoizedState,x.refs={},Pp(r),E=l.contextType,x.context=typeof E=="object"&&E!==null?Sn(E):Za,x.state=r.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(em(r,l,E,f),x.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(E=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),E!==x.state&&nm.enqueueReplaceState(x,x.state,null),Xl(r,f,x,g),ql(),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(s===null){x=r.stateNode;var L=r.memoizedProps,V=Kr(l,L);x.props=V;var Q=x.context,it=l.contextType;E=Za,typeof it=="object"&&it!==null&&(E=Sn(it));var ot=l.getDerivedStateFromProps;it=typeof ot=="function"||typeof x.getSnapshotBeforeUpdate=="function",L=r.pendingProps!==L,it||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L||Q!==E)&&bb(r,x,f,E),qs=!1;var $=r.memoizedState;x.state=$,Xl(r,f,x,g),ql(),Q=r.memoizedState,L||$!==Q||qs?(typeof ot=="function"&&(em(r,l,ot,f),Q=r.memoizedState),(V=qs||xb(r,l,V,f,$,Q,E))?(it||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=Q),x.props=f,x.state=Q,x.context=E,f=V):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{x=r.stateNode,Np(s,r),E=r.memoizedProps,it=Kr(l,E),x.props=it,ot=r.pendingProps,$=x.context,Q=l.contextType,V=Za,typeof Q=="object"&&Q!==null&&(V=Sn(Q)),L=l.getDerivedStateFromProps,(Q=typeof L=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==ot||$!==V)&&bb(r,x,f,V),qs=!1,$=r.memoizedState,x.state=$,Xl(r,f,x,g),ql();var tt=r.memoizedState;E!==ot||$!==tt||qs||s!==null&&s.dependencies!==null&&af(s.dependencies)?(typeof L=="function"&&(em(r,l,L,f),tt=r.memoizedState),(it=qs||xb(r,l,it,f,$,tt,V)||s!==null&&s.dependencies!==null&&af(s.dependencies))?(Q||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,tt,V),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,tt,V)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=tt),x.props=f,x.state=tt,x.context=V,f=it):(typeof x.componentDidUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),f=!1)}return x=f,Tf(s,r),f=(r.flags&128)!==0,x||f?(x=r.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:x.render(),r.flags|=1,s!==null&&f?(r.child=ro(r,s.child,null,g),r.child=ro(r,null,l,g)):mn(s,r,l,g),r.memoizedState=x.state,s=r.child):s=bs(s,r,g),s}function Bb(s,r,l,f){return Vl(),r.flags|=256,mn(s,r,l,f),r.child}var rm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function am(s){return{baseLanes:s,cachePool:Mx()}}function om(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=gi),s}function zb(s,r,l){var f=r.pendingProps,g=!1,x=(r.flags&128)!==0,E;if((E=x)||(E=s!==null&&s.memoizedState===null?!1:(rn.current&2)!==0),E&&(g=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,s===null){if(ye){if(g?Qs(r):Js(),ye){var L=qe,V;if(V=L){t:{for(V=L,L=Wi;V.nodeType!==8;){if(!L){L=null;break t}if(V=Li(V.nextSibling),V===null){L=null;break t}}L=V}L!==null?(r.memoizedState={dehydrated:L,treeContext:Wr!==null?{id:ps,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},V=Yn(18,null,null,0),V.stateNode=L,V.return=r,r.child=V,Dn=r,qe=null,V=!0):V=!1}V||Xr(r)}if(L=r.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return Wm(L)?r.lanes=32:r.lanes=536870912,null;xs(r)}return L=f.children,f=f.fallback,g?(Js(),g=r.mode,L=Ef({mode:"hidden",children:L},g),f=kr(f,g,l,null),L.return=r,f.return=r,L.sibling=f,r.child=L,g=r.child,g.memoizedState=am(l),g.childLanes=om(s,E,l),r.memoizedState=rm,f):(Qs(r),lm(r,L))}if(V=s.memoizedState,V!==null&&(L=V.dehydrated,L!==null)){if(x)r.flags&256?(Qs(r),r.flags&=-257,r=cm(s,r,l)):r.memoizedState!==null?(Js(),r.child=s.child,r.flags|=128,r=null):(Js(),g=f.fallback,L=r.mode,f=Ef({mode:"visible",children:f.children},L),g=kr(g,L,l,null),g.flags|=2,f.return=r,g.return=r,f.sibling=g,r.child=f,ro(r,s.child,null,l),f=r.child,f.memoizedState=am(l),f.childLanes=om(s,E,l),r.memoizedState=rm,r=g);else if(Qs(r),Wm(L)){if(E=L.nextSibling&&L.nextSibling.dataset,E)var Q=E.dgst;E=Q,f=Error(i(419)),f.stack="",f.digest=E,Gl({value:f,source:null,stack:null}),r=cm(s,r,l)}else if(cn||Hl(s,r,l,!1),E=(l&s.childLanes)!==0,cn||E){if(E=Le,E!==null&&(f=l&-l,f=(f&42)!==0?1:Al(f),f=(f&(E.suspendedLanes|l))!==0?0:f,f!==0&&f!==V.retryLane))throw V.retryLane=f,Ya(s,f),$n(E,s,f),Ab;L.data==="$?"||Am(),r=cm(s,r,l)}else L.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=V.treeContext,qe=Li(L.nextSibling),Dn=r,ye=!0,qr=null,Wi=!1,s!==null&&(di[pi++]=ps,di[pi++]=ms,di[pi++]=Wr,ps=s.id,ms=s.overflow,Wr=r),r=lm(r,f.children),r.flags|=4096);return r}return g?(Js(),g=f.fallback,L=r.mode,V=s.child,Q=V.sibling,f=ds(V,{mode:"hidden",children:f.children}),f.subtreeFlags=V.subtreeFlags&65011712,Q!==null?g=ds(Q,g):(g=kr(g,L,l,null),g.flags|=2),g.return=r,f.return=r,f.sibling=g,r.child=f,f=g,g=r.child,L=s.child.memoizedState,L===null?L=am(l):(V=L.cachePool,V!==null?(Q=sn._currentValue,V=V.parent!==Q?{parent:Q,pool:Q}:V):V=Mx(),L={baseLanes:L.baseLanes|l,cachePool:V}),g.memoizedState=L,g.childLanes=om(s,E,l),r.memoizedState=rm,f):(Qs(r),l=s.child,s=l.sibling,l=ds(l,{mode:"visible",children:f.children}),l.return=r,l.sibling=null,s!==null&&(E=r.deletions,E===null?(r.deletions=[s],r.flags|=16):E.push(s)),r.child=l,r.memoizedState=null,l)}function lm(s,r){return r=Ef({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Ef(s,r){return s=Yn(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function cm(s,r,l){return ro(r,s.child,null,l),s=lm(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Ub(s,r,l){s.lanes|=r;var f=s.alternate;f!==null&&(f.lanes|=r),Ap(s.return,r,l)}function um(s,r,l,f,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=l,x.tailMode=g)}function Vb(s,r,l){var f=r.pendingProps,g=f.revealOrder,x=f.tail;if(mn(s,r,f.children,l),f=rn.current,(f&2)!==0)f=f&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ub(s,l,r);else if(s.tag===19)Ub(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(yt(rn,f),g){case"forwards":for(l=r.child,g=null;l!==null;)s=l.alternate,s!==null&&Mf(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),um(r,!1,g,l,x);break;case"backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(s=g.alternate,s!==null&&Mf(s)===null){r.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}um(r,!0,l,null,x);break;case"together":um(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function bs(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),nr|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(Hl(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=ds(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=ds(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function fm(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&af(s)))}function o3(s,r,l){switch(r.tag){case 3:ie(r,r.stateNode.containerInfo),js(r,sn,s.memoizedState.cache),Vl();break;case 27:case 5:ce(r);break;case 4:ie(r,r.stateNode.containerInfo);break;case 10:js(r,r.type,r.memoizedProps.value);break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(Qs(r),r.flags|=128,null):(l&r.child.childLanes)!==0?zb(s,r,l):(Qs(r),s=bs(s,r,l),s!==null?s.sibling:null);Qs(r);break;case 19:var g=(s.flags&128)!==0;if(f=(l&r.childLanes)!==0,f||(Hl(s,r,l,!1),f=(l&r.childLanes)!==0),g){if(f)return Vb(s,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),yt(rn,rn.current),f)break;return null;case 22:case 23:return r.lanes=0,Db(s,r,l);case 24:js(r,sn,s.memoizedState.cache)}return bs(s,r,l)}function Gb(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)cn=!0;else{if(!fm(s,l)&&(r.flags&128)===0)return cn=!1,o3(s,r,l);cn=(s.flags&131072)!==0}else cn=!1,ye&&(r.flags&1048576)!==0&&mx(r,rf,r.index);switch(r.lanes=0,r.tag){case 16:t:{s=r.pendingProps;var f=r.elementType,g=f._init;if(f=g(f._payload),r.type=f,typeof f=="function")bp(f)?(s=Kr(f,s),r.tag=1,r=Nb(null,r,f,s,l)):(r.tag=0,r=sm(null,r,f,s,l));else{if(f!=null){if(g=f.$$typeof,g===R){r.tag=11,r=Rb(null,r,f,s,l);break t}else if(g===O){r.tag=14,r=Cb(null,r,f,s,l);break t}}throw r=F(f)||f,Error(i(306,r,""))}}return r;case 0:return sm(s,r,r.type,r.pendingProps,l);case 1:return f=r.type,g=Kr(f,r.pendingProps),Nb(s,r,f,g,l);case 3:t:{if(ie(r,r.stateNode.containerInfo),s===null)throw Error(i(387));f=r.pendingProps;var x=r.memoizedState;g=x.element,Np(s,r),Xl(r,f,null,l);var E=r.memoizedState;if(f=E.cache,js(r,sn,f),f!==x.cache&&Rp(r,[sn],l,!0),ql(),f=E.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){r=Bb(s,r,f,l);break t}else if(f!==g){g=fi(Error(i(424)),r),Gl(g),r=Bb(s,r,f,l);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(qe=Li(s.firstChild),Dn=r,ye=!0,qr=null,Wi=!0,l=yb(r,null,f,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Vl(),f===g){r=bs(s,r,l);break t}mn(s,r,f,l)}r=r.child}return r;case 26:return Tf(s,r),s===null?(l=k_(r.type,null,r.pendingProps,null))?r.memoizedState=l:ye||(l=r.type,s=r.pendingProps,f=Hf(Me.current).createElement(l),f[pt]=r,f[Wt]=s,yn(f,l,s),je(f),r.stateNode=f):r.memoizedState=k_(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return ce(r),s===null&&ye&&(f=r.stateNode=H_(r.type,r.pendingProps,Me.current),Dn=r,Wi=!0,g=qe,ar(r.type)?(jm=g,qe=Li(f.firstChild)):qe=g),mn(s,r,r.pendingProps.children,l),Tf(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&ye&&((g=f=qe)&&(f=B3(f,r.type,r.pendingProps,Wi),f!==null?(r.stateNode=f,Dn=r,qe=Li(f.firstChild),Wi=!1,g=!0):g=!1),g||Xr(r)),ce(r),g=r.type,x=r.pendingProps,E=s!==null?s.memoizedProps:null,f=x.children,Im(g,x)?f=null:E!==null&&Im(g,E)&&(r.flags|=32),r.memoizedState!==null&&(g=Hp(s,r,$2,null,null,l),mc._currentValue=g),Tf(s,r),mn(s,r,f,l),r.child;case 6:return s===null&&ye&&((s=l=qe)&&(l=z3(l,r.pendingProps,Wi),l!==null?(r.stateNode=l,Dn=r,qe=null,s=!0):s=!1),s||Xr(r)),null;case 13:return zb(s,r,l);case 4:return ie(r,r.stateNode.containerInfo),f=r.pendingProps,s===null?r.child=ro(r,null,f,l):mn(s,r,f,l),r.child;case 11:return Rb(s,r,r.type,r.pendingProps,l);case 7:return mn(s,r,r.pendingProps,l),r.child;case 8:return mn(s,r,r.pendingProps.children,l),r.child;case 12:return mn(s,r,r.pendingProps.children,l),r.child;case 10:return f=r.pendingProps,js(r,r.type,f.value),mn(s,r,f.children,l),r.child;case 9:return g=r.type._context,f=r.pendingProps.children,Zr(r),g=Sn(g),f=f(g),r.flags|=1,mn(s,r,f,l),r.child;case 14:return Cb(s,r,r.type,r.pendingProps,l);case 15:return Lb(s,r,r.type,r.pendingProps,l);case 19:return Vb(s,r,l);case 31:return f=r.pendingProps,l=r.mode,f={mode:f.mode,children:f.children},s===null?(l=Ef(f,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=ds(s.child,f),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return Db(s,r,l);case 24:return Zr(r),f=Sn(sn),s===null?(g=Dp(),g===null&&(g=Le,x=Cp(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=l),g=x),r.memoizedState={parent:f,cache:g},Pp(r),js(r,sn,g)):((s.lanes&l)!==0&&(Np(s,r),Xl(r,null,null,l),ql()),g=s.memoizedState,x=r.memoizedState,g.parent!==f?(g={parent:f,cache:f},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),js(r,sn,f)):(f=x.cache,js(r,sn,f),f!==g.cache&&Rp(r,[sn],l,!0))),mn(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function _s(s){s.flags|=4}function Hb(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Y_(r)){if(r=mi.current,r!==null&&((pe&4194048)===pe?ji!==null:(pe&62914560)!==pe&&(pe&536870912)===0||r!==ji))throw Wl=Op,wx;s.flags|=8192}}function Af(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Tl():536870912,s.lanes|=r,co|=r)}function tc(s,r){if(!ye)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function He(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,f=0;if(r)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=l,r}function l3(s,r,l){var f=r.pendingProps;switch(Sp(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(r),null;case 1:return He(r),null;case 3:return l=r.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),ys(sn),kt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Ul(r)?_s(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,vx())),He(r),null;case 26:return l=r.memoizedState,s===null?(_s(r),l!==null?(He(r),Hb(r,l)):(He(r),r.flags&=-16777217)):l?l!==s.memoizedState?(_s(r),He(r),Hb(r,l)):(He(r),r.flags&=-16777217):(s.memoizedProps!==f&&_s(r),He(r),r.flags&=-16777217),null;case 27:$t(r),l=Me.current;var g=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==f&&_s(r);else{if(!f){if(r.stateNode===null)throw Error(i(166));return He(r),null}s=Gt.current,Ul(r)?gx(r):(s=H_(g,f,l),r.stateNode=s,_s(r))}return He(r),null;case 5:if($t(r),l=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==f&&_s(r);else{if(!f){if(r.stateNode===null)throw Error(i(166));return He(r),null}if(s=Gt.current,Ul(r))gx(r);else{switch(g=Hf(Me.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?g.createElement(l,{is:f.is}):g.createElement(l)}}s[pt]=r,s[Wt]=f;t:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break t;for(;g.sibling===null;){if(g.return===null||g.return===r)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=s;t:switch(yn(s,l,f),l){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&_s(r)}}return He(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==f&&_s(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(i(166));if(s=Me.current,Ul(r)){if(s=r.stateNode,l=r.memoizedProps,f=null,g=Dn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}s[pt]=r,s=!!(s.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||P_(s.nodeValue,l)),s||Xr(r)}else s=Hf(s).createTextNode(f),s[pt]=r,r.stateNode=s}return He(r),null;case 13:if(f=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Ul(r),f!==null&&f.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[pt]=r}else Vl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;He(r),g=!1}else g=vx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(xs(r),r):(xs(r),null)}if(xs(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=f!==null,s=s!==null&&s.memoizedState!==null,l){f=r.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var x=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==g&&(f.flags|=2048)}return l!==s&&l&&(r.child.flags|=8192),Af(r,r.updateQueue),He(r),null;case 4:return kt(),s===null&&zm(r.stateNode.containerInfo),He(r),null;case 10:return ys(r.type),He(r),null;case 19:if(At(rn),g=r.memoizedState,g===null)return He(r),null;if(f=(r.flags&128)!==0,x=g.rendering,x===null)if(f)tc(g,!1);else{if(Xe!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(x=Mf(s),x!==null){for(r.flags|=128,tc(g,!1),s=x.updateQueue,r.updateQueue=s,Af(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)px(l,s),l=l.sibling;return yt(rn,rn.current&1|2),r.child}s=s.sibling}g.tail!==null&&U()>Lf&&(r.flags|=128,f=!0,tc(g,!1),r.lanes=4194304)}else{if(!f)if(s=Mf(x),s!==null){if(r.flags|=128,f=!0,s=s.updateQueue,r.updateQueue=s,Af(r,s),tc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!ye)return He(r),null}else 2*U()-g.renderingStartTime>Lf&&l!==536870912&&(r.flags|=128,f=!0,tc(g,!1),r.lanes=4194304);g.isBackwards?(x.sibling=r.child,r.child=x):(s=g.last,s!==null?s.sibling=x:r.child=x,g.last=x)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=U(),r.sibling=null,s=rn.current,yt(rn,f?s&1|2:s&1),r):(He(r),null);case 22:case 23:return xs(r),Vp(),f=r.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(l&536870912)!==0&&(r.flags&128)===0&&(He(r),r.subtreeFlags&6&&(r.flags|=8192)):He(r),l=r.updateQueue,l!==null&&Af(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==l&&(r.flags|=2048),s!==null&&At(Qr),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ys(sn),He(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function c3(s,r){switch(Sp(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return ys(sn),kt(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return $t(r),null;case 13:if(xs(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Vl()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return At(rn),null;case 4:return kt(),null;case 10:return ys(r.type),null;case 22:case 23:return xs(r),Vp(),s!==null&&At(Qr),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return ys(sn),null;case 25:return null;default:return null}}function Ib(s,r){switch(Sp(r),r.tag){case 3:ys(sn),kt();break;case 26:case 27:case 5:$t(r);break;case 4:kt();break;case 13:xs(r);break;case 19:At(rn);break;case 10:ys(r.type);break;case 22:case 23:xs(r),Vp(),s!==null&&At(Qr);break;case 24:ys(sn)}}function ec(s,r){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&s)===s){f=void 0;var x=l.create,E=l.inst;f=x(),E.destroy=f}l=l.next}while(l!==g)}}catch(L){Ce(r,r.return,L)}}function Ks(s,r,l){try{var f=r.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var x=g.next;f=x;do{if((f.tag&s)===s){var E=f.inst,L=E.destroy;if(L!==void 0){E.destroy=void 0,g=r;var V=l,Q=L;try{Q()}catch(it){Ce(g,V,it)}}}f=f.next}while(f!==x)}}catch(it){Ce(r,r.return,it)}}function Fb(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{Cx(r,l)}catch(f){Ce(s,s.return,f)}}}function kb(s,r,l){l.props=Kr(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(f){Ce(s,r,f)}}function nc(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof l=="function"?s.refCleanup=l(f):l.current=f}}catch(g){Ce(s,r,g)}}function qi(s,r){var l=s.ref,f=s.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){Ce(s,r,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Ce(s,r,g)}else l.current=null}function Wb(s){var r=s.type,l=s.memoizedProps,f=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break t;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){Ce(s,s.return,g)}}function hm(s,r,l){try{var f=s.stateNode;L3(f,s.type,l,r),f[Wt]=r}catch(g){Ce(s,s.return,g)}}function jb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ar(s.type)||s.tag===4}function dm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||jb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ar(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pm(s,r,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Gf));else if(f!==4&&(f===27&&ar(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(pm(s,r,l),s=s.sibling;s!==null;)pm(s,r,l),s=s.sibling}function Rf(s,r,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(f!==4&&(f===27&&ar(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Rf(s,r,l),s=s.sibling;s!==null;)Rf(s,r,l),s=s.sibling}function qb(s){var r=s.stateNode,l=s.memoizedProps;try{for(var f=s.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);yn(r,f,l),r[pt]=s,r[Wt]=l}catch(x){Ce(s,s.return,x)}}var Ms=!1,Je=!1,mm=!1,Xb=typeof WeakSet=="function"?WeakSet:Set,un=null;function u3(s,r){if(s=s.containerInfo,Gm=qf,s=sx(s),dp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break t}var E=0,L=-1,V=-1,Q=0,it=0,ot=s,$=null;e:for(;;){for(var tt;ot!==l||g!==0&&ot.nodeType!==3||(L=E+g),ot!==x||f!==0&&ot.nodeType!==3||(V=E+f),ot.nodeType===3&&(E+=ot.nodeValue.length),(tt=ot.firstChild)!==null;)$=ot,ot=tt;for(;;){if(ot===s)break e;if($===l&&++Q===g&&(L=E),$===x&&++it===f&&(V=E),(tt=ot.nextSibling)!==null)break;ot=$,$=ot.parentNode}ot=tt}l=L===-1||V===-1?null:{start:L,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(Hm={focusedElem:s,selectionRange:l},qf=!1,un=r;un!==null;)if(r=un,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,un=s;else for(;un!==null;){switch(r=un,x=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,l=r,g=x.memoizedProps,x=x.memoizedState,f=l.stateNode;try{var Jt=Kr(l.type,g,l.elementType===l.type);s=f.getSnapshotBeforeUpdate(Jt,x),f.__reactInternalSnapshotBeforeUpdate=s}catch(jt){Ce(l,l.return,jt)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)km(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":km(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,un=s;break}un=r.return}}function Yb(s,r,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:$s(s,l),f&4&&ec(5,l);break;case 1:if($s(s,l),f&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(E){Ce(l,l.return,E)}else{var g=Kr(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(g,r,s.__reactInternalSnapshotBeforeUpdate)}catch(E){Ce(l,l.return,E)}}f&64&&Fb(l),f&512&&nc(l,l.return);break;case 3:if($s(s,l),f&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Cx(s,r)}catch(E){Ce(l,l.return,E)}}break;case 27:r===null&&f&4&&qb(l);case 26:case 5:$s(s,l),r===null&&f&4&&Wb(l),f&512&&nc(l,l.return);break;case 12:$s(s,l);break;case 13:$s(s,l),f&4&&Jb(s,l),f&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=x3.bind(null,l),U3(s,l))));break;case 22:if(f=l.memoizedState!==null||Ms,!f){r=r!==null&&r.memoizedState!==null||Je,g=Ms;var x=Je;Ms=f,(Je=r)&&!x?tr(s,l,(l.subtreeFlags&8772)!==0):$s(s,l),Ms=g,Je=x}break;case 30:break;default:$s(s,l)}}function Zb(s){var r=s.alternate;r!==null&&(s.alternate=null,Zb(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&ve(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ve=null,Fn=!1;function ws(s,r,l){for(l=l.child;l!==null;)Qb(s,r,l),l=l.sibling}function Qb(s,r,l){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Dt,l)}catch{}switch(l.tag){case 26:Je||qi(l,r),ws(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Je||qi(l,r);var f=Ve,g=Fn;ar(l.type)&&(Ve=l.stateNode,Fn=!1),ws(s,r,l),fc(l.stateNode),Ve=f,Fn=g;break;case 5:Je||qi(l,r);case 6:if(f=Ve,g=Fn,Ve=null,ws(s,r,l),Ve=f,Fn=g,Ve!==null)if(Fn)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(l.stateNode)}catch(x){Ce(l,r,x)}else try{Ve.removeChild(l.stateNode)}catch(x){Ce(l,r,x)}break;case 18:Ve!==null&&(Fn?(s=Ve,V_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),xc(s)):V_(Ve,l.stateNode));break;case 4:f=Ve,g=Fn,Ve=l.stateNode.containerInfo,Fn=!0,ws(s,r,l),Ve=f,Fn=g;break;case 0:case 11:case 14:case 15:Je||Ks(2,l,r),Je||Ks(4,l,r),ws(s,r,l);break;case 1:Je||(qi(l,r),f=l.stateNode,typeof f.componentWillUnmount=="function"&&kb(l,r,f)),ws(s,r,l);break;case 21:ws(s,r,l);break;case 22:Je=(f=Je)||l.memoizedState!==null,ws(s,r,l),Je=f;break;default:ws(s,r,l)}}function Jb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{xc(s)}catch(l){Ce(r,r.return,l)}}function f3(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Xb),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Xb),r;default:throw Error(i(435,s.tag))}}function gm(s,r){var l=f3(s);r.forEach(function(f){var g=b3.bind(null,s,f);l.has(f)||(l.add(f),f.then(g,g))})}function Zn(s,r){var l=r.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],x=s,E=r,L=E;t:for(;L!==null;){switch(L.tag){case 27:if(ar(L.type)){Ve=L.stateNode,Fn=!1;break t}break;case 5:Ve=L.stateNode,Fn=!1;break t;case 3:case 4:Ve=L.stateNode.containerInfo,Fn=!0;break t}L=L.return}if(Ve===null)throw Error(i(160));Qb(x,E,g),Ve=null,Fn=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Kb(r,s),r=r.sibling}var Ci=null;function Kb(s,r){var l=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Zn(r,s),Qn(s),f&4&&(Ks(3,s,s.return),ec(3,s),Ks(5,s,s.return));break;case 1:Zn(r,s),Qn(s),f&512&&(Je||l===null||qi(l,l.return)),f&64&&Ms&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=Ci;if(Zn(r,s),Qn(s),f&512&&(Je||l===null||qi(l,l.return)),f&4){var x=l!==null?l.memoizedState:null;if(f=s.memoizedState,l===null)if(f===null)if(s.stateNode===null){t:{f=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(f){case"title":x=g.getElementsByTagName("title")[0],(!x||x[te]||x[pt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(f),g.head.insertBefore(x,g.querySelector("head > title"))),yn(x,f,l),x[pt]=s,je(x),f=x;break t;case"link":var E=q_("link","href",g).get(f+(l.href||""));if(E){for(var L=0;L<E.length;L++)if(x=E[L],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(L,1);break e}}x=g.createElement(f),yn(x,f,l),g.head.appendChild(x);break;case"meta":if(E=q_("meta","content",g).get(f+(l.content||""))){for(L=0;L<E.length;L++)if(x=E[L],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(L,1);break e}}x=g.createElement(f),yn(x,f,l),g.head.appendChild(x);break;default:throw Error(i(468,f))}x[pt]=s,je(x),f=x}s.stateNode=f}else X_(g,s.type,s.stateNode);else s.stateNode=j_(g,f,s.memoizedProps);else x!==f?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,f===null?X_(g,s.type,s.stateNode):j_(g,f,s.memoizedProps)):f===null&&s.stateNode!==null&&hm(s,s.memoizedProps,l.memoizedProps)}break;case 27:Zn(r,s),Qn(s),f&512&&(Je||l===null||qi(l,l.return)),l!==null&&f&4&&hm(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Zn(r,s),Qn(s),f&512&&(Je||l===null||qi(l,l.return)),s.flags&32){g=s.stateNode;try{Ia(g,"")}catch(tt){Ce(s,s.return,tt)}}f&4&&s.stateNode!=null&&(g=s.memoizedProps,hm(s,g,l!==null?l.memoizedProps:g)),f&1024&&(mm=!0);break;case 6:if(Zn(r,s),Qn(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,l=s.stateNode;try{l.nodeValue=f}catch(tt){Ce(s,s.return,tt)}}break;case 3:if(kf=null,g=Ci,Ci=If(r.containerInfo),Zn(r,s),Ci=g,Qn(s),f&4&&l!==null&&l.memoizedState.isDehydrated)try{xc(r.containerInfo)}catch(tt){Ce(s,s.return,tt)}mm&&(mm=!1,$b(s));break;case 4:f=Ci,Ci=If(s.stateNode.containerInfo),Zn(r,s),Qn(s),Ci=f;break;case 12:Zn(r,s),Qn(s);break;case 13:Zn(r,s),Qn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Mm=U()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,gm(s,f)));break;case 22:g=s.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,Q=Ms,it=Je;if(Ms=Q||g,Je=it||V,Zn(r,s),Je=it,Ms=Q,Qn(s),f&8192)t:for(r=s.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||V||Ms||Je||$r(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){V=l=r;try{if(x=V.stateNode,g)E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{L=V.stateNode;var ot=V.memoizedProps.style,$=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;L.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(tt){Ce(V,V.return,tt)}}}else if(r.tag===6){if(l===null){V=r;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(tt){Ce(V,V.return,tt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=s.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,gm(s,l))));break;case 19:Zn(r,s),Qn(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,gm(s,f)));break;case 30:break;case 21:break;default:Zn(r,s),Qn(s)}}function Qn(s){var r=s.flags;if(r&2){try{for(var l,f=s.return;f!==null;){if(jb(f)){l=f;break}f=f.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,x=dm(s);Rf(s,x,g);break;case 5:var E=l.stateNode;l.flags&32&&(Ia(E,""),l.flags&=-33);var L=dm(s);Rf(s,L,E);break;case 3:case 4:var V=l.stateNode.containerInfo,Q=dm(s);pm(s,Q,V);break;default:throw Error(i(161))}}catch(it){Ce(s,s.return,it)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function $b(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;$b(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function $s(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Yb(s,r.alternate,r),r=r.sibling}function $r(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Ks(4,r,r.return),$r(r);break;case 1:qi(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&kb(r,r.return,l),$r(r);break;case 27:fc(r.stateNode);case 26:case 5:qi(r,r.return),$r(r);break;case 22:r.memoizedState===null&&$r(r);break;case 30:$r(r);break;default:$r(r)}s=s.sibling}}function tr(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,g=s,x=r,E=x.flags;switch(x.tag){case 0:case 11:case 15:tr(g,x,l),ec(4,x);break;case 1:if(tr(g,x,l),f=x,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Q){Ce(f,f.return,Q)}if(f=x,g=f.updateQueue,g!==null){var L=f.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)Rx(V[g],L)}catch(Q){Ce(f,f.return,Q)}}l&&E&64&&Fb(x),nc(x,x.return);break;case 27:qb(x);case 26:case 5:tr(g,x,l),l&&f===null&&E&4&&Wb(x),nc(x,x.return);break;case 12:tr(g,x,l);break;case 13:tr(g,x,l),l&&E&4&&Jb(g,x);break;case 22:x.memoizedState===null&&tr(g,x,l),nc(x,x.return);break;case 30:break;default:tr(g,x,l)}r=r.sibling}}function ym(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Il(l))}function vm(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Il(s))}function Xi(s,r,l,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)t_(s,r,l,f),r=r.sibling}function t_(s,r,l,f){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(s,r,l,f),g&2048&&ec(9,r);break;case 1:Xi(s,r,l,f);break;case 3:Xi(s,r,l,f),g&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Il(s)));break;case 12:if(g&2048){Xi(s,r,l,f),s=r.stateNode;try{var x=r.memoizedProps,E=x.id,L=x.onPostCommit;typeof L=="function"&&L(E,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){Ce(r,r.return,V)}}else Xi(s,r,l,f);break;case 13:Xi(s,r,l,f);break;case 23:break;case 22:x=r.stateNode,E=r.alternate,r.memoizedState!==null?x._visibility&2?Xi(s,r,l,f):ic(s,r):x._visibility&2?Xi(s,r,l,f):(x._visibility|=2,ao(s,r,l,f,(r.subtreeFlags&10256)!==0)),g&2048&&ym(E,r);break;case 24:Xi(s,r,l,f),g&2048&&vm(r.alternate,r);break;default:Xi(s,r,l,f)}}function ao(s,r,l,f,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var x=s,E=r,L=l,V=f,Q=E.flags;switch(E.tag){case 0:case 11:case 15:ao(x,E,L,V,g),ec(8,E);break;case 23:break;case 22:var it=E.stateNode;E.memoizedState!==null?it._visibility&2?ao(x,E,L,V,g):ic(x,E):(it._visibility|=2,ao(x,E,L,V,g)),g&&Q&2048&&ym(E.alternate,E);break;case 24:ao(x,E,L,V,g),g&&Q&2048&&vm(E.alternate,E);break;default:ao(x,E,L,V,g)}r=r.sibling}}function ic(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,f=r,g=f.flags;switch(f.tag){case 22:ic(l,f),g&2048&&ym(f.alternate,f);break;case 24:ic(l,f),g&2048&&vm(f.alternate,f);break;default:ic(l,f)}r=r.sibling}}var sc=8192;function oo(s){if(s.subtreeFlags&sc)for(s=s.child;s!==null;)e_(s),s=s.sibling}function e_(s){switch(s.tag){case 26:oo(s),s.flags&sc&&s.memoizedState!==null&&Q3(Ci,s.memoizedState,s.memoizedProps);break;case 5:oo(s);break;case 3:case 4:var r=Ci;Ci=If(s.stateNode.containerInfo),oo(s),Ci=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=sc,sc=16777216,oo(s),sc=r):oo(s));break;default:oo(s)}}function n_(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function rc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];un=f,s_(f,s)}n_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)i_(s),s=s.sibling}function i_(s){switch(s.tag){case 0:case 11:case 15:rc(s),s.flags&2048&&Ks(9,s,s.return);break;case 3:rc(s);break;case 12:rc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Cf(s)):rc(s);break;default:rc(s)}}function Cf(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];un=f,s_(f,s)}n_(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Ks(8,r,r.return),Cf(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Cf(r));break;default:Cf(r)}s=s.sibling}}function s_(s,r){for(;un!==null;){var l=un;switch(l.tag){case 0:case 11:case 15:Ks(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Il(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,un=f;else t:for(l=s;un!==null;){f=un;var g=f.sibling,x=f.return;if(Zb(f),f===l){un=null;break t}if(g!==null){g.return=x,un=g;break t}un=x}}}var h3={getCacheForType:function(s){var r=Sn(sn),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l}},d3=typeof WeakMap=="function"?WeakMap:Map,xe=0,Le=null,he=null,pe=0,be=0,Jn=null,er=!1,lo=!1,xm=!1,Ss=0,Xe=0,nr=0,ta=0,bm=0,gi=0,co=0,ac=null,kn=null,_m=!1,Mm=0,Lf=1/0,Df=null,ir=null,gn=0,sr=null,uo=null,fo=0,wm=0,Sm=null,r_=null,oc=0,Tm=null;function Kn(){if((xe&2)!==0&&pe!==0)return pe&-pe;if(z.T!==null){var s=Ka;return s!==0?s:Om()}return nt()}function a_(){gi===0&&(gi=(pe&536870912)===0||ye?Is():536870912);var s=mi.current;return s!==null&&(s.flags|=32),gi}function $n(s,r,l){(s===Le&&(be===2||be===9)||s.cancelPendingCommit!==null)&&(ho(s,0),rr(s,pe,gi,!1)),Fs(s,l),((xe&2)===0||s!==Le)&&(s===Le&&((xe&2)===0&&(ta|=l),Xe===4&&rr(s,pe,gi,!1)),Yi(s))}function o_(s,r,l){if((xe&6)!==0)throw Error(i(327));var f=!l&&(r&124)===0&&(r&s.expiredLanes)===0||us(s,r),g=f?g3(s,r):Rm(s,r,!0),x=f;do{if(g===0){lo&&!f&&rr(s,r,0,!1);break}else{if(l=s.current.alternate,x&&!p3(l)){g=Rm(s,r,!1),x=!1;continue}if(g===2){if(x=r,s.errorRecoveryDisabledLanes&x)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var L=s;g=ac;var V=L.current.memoizedState.isDehydrated;if(V&&(ho(L,E).flags|=256),E=Rm(L,E,!1),E!==2){if(xm&&!V){L.errorRecoveryDisabledLanes|=x,ta|=x,g=4;break t}x=kn,kn=g,x!==null&&(kn===null?kn=x:kn.push.apply(kn,x))}g=E}if(x=!1,g!==2)continue}}if(g===1){ho(s,0),rr(s,r,0,!0);break}t:{switch(f=s,x=g,x){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:rr(f,r,gi,!er);break t;case 2:kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=Mm+300-U(),10<g)){if(rr(f,r,gi,!er),Ua(f,0,!0)!==0)break t;f.timeoutHandle=z_(l_.bind(null,f,l,kn,Df,_m,r,gi,ta,co,er,x,2,-0,0),g);break t}l_(f,l,kn,Df,_m,r,gi,ta,co,er,x,0,-0,0)}}break}while(!0);Yi(s)}function l_(s,r,l,f,g,x,E,L,V,Q,it,ot,$,tt){if(s.timeoutHandle=-1,ot=r.subtreeFlags,(ot&8192||(ot&16785408)===16785408)&&(pc={stylesheets:null,count:0,unsuspend:Z3},e_(r),ot=J3(),ot!==null)){s.cancelPendingCommit=ot(m_.bind(null,s,r,x,l,f,g,E,L,V,it,1,$,tt)),rr(s,x,E,!Q);return}m_(s,r,x,l,f,g,E,L,V)}function p3(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],x=g.getSnapshot;g=g.value;try{if(!Xn(x(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function rr(s,r,l,f){r&=~bm,r&=~ta,s.suspendedLanes|=r,s.pingedLanes&=~r,f&&(s.warmLanes|=r),f=s.expirationTimes;for(var g=r;0<g;){var x=31-Mt(g),E=1<<x;f[x]=-1,g&=~E}l!==0&&El(s,l,r)}function Of(){return(xe&6)===0?(lc(0),!1):!0}function Em(){if(he!==null){if(be===0)var s=he.return;else s=he,gs=Yr=null,kp(s),so=null,Kl=0,s=he;for(;s!==null;)Ib(s.alternate,s),s=s.return;he=null}}function ho(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,O3(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Em(),Le=s,he=l=ds(s.current,null),pe=r,be=0,Jn=null,er=!1,lo=us(s,r),xm=!1,co=gi=bm=ta=nr=Xe=0,kn=ac=null,_m=!1,(r&8)!==0&&(r|=r&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=r;0<f;){var g=31-Mt(f),x=1<<g;r|=s[g],f&=~x}return Ss=r,$u(),l}function c_(s,r){oe=null,z.H=xf,r===kl||r===cf?(r=Ex(),be=3):r===wx?(r=Ex(),be=4):be=r===Ab?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Jn=r,he===null&&(Xe=1,Sf(s,fi(r,s.current)))}function u_(){var s=z.H;return z.H=xf,s===null?xf:s}function f_(){var s=z.A;return z.A=h3,s}function Am(){Xe=4,er||(pe&4194048)!==pe&&mi.current!==null||(lo=!0),(nr&134217727)===0&&(ta&134217727)===0||Le===null||rr(Le,pe,gi,!1)}function Rm(s,r,l){var f=xe;xe|=2;var g=u_(),x=f_();(Le!==s||pe!==r)&&(Df=null,ho(s,r)),r=!1;var E=Xe;t:do try{if(be!==0&&he!==null){var L=he,V=Jn;switch(be){case 8:Em(),E=6;break t;case 3:case 2:case 9:case 6:mi.current===null&&(r=!0);var Q=be;if(be=0,Jn=null,po(s,L,V,Q),l&&lo){E=0;break t}break;default:Q=be,be=0,Jn=null,po(s,L,V,Q)}}m3(),E=Xe;break}catch(it){c_(s,it)}while(!0);return r&&s.shellSuspendCounter++,gs=Yr=null,xe=f,z.H=g,z.A=x,he===null&&(Le=null,pe=0,$u()),E}function m3(){for(;he!==null;)h_(he)}function g3(s,r){var l=xe;xe|=2;var f=u_(),g=f_();Le!==s||pe!==r?(Df=null,Lf=U()+500,ho(s,r)):lo=us(s,r);t:do try{if(be!==0&&he!==null){r=he;var x=Jn;e:switch(be){case 1:be=0,Jn=null,po(s,r,x,1);break;case 2:case 9:if(Sx(x)){be=0,Jn=null,d_(r);break}r=function(){be!==2&&be!==9||Le!==s||(be=7),Yi(s)},x.then(r,r);break t;case 3:be=7;break t;case 4:be=5;break t;case 7:Sx(x)?(be=0,Jn=null,d_(r)):(be=0,Jn=null,po(s,r,x,7));break;case 5:var E=null;switch(he.tag){case 26:E=he.memoizedState;case 5:case 27:var L=he;if(!E||Y_(E)){be=0,Jn=null;var V=L.sibling;if(V!==null)he=V;else{var Q=L.return;Q!==null?(he=Q,Pf(Q)):he=null}break e}}be=0,Jn=null,po(s,r,x,5);break;case 6:be=0,Jn=null,po(s,r,x,6);break;case 8:Em(),Xe=6;break t;default:throw Error(i(462))}}y3();break}catch(it){c_(s,it)}while(!0);return gs=Yr=null,z.H=f,z.A=g,xe=l,he!==null?0:(Le=null,pe=0,$u(),Xe)}function y3(){for(;he!==null&&!It();)h_(he)}function h_(s){var r=Gb(s.alternate,s,Ss);s.memoizedProps=s.pendingProps,r===null?Pf(s):he=r}function d_(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=Pb(l,r,r.pendingProps,r.type,void 0,pe);break;case 11:r=Pb(l,r,r.pendingProps,r.type.render,r.ref,pe);break;case 5:kp(r);default:Ib(l,r),r=he=px(r,Ss),r=Gb(l,r,Ss)}s.memoizedProps=s.pendingProps,r===null?Pf(s):he=r}function po(s,r,l,f){gs=Yr=null,kp(r),so=null,Kl=0;var g=r.return;try{if(a3(s,g,r,l,pe)){Xe=1,Sf(s,fi(l,s.current)),he=null;return}}catch(x){if(g!==null)throw he=g,x;Xe=1,Sf(s,fi(l,s.current)),he=null;return}r.flags&32768?(ye||f===1?s=!0:lo||(pe&536870912)!==0?s=!1:(er=s=!0,(f===2||f===9||f===3||f===6)&&(f=mi.current,f!==null&&f.tag===13&&(f.flags|=16384))),p_(r,s)):Pf(r)}function Pf(s){var r=s;do{if((r.flags&32768)!==0){p_(r,er);return}s=r.return;var l=l3(r.alternate,r,Ss);if(l!==null){he=l;return}if(r=r.sibling,r!==null){he=r;return}he=r=s}while(r!==null);Xe===0&&(Xe=5)}function p_(s,r){do{var l=c3(s.alternate,s);if(l!==null){l.flags&=32767,he=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){he=s;return}he=s=l}while(s!==null);Xe=6,he=null}function m_(s,r,l,f,g,x,E,L,V){s.cancelPendingCommit=null;do Nf();while(gn!==0);if((xe&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(x=r.lanes|r.childLanes,x|=vp,Ai(s,l,x,E,L,V),s===Le&&(he=Le=null,pe=0),uo=r,sr=s,fo=l,wm=x,Sm=g,r_=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,_3(W,function(){return b_(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=z.T,z.T=null,g=q.p,q.p=2,E=xe,xe|=4;try{u3(s,r,l)}finally{xe=E,q.p=g,z.T=f}}gn=1,g_(),y_(),v_()}}function g_(){if(gn===1){gn=0;var s=sr,r=uo,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var f=q.p;q.p=2;var g=xe;xe|=4;try{Kb(r,s);var x=Hm,E=sx(s.containerInfo),L=x.focusedElem,V=x.selectionRange;if(E!==L&&L&&L.ownerDocument&&ix(L.ownerDocument.documentElement,L)){if(V!==null&&dp(L)){var Q=V.start,it=V.end;if(it===void 0&&(it=Q),"selectionStart"in L)L.selectionStart=Q,L.selectionEnd=Math.min(it,L.value.length);else{var ot=L.ownerDocument||document,$=ot&&ot.defaultView||window;if($.getSelection){var tt=$.getSelection(),Jt=L.textContent.length,jt=Math.min(V.start,Jt),Te=V.end===void 0?jt:Math.min(V.end,Jt);!tt.extend&&jt>Te&&(E=Te,Te=jt,jt=E);var Y=nx(L,jt),H=nx(L,Te);if(Y&&H&&(tt.rangeCount!==1||tt.anchorNode!==Y.node||tt.anchorOffset!==Y.offset||tt.focusNode!==H.node||tt.focusOffset!==H.offset)){var Z=ot.createRange();Z.setStart(Y.node,Y.offset),tt.removeAllRanges(),jt>Te?(tt.addRange(Z),tt.extend(H.node,H.offset)):(Z.setEnd(H.node,H.offset),tt.addRange(Z))}}}}for(ot=[],tt=L;tt=tt.parentNode;)tt.nodeType===1&&ot.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ot.length;L++){var at=ot[L];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}qf=!!Gm,Hm=Gm=null}finally{xe=g,q.p=f,z.T=l}}s.current=r,gn=2}}function y_(){if(gn===2){gn=0;var s=sr,r=uo,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var f=q.p;q.p=2;var g=xe;xe|=4;try{Yb(s,r.alternate,r)}finally{xe=g,q.p=f,z.T=l}}gn=3}}function v_(){if(gn===4||gn===3){gn=0,Et();var s=sr,r=uo,l=fo,f=r_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?gn=5:(gn=0,uo=sr=null,x_(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(ir=null),N(l),r=r.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Dt,r,void 0,(r.current.flags&128)===128)}catch{}if(f!==null){r=z.T,g=q.p,q.p=2,z.T=null;try{for(var x=s.onRecoverableError,E=0;E<f.length;E++){var L=f[E];x(L.value,{componentStack:L.stack})}}finally{z.T=r,q.p=g}}(fo&3)!==0&&Nf(),Yi(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===Tm?oc++:(oc=0,Tm=s):oc=0,lc(0)}}function x_(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Il(r)))}function Nf(s){return g_(),y_(),v_(),b_()}function b_(){if(gn!==5)return!1;var s=sr,r=wm;wm=0;var l=N(fo),f=z.T,g=q.p;try{q.p=32>l?32:l,z.T=null,l=Sm,Sm=null;var x=sr,E=fo;if(gn=0,uo=sr=null,fo=0,(xe&6)!==0)throw Error(i(331));var L=xe;if(xe|=4,i_(x.current),t_(x,x.current,E,l),xe=L,lc(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Dt,x)}catch{}return!0}finally{q.p=g,z.T=f,x_(s,r)}}function __(s,r,l){r=fi(l,r),r=im(s.stateNode,r,2),s=Ys(s,r,2),s!==null&&(Fs(s,2),Yi(s))}function Ce(s,r,l){if(s.tag===3)__(s,s,l);else for(;r!==null;){if(r.tag===3){__(r,s,l);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ir===null||!ir.has(f))){s=fi(l,s),l=Tb(2),f=Ys(r,l,2),f!==null&&(Eb(l,f,r,s),Fs(f,2),Yi(f));break}}r=r.return}}function Cm(s,r,l){var f=s.pingCache;if(f===null){f=s.pingCache=new d3;var g=new Set;f.set(r,g)}else g=f.get(r),g===void 0&&(g=new Set,f.set(r,g));g.has(l)||(xm=!0,g.add(l),s=v3.bind(null,s,r,l),r.then(s,s))}function v3(s,r,l){var f=s.pingCache;f!==null&&f.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Le===s&&(pe&l)===l&&(Xe===4||Xe===3&&(pe&62914560)===pe&&300>U()-Mm?(xe&2)===0&&ho(s,0):bm|=l,co===pe&&(co=0)),Yi(s)}function M_(s,r){r===0&&(r=Tl()),s=Ya(s,r),s!==null&&(Fs(s,r),Yi(s))}function x3(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),M_(s,l)}function b3(s,r){var l=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(r),M_(s,l)}function _3(s,r){return vt(s,r)}var Bf=null,mo=null,Lm=!1,zf=!1,Dm=!1,ea=0;function Yi(s){s!==mo&&s.next===null&&(mo===null?Bf=mo=s:mo=mo.next=s),zf=!0,Lm||(Lm=!0,w3())}function lc(s,r){if(!Dm&&zf){Dm=!0;do for(var l=!1,f=Bf;f!==null;){if(s!==0){var g=f.pendingLanes;if(g===0)var x=0;else{var E=f.suspendedLanes,L=f.pingedLanes;x=(1<<31-Mt(42|s)+1)-1,x&=g&~(E&~L),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,E_(f,x))}else x=pe,x=Ua(f,f===Le?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||us(f,x)||(l=!0,E_(f,x));f=f.next}while(l);Dm=!1}}function M3(){w_()}function w_(){zf=Lm=!1;var s=0;ea!==0&&(D3()&&(s=ea),ea=0);for(var r=U(),l=null,f=Bf;f!==null;){var g=f.next,x=S_(f,r);x===0?(f.next=null,l===null?Bf=g:l.next=g,g===null&&(mo=l)):(l=f,(s!==0||(x&3)!==0)&&(zf=!0)),f=g}lc(s)}function S_(s,r){for(var l=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var E=31-Mt(x),L=1<<E,V=g[E];V===-1?((L&l)===0||(L&f)!==0)&&(g[E]=Yd(L,r)):V<=r&&(s.expiredLanes|=L),x&=~L}if(r=Le,l=pe,l=Ua(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,l===0||s===r&&(be===2||be===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&xt(f),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||us(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(f!==null&&xt(f),N(l)){case 2:case 8:l=ut;break;case 32:l=W;break;case 268435456:l=_t;break;default:l=W}return f=T_.bind(null,s),l=vt(l,f),s.callbackPriority=r,s.callbackNode=l,r}return f!==null&&f!==null&&xt(f),s.callbackPriority=2,s.callbackNode=null,2}function T_(s,r){if(gn!==0&&gn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Nf()&&s.callbackNode!==l)return null;var f=pe;return f=Ua(s,s===Le?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(o_(s,f,r),S_(s,U()),s.callbackNode!=null&&s.callbackNode===l?T_.bind(null,s):null)}function E_(s,r){if(Nf())return null;o_(s,r,!0)}function w3(){P3(function(){(xe&6)!==0?vt(dt,M3):w_()})}function Om(){return ea===0&&(ea=Is()),ea}function A_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:qu(""+s)}function R_(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function S3(s,r,l,f,g){if(r==="submit"&&l&&l.stateNode===g){var x=A_((g[Wt]||null).action),E=f.submitter;E&&(r=(r=E[Wt]||null)?A_(r.formAction):E.getAttribute("formAction"),r!==null&&(x=r,E=null));var L=new Qu("action","action",null,f,g);s.push({event:L,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ea!==0){var V=E?R_(g,E):new FormData(g);Kp(l,{pending:!0,data:V,method:g.method,action:x},null,V)}}else typeof x=="function"&&(L.preventDefault(),V=E?R_(g,E):new FormData(g),Kp(l,{pending:!0,data:V,method:g.method,action:x},x,V))},currentTarget:g}]})}}for(var Pm=0;Pm<yp.length;Pm++){var Nm=yp[Pm],T3=Nm.toLowerCase(),E3=Nm[0].toUpperCase()+Nm.slice(1);Ri(T3,"on"+E3)}Ri(ox,"onAnimationEnd"),Ri(lx,"onAnimationIteration"),Ri(cx,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(k2,"onTransitionRun"),Ri(W2,"onTransitionStart"),Ri(j2,"onTransitionCancel"),Ri(ux,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cc));function C_(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var f=s[l],g=f.event;f=f.listeners;t:{var x=void 0;if(r)for(var E=f.length-1;0<=E;E--){var L=f[E],V=L.instance,Q=L.currentTarget;if(L=L.listener,V!==x&&g.isPropagationStopped())break t;x=L,g.currentTarget=Q;try{x(g)}catch(it){wf(it)}g.currentTarget=null,x=V}else for(E=0;E<f.length;E++){if(L=f[E],V=L.instance,Q=L.currentTarget,L=L.listener,V!==x&&g.isPropagationStopped())break t;x=L,g.currentTarget=Q;try{x(g)}catch(it){wf(it)}g.currentTarget=null,x=V}}}}function de(s,r){var l=r[ae];l===void 0&&(l=r[ae]=new Set);var f=s+"__bubble";l.has(f)||(L_(r,s,2,!1),l.add(f))}function Bm(s,r,l){var f=0;r&&(f|=4),L_(l,s,f,r)}var Uf="_reactListening"+Math.random().toString(36).slice(2);function zm(s){if(!s[Uf]){s[Uf]=!0,pn.forEach(function(l){l!=="selectionchange"&&(A3.has(l)||Bm(l,!1,s),Bm(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Uf]||(r[Uf]=!0,Bm("selectionchange",!1,r))}}function L_(s,r,l,f){switch(tM(r)){case 2:var g=tR;break;case 8:g=eR;break;default:g=Qm}l=g.bind(null,r,l,s),g=void 0,!sp||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(r,l,{capture:!0,passive:g}):s.addEventListener(r,l,!0):g!==void 0?s.addEventListener(r,l,{passive:g}):s.addEventListener(r,l,!1)}function Um(s,r,l,f,g){var x=f;if((r&1)===0&&(r&2)===0&&f!==null)t:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var L=f.stateNode.containerInfo;if(L===g)break;if(E===4)for(E=f.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;L!==null;){if(E=wn(L),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){f=x=E;continue t}L=L.parentNode}}f=f.return}U0(function(){var Q=x,it=np(l),ot=[];t:{var $=fx.get(s);if($!==void 0){var tt=Qu,Jt=s;switch(s){case"keypress":if(Yu(l)===0)break t;case"keydown":case"keyup":tt=_2;break;case"focusin":Jt="focus",tt=lp;break;case"focusout":Jt="blur",tt=lp;break;case"beforeblur":case"afterblur":tt=lp;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=H0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=c2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=S2;break;case ox:case lx:case cx:tt=h2;break;case ux:tt=E2;break;case"scroll":case"scrollend":tt=o2;break;case"wheel":tt=R2;break;case"copy":case"cut":case"paste":tt=p2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=F0;break;case"toggle":case"beforetoggle":tt=L2}var jt=(r&4)!==0,Te=!jt&&(s==="scroll"||s==="scrollend"),Y=jt?$!==null?$+"Capture":null:$;jt=[];for(var H=Q,Z;H!==null;){var at=H;if(Z=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||Z===null||Y===null||(at=Rl(H,Y),at!=null&&jt.push(uc(H,at,Z))),Te)break;H=H.return}0<jt.length&&($=new tt($,Jt,null,l,it),ot.push({event:$,listeners:jt}))}}if((r&7)===0){t:{if($=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",$&&l!==ep&&(Jt=l.relatedTarget||l.fromElement)&&(wn(Jt)||Jt[ee]))break t;if((tt||$)&&($=it.window===it?it:($=it.ownerDocument)?$.defaultView||$.parentWindow:window,tt?(Jt=l.relatedTarget||l.toElement,tt=Q,Jt=Jt?wn(Jt):null,Jt!==null&&(Te=o(Jt),jt=Jt.tag,Jt!==Te||jt!==5&&jt!==27&&jt!==6)&&(Jt=null)):(tt=null,Jt=Q),tt!==Jt)){if(jt=H0,at="onMouseLeave",Y="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(jt=F0,at="onPointerLeave",Y="onPointerEnter",H="pointer"),Te=tt==null?$:qn(tt),Z=Jt==null?$:qn(Jt),$=new jt(at,H+"leave",tt,l,it),$.target=Te,$.relatedTarget=Z,at=null,wn(it)===Q&&(jt=new jt(Y,H+"enter",Jt,l,it),jt.target=Z,jt.relatedTarget=Te,at=jt),Te=at,tt&&Jt)e:{for(jt=tt,Y=Jt,H=0,Z=jt;Z;Z=go(Z))H++;for(Z=0,at=Y;at;at=go(at))Z++;for(;0<H-Z;)jt=go(jt),H--;for(;0<Z-H;)Y=go(Y),Z--;for(;H--;){if(jt===Y||Y!==null&&jt===Y.alternate)break e;jt=go(jt),Y=go(Y)}jt=null}else jt=null;tt!==null&&D_(ot,$,tt,jt,!1),Jt!==null&&Te!==null&&D_(ot,Te,Jt,jt,!0)}}t:{if($=Q?qn(Q):window,tt=$.nodeName&&$.nodeName.toLowerCase(),tt==="select"||tt==="input"&&$.type==="file")var Ot=Q0;else if(Y0($))if(J0)Ot=H2;else{Ot=V2;var ue=U2}else tt=$.nodeName,!tt||tt.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Q&&tp(Q.elementType)&&(Ot=Q0):Ot=G2;if(Ot&&(Ot=Ot(s,Q))){Z0(ot,Ot,l,it);break t}ue&&ue(s,$,Q),s==="focusout"&&Q&&$.type==="number"&&Q.memoizedProps.value!=null&&$d($,"number",$.value)}switch(ue=Q?qn(Q):window,s){case"focusin":(Y0(ue)||ue.contentEditable==="true")&&(ja=ue,pp=Q,zl=null);break;case"focusout":zl=pp=ja=null;break;case"mousedown":mp=!0;break;case"contextmenu":case"mouseup":case"dragend":mp=!1,rx(ot,l,it);break;case"selectionchange":if(F2)break;case"keydown":case"keyup":rx(ot,l,it)}var Vt;if(up)t:{switch(s){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else Wa?q0(s,l)&&(Yt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Yt="onCompositionStart");Yt&&(k0&&l.locale!=="ko"&&(Wa||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Wa&&(Vt=V0()):(Ws=it,rp="value"in Ws?Ws.value:Ws.textContent,Wa=!0)),ue=Vf(Q,Yt),0<ue.length&&(Yt=new I0(Yt,s,null,l,it),ot.push({event:Yt,listeners:ue}),Vt?Yt.data=Vt:(Vt=X0(l),Vt!==null&&(Yt.data=Vt)))),(Vt=O2?P2(s,l):N2(s,l))&&(Yt=Vf(Q,"onBeforeInput"),0<Yt.length&&(ue=new I0("onBeforeInput","beforeinput",null,l,it),ot.push({event:ue,listeners:Yt}),ue.data=Vt)),S3(ot,s,Q,l,it)}C_(ot,r)})}function uc(s,r,l){return{instance:s,listener:r,currentTarget:l}}function Vf(s,r){for(var l=r+"Capture",f=[];s!==null;){var g=s,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=Rl(s,l),g!=null&&f.unshift(uc(s,g,x)),g=Rl(s,r),g!=null&&f.push(uc(s,g,x))),s.tag===3)return f;s=s.return}return[]}function go(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function D_(s,r,l,f,g){for(var x=r._reactName,E=[];l!==null&&l!==f;){var L=l,V=L.alternate,Q=L.stateNode;if(L=L.tag,V!==null&&V===f)break;L!==5&&L!==26&&L!==27||Q===null||(V=Q,g?(Q=Rl(l,x),Q!=null&&E.unshift(uc(l,Q,V))):g||(Q=Rl(l,x),Q!=null&&E.push(uc(l,Q,V)))),l=l.return}E.length!==0&&s.push({event:r,listeners:E})}var R3=/\r\n?/g,C3=/\u0000|\uFFFD/g;function O_(s){return(typeof s=="string"?s:""+s).replace(R3,`
`).replace(C3,"")}function P_(s,r){return r=O_(r),O_(s)===r}function Gf(){}function Se(s,r,l,f,g,x){switch(l){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||Ia(s,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&Ia(s,""+f);break;case"className":ku(s,"class",f);break;case"tabIndex":ku(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ku(s,l,f);break;case"style":B0(s,f,x);break;case"data":if(r!=="object"){ku(s,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=qu(""+f),s.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(r!=="input"&&Se(s,r,"name",g.name,g,null),Se(s,r,"formEncType",g.formEncType,g,null),Se(s,r,"formMethod",g.formMethod,g,null),Se(s,r,"formTarget",g.formTarget,g,null)):(Se(s,r,"encType",g.encType,g,null),Se(s,r,"method",g.method,g,null),Se(s,r,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(l);break}f=qu(""+f),s.setAttribute(l,f);break;case"onClick":f!=null&&(s.onclick=Gf);break;case"onScroll":f!=null&&de("scroll",s);break;case"onScrollEnd":f!=null&&de("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}l=qu(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""+f):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":f===!0?s.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(l,f):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(l,f):s.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(l):s.setAttribute(l,f);break;case"popover":de("beforetoggle",s),de("toggle",s),Fu(s,"popover",f);break;case"xlinkActuate":fs(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":fs(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":fs(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":fs(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":fs(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":fs(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":fs(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":fs(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":fs(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Fu(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=r2.get(l)||l,Fu(s,l,f))}}function Vm(s,r,l,f,g,x){switch(l){case"style":B0(s,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof f=="string"?Ia(s,f):(typeof f=="number"||typeof f=="bigint")&&Ia(s,""+f);break;case"onScroll":f!=null&&de("scroll",s);break;case"onScrollEnd":f!=null&&de("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Gf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ks.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),x=s[Wt]||null,x=x!=null?x[l]:null,typeof x=="function"&&s.removeEventListener(r,x,g),typeof f=="function")){typeof x!="function"&&x!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,f,g);break t}l in s?s[l]=f:f===!0?s.setAttribute(l,""):Fu(s,l,f)}}}function yn(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",s),de("load",s);var f=!1,g=!1,x;for(x in l)if(l.hasOwnProperty(x)){var E=l[x];if(E!=null)switch(x){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Se(s,r,x,E,l,null)}}g&&Se(s,r,"srcSet",l.srcSet,l,null),f&&Se(s,r,"src",l.src,l,null);return;case"input":de("invalid",s);var L=x=E=g=null,V=null,Q=null;for(f in l)if(l.hasOwnProperty(f)){var it=l[f];if(it!=null)switch(f){case"name":g=it;break;case"type":E=it;break;case"checked":V=it;break;case"defaultChecked":Q=it;break;case"value":x=it;break;case"defaultValue":L=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,r));break;default:Se(s,r,f,it,l,null)}}D0(s,x,L,V,Q,E,g,!1),Wu(s);return;case"select":de("invalid",s),f=E=x=null;for(g in l)if(l.hasOwnProperty(g)&&(L=l[g],L!=null))switch(g){case"value":x=L;break;case"defaultValue":E=L;break;case"multiple":f=L;default:Se(s,r,g,L,l,null)}r=x,l=E,s.multiple=!!f,r!=null?Ha(s,!!f,r,!1):l!=null&&Ha(s,!!f,l,!0);return;case"textarea":de("invalid",s),x=g=f=null;for(E in l)if(l.hasOwnProperty(E)&&(L=l[E],L!=null))switch(E){case"value":f=L;break;case"defaultValue":g=L;break;case"children":x=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(91));break;default:Se(s,r,E,L,l,null)}P0(s,f,g,x),Wu(s);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(f=l[V],f!=null))switch(V){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Se(s,r,V,f,l,null)}return;case"dialog":de("beforetoggle",s),de("toggle",s),de("cancel",s),de("close",s);break;case"iframe":case"object":de("load",s);break;case"video":case"audio":for(f=0;f<cc.length;f++)de(cc[f],s);break;case"image":de("error",s),de("load",s);break;case"details":de("toggle",s);break;case"embed":case"source":case"link":de("error",s),de("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(f=l[Q],f!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Se(s,r,Q,f,l,null)}return;default:if(tp(r)){for(it in l)l.hasOwnProperty(it)&&(f=l[it],f!==void 0&&Vm(s,r,it,f,l,void 0));return}}for(L in l)l.hasOwnProperty(L)&&(f=l[L],f!=null&&Se(s,r,L,f,l,null))}function L3(s,r,l,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,E=null,L=null,V=null,Q=null,it=null;for(tt in l){var ot=l[tt];if(l.hasOwnProperty(tt)&&ot!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":V=ot;default:f.hasOwnProperty(tt)||Se(s,r,tt,null,f,ot)}}for(var $ in f){var tt=f[$];if(ot=l[$],f.hasOwnProperty($)&&(tt!=null||ot!=null))switch($){case"type":x=tt;break;case"name":g=tt;break;case"checked":Q=tt;break;case"defaultChecked":it=tt;break;case"value":E=tt;break;case"defaultValue":L=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,r));break;default:tt!==ot&&Se(s,r,$,tt,f,ot)}}Kd(s,E,L,V,Q,it,x,g);return;case"select":tt=E=L=$=null;for(x in l)if(V=l[x],l.hasOwnProperty(x)&&V!=null)switch(x){case"value":break;case"multiple":tt=V;default:f.hasOwnProperty(x)||Se(s,r,x,null,f,V)}for(g in f)if(x=f[g],V=l[g],f.hasOwnProperty(g)&&(x!=null||V!=null))switch(g){case"value":$=x;break;case"defaultValue":L=x;break;case"multiple":E=x;default:x!==V&&Se(s,r,g,x,f,V)}r=L,l=E,f=tt,$!=null?Ha(s,!!l,$,!1):!!f!=!!l&&(r!=null?Ha(s,!!l,r,!0):Ha(s,!!l,l?[]:"",!1));return;case"textarea":tt=$=null;for(L in l)if(g=l[L],l.hasOwnProperty(L)&&g!=null&&!f.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Se(s,r,L,null,f,g)}for(E in f)if(g=f[E],x=l[E],f.hasOwnProperty(E)&&(g!=null||x!=null))switch(E){case"value":$=g;break;case"defaultValue":tt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==x&&Se(s,r,E,g,f,x)}O0(s,$,tt);return;case"option":for(var Jt in l)if($=l[Jt],l.hasOwnProperty(Jt)&&$!=null&&!f.hasOwnProperty(Jt))switch(Jt){case"selected":s.selected=!1;break;default:Se(s,r,Jt,null,f,$)}for(V in f)if($=f[V],tt=l[V],f.hasOwnProperty(V)&&$!==tt&&($!=null||tt!=null))switch(V){case"selected":s.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Se(s,r,V,$,f,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jt in l)$=l[jt],l.hasOwnProperty(jt)&&$!=null&&!f.hasOwnProperty(jt)&&Se(s,r,jt,null,f,$);for(Q in f)if($=f[Q],tt=l[Q],f.hasOwnProperty(Q)&&$!==tt&&($!=null||tt!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:Se(s,r,Q,$,f,tt)}return;default:if(tp(r)){for(var Te in l)$=l[Te],l.hasOwnProperty(Te)&&$!==void 0&&!f.hasOwnProperty(Te)&&Vm(s,r,Te,void 0,f,$);for(it in f)$=f[it],tt=l[it],!f.hasOwnProperty(it)||$===tt||$===void 0&&tt===void 0||Vm(s,r,it,$,f,tt);return}}for(var Y in l)$=l[Y],l.hasOwnProperty(Y)&&$!=null&&!f.hasOwnProperty(Y)&&Se(s,r,Y,null,f,$);for(ot in f)$=f[ot],tt=l[ot],!f.hasOwnProperty(ot)||$===tt||$==null&&tt==null||Se(s,r,ot,$,f,tt)}var Gm=null,Hm=null;function Hf(s){return s.nodeType===9?s:s.ownerDocument}function N_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B_(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Im(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fm=null;function D3(){var s=window.event;return s&&s.type==="popstate"?s===Fm?!1:(Fm=s,!0):(Fm=null,!1)}var z_=typeof setTimeout=="function"?setTimeout:void 0,O3=typeof clearTimeout=="function"?clearTimeout:void 0,U_=typeof Promise=="function"?Promise:void 0,P3=typeof queueMicrotask=="function"?queueMicrotask:typeof U_<"u"?function(s){return U_.resolve(null).then(s).catch(N3)}:z_;function N3(s){setTimeout(function(){throw s})}function ar(s){return s==="head"}function V_(s,r){var l=r,f=0,g=0;do{var x=l.nextSibling;if(s.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<f&&8>f){l=f;var E=s.ownerDocument;if(l&1&&fc(E.documentElement),l&2&&fc(E.body),l&4)for(l=E.head,fc(l),E=l.firstChild;E;){var L=E.nextSibling,V=E.nodeName;E[te]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=L}}if(g===0){s.removeChild(x),xc(r);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:f=l.charCodeAt(0)-48;else f=0;l=x}while(l);xc(r)}function km(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":km(l),ve(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function B3(s,r,l,f){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[te])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=Li(s.nextSibling),s===null)break}return null}function z3(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Li(s.nextSibling),s===null))return null;return s}function Wm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function U3(s,r){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")r();else{var f=function(){r(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Li(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var jm=null;function G_(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}function H_(s,r,l){switch(r=Hf(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function fc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);ve(s)}var yi=new Map,I_=new Set;function If(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ts=q.d;q.d={f:V3,r:G3,D:H3,C:I3,L:F3,m:k3,X:j3,S:W3,M:q3};function V3(){var s=Ts.f(),r=Of();return s||r}function G3(s){var r=me(s);r!==null&&r.tag===5&&r.type==="form"?ob(r):Ts.r(s)}var yo=typeof document>"u"?null:document;function F_(s,r,l){var f=yo;if(f&&typeof r=="string"&&r){var g=ui(r);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),I_.has(g)||(I_.add(g),s={rel:s,crossOrigin:l,href:r},f.querySelector(g)===null&&(r=f.createElement("link"),yn(r,"link",s),je(r),f.head.appendChild(r)))}}function H3(s){Ts.D(s),F_("dns-prefetch",s,null)}function I3(s,r){Ts.C(s,r),F_("preconnect",s,r)}function F3(s,r,l){Ts.L(s,r,l);var f=yo;if(f&&s&&r){var g='link[rel="preload"][as="'+ui(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+ui(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+ui(l.imageSizes)+'"]')):g+='[href="'+ui(s)+'"]';var x=g;switch(r){case"style":x=vo(s);break;case"script":x=xo(s)}yi.has(x)||(s=m({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),yi.set(x,s),f.querySelector(g)!==null||r==="style"&&f.querySelector(hc(x))||r==="script"&&f.querySelector(dc(x))||(r=f.createElement("link"),yn(r,"link",s),je(r),f.head.appendChild(r)))}}function k3(s,r){Ts.m(s,r);var l=yo;if(l&&s){var f=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+ui(f)+'"][href="'+ui(s)+'"]',x=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=xo(s)}if(!yi.has(x)&&(s=m({rel:"modulepreload",href:s},r),yi.set(x,s),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(dc(x)))return}f=l.createElement("link"),yn(f,"link",s),je(f),l.head.appendChild(f)}}}function W3(s,r,l){Ts.S(s,r,l);var f=yo;if(f&&s){var g=Ne(f).hoistableStyles,x=vo(s);r=r||"default";var E=g.get(x);if(!E){var L={loading:0,preload:null};if(E=f.querySelector(hc(x)))L.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":r},l),(l=yi.get(x))&&qm(s,l);var V=E=f.createElement("link");je(V),yn(V,"link",s),V._p=new Promise(function(Q,it){V.onload=Q,V.onerror=it}),V.addEventListener("load",function(){L.loading|=1}),V.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Ff(E,r,f)}E={type:"stylesheet",instance:E,count:1,state:L},g.set(x,E)}}}function j3(s,r){Ts.X(s,r);var l=yo;if(l&&s){var f=Ne(l).hoistableScripts,g=xo(s),x=f.get(g);x||(x=l.querySelector(dc(g)),x||(s=m({src:s,async:!0},r),(r=yi.get(g))&&Xm(s,r),x=l.createElement("script"),je(x),yn(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(g,x))}}function q3(s,r){Ts.M(s,r);var l=yo;if(l&&s){var f=Ne(l).hoistableScripts,g=xo(s),x=f.get(g);x||(x=l.querySelector(dc(g)),x||(s=m({src:s,async:!0,type:"module"},r),(r=yi.get(g))&&Xm(s,r),x=l.createElement("script"),je(x),yn(x,"link",s),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(g,x))}}function k_(s,r,l,f){var g=(g=Me.current)?If(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=vo(l.href),l=Ne(g).hoistableStyles,f=l.get(r),f||(f={type:"style",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=vo(l.href);var x=Ne(g).hoistableStyles,E=x.get(s);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,E),(x=g.querySelector(hc(s)))&&!x._p&&(E.instance=x,E.state.loading=5),yi.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},yi.set(s,l),x||X3(g,s,l,E.state))),r&&f===null)throw Error(i(528,""));return E}if(r&&f!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=xo(l),l=Ne(g).hoistableScripts,f=l.get(r),f||(f={type:"script",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function vo(s){return'href="'+ui(s)+'"'}function hc(s){return'link[rel="stylesheet"]['+s+"]"}function W_(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function X3(s,r,l,f){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=s.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),yn(r,"link",l),je(r),s.head.appendChild(r))}function xo(s){return'[src="'+ui(s)+'"]'}function dc(s){return"script[async]"+s}function j_(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var f=s.querySelector('style[data-href~="'+ui(l.href)+'"]');if(f)return r.instance=f,je(f),f;var g=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),je(f),yn(f,"style",g),Ff(f,l.precedence,s),r.instance=f;case"stylesheet":g=vo(l.href);var x=s.querySelector(hc(g));if(x)return r.state.loading|=4,r.instance=x,je(x),x;f=W_(l),(g=yi.get(g))&&qm(f,g),x=(s.ownerDocument||s).createElement("link"),je(x);var E=x;return E._p=new Promise(function(L,V){E.onload=L,E.onerror=V}),yn(x,"link",f),r.state.loading|=4,Ff(x,l.precedence,s),r.instance=x;case"script":return x=xo(l.src),(g=s.querySelector(dc(x)))?(r.instance=g,je(g),g):(f=l,(g=yi.get(x))&&(f=m({},l),Xm(f,g)),s=s.ownerDocument||s,g=s.createElement("script"),je(g),yn(g,"link",f),s.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,Ff(f,l.precedence,s));return r.instance}function Ff(s,r,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,x=g,E=0;E<f.length;E++){var L=f[E];if(L.dataset.precedence===r)x=L;else if(x!==g)break}x?x.parentNode.insertBefore(s,x.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function qm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Xm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var kf=null;function q_(s,r,l){if(kf===null){var f=new Map,g=kf=new Map;g.set(l,f)}else g=kf,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(s))return f;for(f.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var x=l[g];if(!(x[te]||x[pt]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var E=x.getAttribute(r)||"";E=s+E;var L=f.get(E);L?L.push(x):f.set(E,[x])}}return f}function X_(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function Y3(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Y_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var pc=null;function Z3(){}function Q3(s,r,l){if(pc===null)throw Error(i(475));var f=pc;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=vo(l.href),x=s.querySelector(hc(g));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=Wf.bind(f),s.then(f,f)),r.state.loading|=4,r.instance=x,je(x);return}x=s.ownerDocument||s,l=W_(l),(g=yi.get(g))&&qm(l,g),x=x.createElement("link"),je(x);var E=x;E._p=new Promise(function(L,V){E.onload=L,E.onerror=V}),yn(x,"link",l),r.instance=x}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(f.count++,r=Wf.bind(f),s.addEventListener("load",r),s.addEventListener("error",r))}}function J3(){if(pc===null)throw Error(i(475));var s=pc;return s.stylesheets&&s.count===0&&Ym(s,s.stylesheets),0<s.count?function(r){var l=setTimeout(function(){if(s.stylesheets&&Ym(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Wf(){if(this.count--,this.count===0){if(this.stylesheets)Ym(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var jf=null;function Ym(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,jf=new Map,r.forEach(K3,s),jf=null,Wf.call(s))}function K3(s,r){if(!(r.state.loading&4)){var l=jf.get(s);if(l)var f=l.get(null);else{l=new Map,jf.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var E=g[x];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),f=E)}f&&l.set(null,f)}g=r.instance,E=g.getAttribute("data-precedence"),x=l.get(E)||f,x===f&&l.set(null,g),l.set(E,g),this.count++,f=Wf.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),x?x.parentNode.insertBefore(g,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),r.state.loading|=4}}var mc={$$typeof:T,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function $3(s,r,l,f,g,x,E,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.hiddenUpdates=Va(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Z_(s,r,l,f,g,x,E,L,V,Q,it,ot){return s=new $3(s,r,l,E,L,V,Q,ot),r=1,x===!0&&(r|=24),x=Yn(3,null,null,r),s.current=x,x.stateNode=s,r=Cp(),r.refCount++,s.pooledCache=r,r.refCount++,x.memoizedState={element:f,isDehydrated:l,cache:r},Pp(x),s}function Q_(s){return s?(s=Za,s):Za}function J_(s,r,l,f,g,x){g=Q_(g),f.context===null?f.context=g:f.pendingContext=g,f=Xs(r),f.payload={element:l},x=x===void 0?null:x,x!==null&&(f.callback=x),l=Ys(s,f,r),l!==null&&($n(l,s,r),jl(l,s,r))}function K_(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Zm(s,r){K_(s,r),(s=s.alternate)&&K_(s,r)}function $_(s){if(s.tag===13){var r=Ya(s,67108864);r!==null&&$n(r,s,67108864),Zm(s,67108864)}}var qf=!0;function tR(s,r,l,f){var g=z.T;z.T=null;var x=q.p;try{q.p=2,Qm(s,r,l,f)}finally{q.p=x,z.T=g}}function eR(s,r,l,f){var g=z.T;z.T=null;var x=q.p;try{q.p=8,Qm(s,r,l,f)}finally{q.p=x,z.T=g}}function Qm(s,r,l,f){if(qf){var g=Jm(f);if(g===null)Um(s,r,f,Xf,l),eM(s,f);else if(iR(g,s,r,l,f))f.stopPropagation();else if(eM(s,f),r&4&&-1<nR.indexOf(s)){for(;g!==null;){var x=me(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var E=ki(x.pendingLanes);if(E!==0){var L=x;for(L.pendingLanes|=2,L.entangledLanes|=2;E;){var V=1<<31-Mt(E);L.entanglements[1]|=V,E&=~V}Yi(x),(xe&6)===0&&(Lf=U()+500,lc(0))}}break;case 13:L=Ya(x,2),L!==null&&$n(L,x,2),Of(),Zm(x,2)}if(x=Jm(f),x===null&&Um(s,r,f,Xf,l),x===g)break;g=x}g!==null&&f.stopPropagation()}else Um(s,r,f,null,l)}}function Jm(s){return s=np(s),Km(s)}var Xf=null;function Km(s){if(Xf=null,s=wn(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=c(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Xf=s,null}function tM(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(B()){case dt:return 2;case ut:return 8;case W:case mt:return 32;case _t:return 268435456;default:return 32}default:return 32}}var $m=!1,or=null,lr=null,cr=null,gc=new Map,yc=new Map,ur=[],nR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eM(s,r){switch(s){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":gc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(r.pointerId)}}function vc(s,r,l,f,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:r,domEventName:l,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},r!==null&&(r=me(r),r!==null&&$_(r)),s):(s.eventSystemFlags|=f,r=s.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),s)}function iR(s,r,l,f,g){switch(r){case"focusin":return or=vc(or,s,r,l,f,g),!0;case"dragenter":return lr=vc(lr,s,r,l,f,g),!0;case"mouseover":return cr=vc(cr,s,r,l,f,g),!0;case"pointerover":var x=g.pointerId;return gc.set(x,vc(gc.get(x)||null,s,r,l,f,g)),!0;case"gotpointercapture":return x=g.pointerId,yc.set(x,vc(yc.get(x)||null,s,r,l,f,g)),!0}return!1}function nM(s){var r=wn(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){s.blockedOn=r,et(s.priority,function(){if(l.tag===13){var f=Kn();f=Al(f);var g=Ya(l,f);g!==null&&$n(g,l,f),Zm(l,f)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yf(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Jm(s.nativeEvent);if(l===null){l=s.nativeEvent;var f=new l.constructor(l.type,l);ep=f,l.target.dispatchEvent(f),ep=null}else return r=me(l),r!==null&&$_(r),s.blockedOn=l,!1;r.shift()}return!0}function iM(s,r,l){Yf(s)&&l.delete(r)}function sR(){$m=!1,or!==null&&Yf(or)&&(or=null),lr!==null&&Yf(lr)&&(lr=null),cr!==null&&Yf(cr)&&(cr=null),gc.forEach(iM),yc.forEach(iM)}function Zf(s,r){s.blockedOn===r&&(s.blockedOn=null,$m||($m=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sR)))}var Qf=null;function sM(s){Qf!==s&&(Qf=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Qf===s&&(Qf=null);for(var r=0;r<s.length;r+=3){var l=s[r],f=s[r+1],g=s[r+2];if(typeof f!="function"){if(Km(f||l)===null)continue;break}var x=me(l);x!==null&&(s.splice(r,3),r-=3,Kp(x,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function xc(s){function r(V){return Zf(V,s)}or!==null&&Zf(or,s),lr!==null&&Zf(lr,s),cr!==null&&Zf(cr,s),gc.forEach(r),yc.forEach(r);for(var l=0;l<ur.length;l++){var f=ur[l];f.blockedOn===s&&(f.blockedOn=null)}for(;0<ur.length&&(l=ur[0],l.blockedOn===null);)nM(l),l.blockedOn===null&&ur.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],x=l[f+1],E=g[Wt]||null;if(typeof x=="function")E||sM(l);else if(E){var L=null;if(x&&x.hasAttribute("formAction")){if(g=x,E=x[Wt]||null)L=E.formAction;else if(Km(g)!==null)continue}else L=E.action;typeof L=="function"?l[f+1]=L:(l.splice(f,3),f-=3),sM(l)}}}function tg(s){this._internalRoot=s}Jf.prototype.render=tg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,f=Kn();J_(l,f,s,r,null,null)},Jf.prototype.unmount=tg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;J_(s.current,2,null,s,null,null),Of(),r[ee]=null}};function Jf(s){this._internalRoot=s}Jf.prototype.unstable_scheduleHydration=function(s){if(s){var r=nt();s={blockedOn:null,target:s,priority:r};for(var l=0;l<ur.length&&r!==0&&r<ur[l].priority;l++);ur.splice(l,0,s),l===0&&nM(s)}};var rM=t.version;if(rM!=="19.1.0")throw Error(i(527,rM,"19.1.0"));q.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(r),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var rR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kf.isDisabled&&Kf.supportsFiber)try{Dt=Kf.inject(rR),Lt=Kf}catch{}}return _c.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,f="",g=_b,x=Mb,E=wb,L=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(L=r.unstable_transitionCallbacks)),r=Z_(s,1,!1,null,null,l,f,g,x,E,L,null),s[ee]=r.current,zm(s),new tg(r)},_c.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var f=!1,g="",x=_b,E=Mb,L=wb,V=null,Q=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(L=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(V=l.unstable_transitionCallbacks),l.formState!==void 0&&(Q=l.formState)),r=Z_(s,1,!0,r,l??null,f,g,x,E,L,V,Q),r.context=Q_(null),l=r.current,f=Kn(),f=Al(f),g=Xs(f),g.callback=null,Ys(l,g,f),l=f,r.current.lanes=l,Fs(r,l),Yi(r),s[ee]=r.current,zm(s),new Jf(r)},_c.version="19.1.0",_c}var fM;function pR(){if(fM)return ng.exports;fM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ng.exports=dR(),ng.exports}var mR=pR();const P1="121",gR={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},yR={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},N1=0,Qg=1,B1=2,vR=3,xR=0,sv=1,z1=2,Go=3,dl=0,on=1,Tu=2,rv=1,bR=2,Ns=0,Zo=1,Jg=2,Kg=3,$g=4,U1=5,pa=100,V1=101,G1=102,ty=103,ey=104,H1=200,I1=201,F1=202,k1=203,av=204,ov=205,W1=206,j1=207,q1=208,X1=209,Y1=210,Z1=0,Q1=1,J1=2,td=3,K1=4,$1=5,tS=6,eS=7,Eu=0,nS=1,iS=2,xa=0,sS=1,rS=2,aS=3,oS=4,lS=5,Nd=300,Au=301,Ru=302,ed=303,nd=304,pl=306,Cu=307,Xc=1e3,Pn=1001,Yc=1002,ln=1003,id=1004,_R=1004,sd=1005,MR=1005,dn=1006,lv=1007,wR=1007,ml=1008,SR=1008,gl=1009,cS=1010,uS=1011,Zc=1012,fS=1013,zc=1014,Os=1015,Qc=1016,hS=1017,dS=1018,pS=1019,Qo=1020,mS=1021,wr=1022,ii=1023,gS=1024,yS=1025,vS=ii,ba=1026,Ko=1027,xS=1028,bS=1029,_S=1030,MS=1031,wS=1032,SS=1033,ny=33776,iy=33777,sy=33778,ry=33779,ay=35840,oy=35841,ly=35842,cy=35843,TS=36196,uy=37492,fy=37496,ES=37808,AS=37809,RS=37810,CS=37811,LS=37812,DS=37813,OS=37814,PS=37815,NS=37816,BS=37817,zS=37818,US=37819,VS=37820,GS=37821,HS=36492,IS=37840,FS=37841,kS=37842,WS=37843,jS=37844,qS=37845,XS=37846,YS=37847,ZS=37848,QS=37849,JS=37850,KS=37851,$S=37852,tT=37853,eT=2200,nT=2201,iT=2202,Jc=2300,Uc=2301,Xh=2302,ma=2400,ga=2401,Kc=2402,Bd=2500,cv=2501,sT=0,TR=1,ER=2,zn=3e3,Lu=3001,zd=3007,Ud=3002,rT=3003,uv=3004,fv=3005,hv=3006,aT=3200,oT=3201,Na=0,lT=1,AR=0,Yh=7680,RR=7681,CR=7682,LR=7683,DR=34055,OR=34056,PR=5386,NR=512,BR=513,zR=514,UR=515,VR=516,GR=517,HR=518,cT=519,Du=35044,wa=35048,IR=35040,FR=35045,kR=35049,WR=35041,jR=35046,qR=35050,XR=35042,YR="100",hy="300 es";function ls(){}Object.assign(ls.prototype,{addEventListener:function(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)},hasEventListener:function(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}},dispatchEvent:function(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e)}}});const vn=[];for(let e=0;e<256;e++)vn[e]=(e<16?"0":"")+e.toString(16);let $f=1234567;const ne={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(vn[e&255]+vn[e>>8&255]+vn[e>>16&255]+vn[e>>24&255]+"-"+vn[t&255]+vn[t>>8&255]+"-"+vn[t>>16&15|64]+vn[t>>24&255]+"-"+vn[n&63|128]+vn[n>>8&255]+"-"+vn[n>>16&255]+vn[n>>24&255]+vn[i&255]+vn[i>>8&255]+vn[i>>16&255]+vn[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,a){return i+(e-t)*(a-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return e!==void 0&&($f=e%2147483647),$f=$f*16807%2147483647,($f-1)/2147483646},degToRad:function(e){return e*ne.DEG2RAD},radToDeg:function(e){return e*ne.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,a){const o=Math.cos,c=Math.sin,u=o(n/2),h=c(n/2),d=o((t+i)/2),m=c((t+i)/2),p=o((t-i)/2),y=c((t-i)/2),v=o((i-t)/2),_=c((i-t)/2);switch(a){case"XYX":e.set(u*m,h*p,h*y,u*d);break;case"YZY":e.set(h*y,u*m,h*p,u*d);break;case"ZXZ":e.set(h*p,h*y,u*m,u*d);break;case"XZX":e.set(u*m,h*_,h*v,u*d);break;case"YXY":e.set(h*v,u*m,h*_,u*d);break;case"ZYZ":e.set(h*_,h*v,u*m,u*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}};class ct{constructor(t=0,n=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=n}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,n){return this.x=t,this.y=n,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this}sub(t,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const n=this.x,i=this.y,a=t.elements;return this.x=a[0]*n+a[3]*i+a[6],this.y=a[1]*n+a[4]*i+a[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,i=this.y-t.y;return n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,n){return n===void 0&&(n=0),this.x=t[n],this.y=t[n+1],this}toArray(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this.x,t[n+1]=this.y,t}fromBufferAttribute(t,n,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this}rotateAround(t,n){const i=Math.cos(n),a=Math.sin(n),o=this.x-t.x,c=this.y-t.y;return this.x=o*i-c*a+t.x,this.y=o*a+c*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class Nn{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,n,i,a,o,c,u,h,d){const m=this.elements;return m[0]=t,m[1]=a,m[2]=u,m[3]=n,m[4]=o,m[5]=h,m[6]=i,m[7]=c,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return new this.constructor().fromArray(this.elements)}copy(t){const n=this.elements,i=t.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(t,n,i){return t.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const n=t.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const i=t.elements,a=n.elements,o=this.elements,c=i[0],u=i[3],h=i[6],d=i[1],m=i[4],p=i[7],y=i[2],v=i[5],_=i[8],S=a[0],w=a[3],M=a[6],b=a[1],T=a[4],R=a[7],C=a[2],A=a[5],O=a[8];return o[0]=c*S+u*b+h*C,o[3]=c*w+u*T+h*A,o[6]=c*M+u*R+h*O,o[1]=d*S+m*b+p*C,o[4]=d*w+m*T+p*A,o[7]=d*M+m*R+p*O,o[2]=y*S+v*b+_*C,o[5]=y*w+v*T+_*A,o[8]=y*M+v*R+_*O,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=t,n[4]*=t,n[7]*=t,n[2]*=t,n[5]*=t,n[8]*=t,this}determinant(){const t=this.elements,n=t[0],i=t[1],a=t[2],o=t[3],c=t[4],u=t[5],h=t[6],d=t[7],m=t[8];return n*c*m-n*u*d-i*o*m+i*u*h+a*o*d-a*c*h}getInverse(t,n){n!==void 0&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const i=t.elements,a=this.elements,o=i[0],c=i[1],u=i[2],h=i[3],d=i[4],m=i[5],p=i[6],y=i[7],v=i[8],_=v*d-m*y,S=m*p-v*h,w=y*h-d*p,M=o*_+c*S+u*w;if(M===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/M;return a[0]=_*b,a[1]=(u*y-v*c)*b,a[2]=(m*c-u*d)*b,a[3]=S*b,a[4]=(v*o-u*p)*b,a[5]=(u*h-m*o)*b,a[6]=w*b,a[7]=(c*p-y*o)*b,a[8]=(d*o-c*h)*b,this}transpose(){let t;const n=this.elements;return t=n[1],n[1]=n[3],n[3]=t,t=n[2],n[2]=n[6],n[6]=t,t=n[5],n[5]=n[7],n[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).getInverse(this).transpose()}transposeIntoArray(t){const n=this.elements;return t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8],this}setUvTransform(t,n,i,a,o,c,u){const h=Math.cos(o),d=Math.sin(o);this.set(i*h,i*d,-i*(h*c+d*u)+c+t,-a*d,a*h,-a*(-d*c+h*u)+u+n,0,0,1)}scale(t,n){const i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=n,i[4]*=n,i[7]*=n,this}rotate(t){const n=Math.cos(t),i=Math.sin(t),a=this.elements,o=a[0],c=a[3],u=a[6],h=a[1],d=a[4],m=a[7];return a[0]=n*o+i*h,a[3]=n*c+i*d,a[6]=n*u+i*m,a[1]=-i*o+n*h,a[4]=-i*c+n*d,a[7]=-i*u+n*m,this}translate(t,n){const i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=n*i[2],i[4]+=n*i[5],i[7]+=n*i[8],this}equals(t){const n=this.elements,i=t.elements;for(let a=0;a<9;a++)if(n[a]!==i[a])return!1;return!0}fromArray(t,n){n===void 0&&(n=0);for(let i=0;i<9;i++)this.elements[i]=t[i+n];return this}toArray(t,n){t===void 0&&(t=[]),n===void 0&&(n=0);const i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t}}let bo;const Ar={getDataURL:function(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{bo===void 0&&(bo=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),bo.width=e.width,bo.height=e.height;const n=bo.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=bo}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let ZR=0;function Re(e,t,n,i,a,o,c,u,h,d){Object.defineProperty(this,"id",{value:ZR++}),this.uuid=ne.generateUUID(),this.name="",this.image=e!==void 0?e:Re.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=t!==void 0?t:Re.DEFAULT_MAPPING,this.wrapS=n!==void 0?n:Pn,this.wrapT=i!==void 0?i:Pn,this.magFilter=a!==void 0?a:dn,this.minFilter=o!==void 0?o:ml,this.anisotropy=h!==void 0?h:1,this.format=c!==void 0?c:ii,this.internalFormat=null,this.type=u!==void 0?u:gl,this.offset=new ct(0,0),this.repeat=new ct(1,1),this.center=new ct(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d!==void 0?d:zn,this.version=0,this.onUpdate=null}Re.DEFAULT_IMAGE=void 0;Re.DEFAULT_MAPPING=Nd;Re.prototype=Object.assign(Object.create(ls.prototype),{constructor:Re,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=ne.generateUUID()),!t&&e.images[i.uuid]===void 0){let a;if(Array.isArray(i)){a=[];for(let o=0,c=i.length;o<c;o++)a.push(Ar.getDataURL(i[o]))}else a=Ar.getDataURL(i);e.images[i.uuid]={uuid:i.uuid,url:a}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==Nd)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Xc:e.x=e.x-Math.floor(e.x);break;case Pn:e.x=e.x<0?0:1;break;case Yc:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Xc:e.y=e.y-Math.floor(e.y);break;case Pn:e.y=e.y<0?0:1;break;case Yc:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}});Object.defineProperty(Re.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});class Ee{constructor(t=0,n=0,i=0,a=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=n,this.z=i,this.w=a}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,n,i,a){return this.x=t,this.y=n,this.z=i,this.w=a,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this.w=t.w+n.w,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this.w+=t.w*n,this}sub(t,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this.w=t.w-n.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const n=this.x,i=this.y,a=this.z,o=this.w,c=t.elements;return this.x=c[0]*n+c[4]*i+c[8]*a+c[12]*o,this.y=c[1]*n+c[5]*i+c[9]*a+c[13]*o,this.z=c[2]*n+c[6]*i+c[10]*a+c[14]*o,this.w=c[3]*n+c[7]*i+c[11]*a+c[15]*o,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const n=Math.sqrt(1-t.w*t.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/n,this.y=t.y/n,this.z=t.z/n),this}setAxisAngleFromRotationMatrix(t){let n,i,a,o;const h=t.elements,d=h[0],m=h[4],p=h[8],y=h[1],v=h[5],_=h[9],S=h[2],w=h[6],M=h[10];if(Math.abs(m-y)<.01&&Math.abs(p-S)<.01&&Math.abs(_-w)<.01){if(Math.abs(m+y)<.1&&Math.abs(p+S)<.1&&Math.abs(_+w)<.1&&Math.abs(d+v+M-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const T=(d+1)/2,R=(v+1)/2,C=(M+1)/2,A=(m+y)/4,O=(p+S)/4,P=(_+w)/4;return T>R&&T>C?T<.01?(i=0,a=.707106781,o=.707106781):(i=Math.sqrt(T),a=A/i,o=O/i):R>C?R<.01?(i=.707106781,a=0,o=.707106781):(a=Math.sqrt(R),i=A/a,o=P/a):C<.01?(i=.707106781,a=.707106781,o=0):(o=Math.sqrt(C),i=O/o,a=P/o),this.set(i,a,o,n),this}let b=Math.sqrt((w-_)*(w-_)+(p-S)*(p-S)+(y-m)*(y-m));return Math.abs(b)<.001&&(b=1),this.x=(w-_)/b,this.y=(p-S)/b,this.z=(y-m)/b,this.w=Math.acos((d+v+M-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this.w=Math.max(t.w,Math.min(n.w,this.w)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this.w=Math.max(t,Math.min(n,this.w)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this.w+=(t.w-this.w)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this.w=t.w+(n.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,n){return n===void 0&&(n=0),this.x=t[n],this.y=t[n+1],this.z=t[n+2],this.w=t[n+3],this}toArray(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t[n+3]=this.w,t}fromBufferAttribute(t,n,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this.w=t.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function si(e,t,n){this.width=e,this.height=t,this.scissor=new Ee(0,0,e,t),this.scissorTest=!1,this.viewport=new Ee(0,0,e,t),n=n||{},this.texture=new Re(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:dn,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}si.prototype=Object.assign(Object.create(ls.prototype),{constructor:si,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function dy(e,t,n){si.call(this,e,t,n),this.samples=4}dy.prototype=Object.assign(Object.create(si.prototype),{constructor:dy,isWebGLMultisampleRenderTarget:!0,copy:function(e){return si.prototype.copy.call(this,e),this.samples=e.samples,this}});class Rn{constructor(t=0,n=0,i=0,a=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=n,this._z=i,this._w=a}static slerp(t,n,i,a){return i.copy(t).slerp(n,a)}static slerpFlat(t,n,i,a,o,c,u){let h=i[a+0],d=i[a+1],m=i[a+2],p=i[a+3];const y=o[c+0],v=o[c+1],_=o[c+2],S=o[c+3];if(p!==S||h!==y||d!==v||m!==_){let w=1-u;const M=h*y+d*v+m*_+p*S,b=M>=0?1:-1,T=1-M*M;if(T>Number.EPSILON){const C=Math.sqrt(T),A=Math.atan2(C,M*b);w=Math.sin(w*A)/C,u=Math.sin(u*A)/C}const R=u*b;if(h=h*w+y*R,d=d*w+v*R,m=m*w+_*R,p=p*w+S*R,w===1-u){const C=1/Math.sqrt(h*h+d*d+m*m+p*p);h*=C,d*=C,m*=C,p*=C}}t[n]=h,t[n+1]=d,t[n+2]=m,t[n+3]=p}static multiplyQuaternionsFlat(t,n,i,a,o,c){const u=i[a],h=i[a+1],d=i[a+2],m=i[a+3],p=o[c],y=o[c+1],v=o[c+2],_=o[c+3];return t[n]=u*_+m*p+h*v-d*y,t[n+1]=h*_+m*y+d*p-u*v,t[n+2]=d*_+m*v+u*y-h*p,t[n+3]=m*_-u*p-h*y-d*v,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,i,a){return this._x=t,this._y=n,this._z=i,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n){if(!(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=t._x,a=t._y,o=t._z,c=t._order,u=Math.cos,h=Math.sin,d=u(i/2),m=u(a/2),p=u(o/2),y=h(i/2),v=h(a/2),_=h(o/2);switch(c){case"XYZ":this._x=y*m*p+d*v*_,this._y=d*v*p-y*m*_,this._z=d*m*_+y*v*p,this._w=d*m*p-y*v*_;break;case"YXZ":this._x=y*m*p+d*v*_,this._y=d*v*p-y*m*_,this._z=d*m*_-y*v*p,this._w=d*m*p+y*v*_;break;case"ZXY":this._x=y*m*p-d*v*_,this._y=d*v*p+y*m*_,this._z=d*m*_+y*v*p,this._w=d*m*p-y*v*_;break;case"ZYX":this._x=y*m*p-d*v*_,this._y=d*v*p+y*m*_,this._z=d*m*_-y*v*p,this._w=d*m*p+y*v*_;break;case"YZX":this._x=y*m*p+d*v*_,this._y=d*v*p+y*m*_,this._z=d*m*_-y*v*p,this._w=d*m*p-y*v*_;break;case"XZY":this._x=y*m*p-d*v*_,this._y=d*v*p-y*m*_,this._z=d*m*_+y*v*p,this._w=d*m*p+y*v*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,n){const i=n/2,a=Math.sin(i);return this._x=t.x*a,this._y=t.y*a,this._z=t.z*a,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const n=t.elements,i=n[0],a=n[4],o=n[8],c=n[1],u=n[5],h=n[9],d=n[2],m=n[6],p=n[10],y=i+u+p;if(y>0){const v=.5/Math.sqrt(y+1);this._w=.25/v,this._x=(m-h)*v,this._y=(o-d)*v,this._z=(c-a)*v}else if(i>u&&i>p){const v=2*Math.sqrt(1+i-u-p);this._w=(m-h)/v,this._x=.25*v,this._y=(a+c)/v,this._z=(o+d)/v}else if(u>p){const v=2*Math.sqrt(1+u-i-p);this._w=(o-d)/v,this._x=(a+c)/v,this._y=.25*v,this._z=(h+m)/v}else{const v=2*Math.sqrt(1+p-i-u);this._w=(c-a)/v,this._x=(o+d)/v,this._y=(h+m)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let a=t.dot(n)+1;return a<1e-6?(a=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=a):(this._x=0,this._y=-t.z,this._z=t.y,this._w=a)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=a),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(ne.clamp(this.dot(t),-1,1)))}rotateTowards(t,n){const i=this.angleTo(t);if(i===0)return this;const a=Math.min(1,n/i);return this.slerp(t,a),this}identity(){return this.set(0,0,0,1)}inverse(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,n)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){const i=t._x,a=t._y,o=t._z,c=t._w,u=n._x,h=n._y,d=n._z,m=n._w;return this._x=i*m+c*u+a*d-o*h,this._y=a*m+c*h+o*u-i*d,this._z=o*m+c*d+i*h-a*u,this._w=c*m-i*u-a*h-o*d,this._onChangeCallback(),this}slerp(t,n){if(n===0)return this;if(n===1)return this.copy(t);const i=this._x,a=this._y,o=this._z,c=this._w;let u=c*t._w+i*t._x+a*t._y+o*t._z;if(u<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,u=-u):this.copy(t),u>=1)return this._w=c,this._x=i,this._y=a,this._z=o,this;const h=1-u*u;if(h<=Number.EPSILON){const v=1-n;return this._w=v*c+n*this._w,this._x=v*i+n*this._x,this._y=v*a+n*this._y,this._z=v*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(h),m=Math.atan2(d,u),p=Math.sin((1-n)*m)/d,y=Math.sin(n*m)/d;return this._w=c*p+this._w*y,this._x=i*p+this._x*y,this._y=a*p+this._y*y,this._z=o*p+this._z*y,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n){return n===void 0&&(n=0),this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}fromBufferAttribute(t,n){return this._x=t.getX(n),this._y=t.getY(n),this._z=t.getZ(n),this._w=t.getW(n),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class D{constructor(t=0,n=0,i=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=n,this.z=i}set(t,n,i){return i===void 0&&(i=this.z),this.x=t,this.y=n,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,n)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,n)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,n)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(hM.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion(hM.setFromAxisAngle(t,n))}applyMatrix3(t){const n=this.x,i=this.y,a=this.z,o=t.elements;return this.x=o[0]*n+o[3]*i+o[6]*a,this.y=o[1]*n+o[4]*i+o[7]*a,this.z=o[2]*n+o[5]*i+o[8]*a,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const n=this.x,i=this.y,a=this.z,o=t.elements,c=1/(o[3]*n+o[7]*i+o[11]*a+o[15]);return this.x=(o[0]*n+o[4]*i+o[8]*a+o[12])*c,this.y=(o[1]*n+o[5]*i+o[9]*a+o[13])*c,this.z=(o[2]*n+o[6]*i+o[10]*a+o[14])*c,this}applyQuaternion(t){const n=this.x,i=this.y,a=this.z,o=t.x,c=t.y,u=t.z,h=t.w,d=h*n+c*a-u*i,m=h*i+u*n-o*a,p=h*a+o*i-c*n,y=-o*n-c*i-u*a;return this.x=d*h+y*-o+m*-u-p*-c,this.y=m*h+y*-c+p*-o-d*-u,this.z=p*h+y*-u+d*-c-m*-o,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const n=this.x,i=this.y,a=this.z,o=t.elements;return this.x=o[0]*n+o[4]*i+o[8]*a,this.y=o[1]*n+o[5]*i+o[9]*a,this.z=o[2]*n+o[6]*i+o[10]*a,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this}cross(t,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,n)):this.crossVectors(this,t)}crossVectors(t,n){const i=t.x,a=t.y,o=t.z,c=n.x,u=n.y,h=n.z;return this.x=a*h-o*u,this.y=o*c-i*h,this.z=i*u-a*c,this}projectOnVector(t){const n=t.lengthSq();if(n===0)return this.set(0,0,0);const i=t.dot(this)/n;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return rg.copy(this).projectOnVector(t),this.sub(rg)}reflect(t){return this.sub(rg.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(t)/n;return Math.acos(ne.clamp(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,i=this.y-t.y,a=this.z-t.z;return n*n+i*i+a*a}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,i){const a=Math.sin(n)*t;return this.x=a*Math.sin(i),this.y=Math.cos(n)*t,this.z=a*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,i){return this.x=t*Math.sin(n),this.y=i,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){const n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){const n=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),a=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=i,this.z=a,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,n*4)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,n*3)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n){return n===void 0&&(n=0),this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}fromBufferAttribute(t,n,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const rg=new D,hM=new Rn;class cs{constructor(t,n){Object.defineProperty(this,"isBox3",{value:!0}),this.min=t!==void 0?t:new D(1/0,1/0,1/0),this.max=n!==void 0?n:new D(-1/0,-1/0,-1/0)}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromArray(t){let n=1/0,i=1/0,a=1/0,o=-1/0,c=-1/0,u=-1/0;for(let h=0,d=t.length;h<d;h+=3){const m=t[h],p=t[h+1],y=t[h+2];m<n&&(n=m),p<i&&(i=p),y<a&&(a=y),m>o&&(o=m),p>c&&(c=p),y>u&&(u=y)}return this.min.set(n,i,a),this.max.set(o,c,u),this}setFromBufferAttribute(t){let n=1/0,i=1/0,a=1/0,o=-1/0,c=-1/0,u=-1/0;for(let h=0,d=t.count;h<d;h++){const m=t.getX(h),p=t.getY(h),y=t.getZ(h);m<n&&(n=m),p<i&&(i=p),y<a&&(a=y),m>o&&(o=m),p>c&&(c=p),y>u&&(u=y)}return this.min.set(n,i,a),this.max.set(o,c,u),this}setFromPoints(t){this.makeEmpty();for(let n=0,i=t.length;n<i;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){const i=Mc.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return t===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new D),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return t===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new D),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const n=t.geometry;n!==void 0&&(n.boundingBox===null&&n.computeBoundingBox(),og.copy(n.boundingBox),og.applyMatrix4(t.matrixWorld),this.union(og));const i=t.children;for(let a=0,o=i.length;a<o;a++)this.expandByObject(i[a]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,n){return n===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),n=new D),n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Mc),Mc.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let n,i;return t.normal.x>0?(n=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(n=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(n+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(n+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(n+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(n+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),n<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(wc),th.subVectors(this.max,wc),_o.subVectors(t.a,wc),Mo.subVectors(t.b,wc),wo.subVectors(t.c,wc),hr.subVectors(Mo,_o),dr.subVectors(wo,Mo),na.subVectors(_o,wo);let n=[0,-hr.z,hr.y,0,-dr.z,dr.y,0,-na.z,na.y,hr.z,0,-hr.x,dr.z,0,-dr.x,na.z,0,-na.x,-hr.y,hr.x,0,-dr.y,dr.x,0,-na.y,na.x,0];return!ag(n,_o,Mo,wo,th)||(n=[1,0,0,0,1,0,0,0,1],!ag(n,_o,Mo,wo,th))?!1:(eh.crossVectors(hr,dr),n=[eh.x,eh.y,eh.z],ag(n,_o,Mo,wo,th))}clampPoint(t,n){return n===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),n=new D),n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Mc.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return t===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=this.getSize(Mc).length()*.5,t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Es[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Es[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Es[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Es[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Es[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Es[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Es[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Es[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Es),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function ag(e,t,n,i,a){for(let o=0,c=e.length-3;o<=c;o+=3){ia.fromArray(e,o);const u=a.x*Math.abs(ia.x)+a.y*Math.abs(ia.y)+a.z*Math.abs(ia.z),h=t.dot(ia),d=n.dot(ia),m=i.dot(ia);if(Math.max(-Math.max(h,d,m),Math.min(h,d,m))>u)return!1}return!0}const Es=[new D,new D,new D,new D,new D,new D,new D,new D],Mc=new D,og=new cs,_o=new D,Mo=new D,wo=new D,hr=new D,dr=new D,na=new D,wc=new D,th=new D,eh=new D,ia=new D,QR=new cs;class Hs{constructor(t,n){this.center=t!==void 0?t:new D,this.radius=n!==void 0?n:-1}set(t,n){return this.center.copy(t),this.radius=n,this}setFromPoints(t,n){const i=this.center;n!==void 0?i.copy(n):QR.setFromPoints(t).getCenter(i);let a=0;for(let o=0,c=t.length;o<c;o++)a=Math.max(a,i.distanceToSquared(t[o]));return this.radius=Math.sqrt(a),this}clone(){return new this.constructor().copy(this)}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const n=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=n*n}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,n){const i=this.center.distanceToSquared(t);return n===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),n=new D),n.copy(t),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(t){return t===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new cs),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}}const As=new D,lg=new D,nh=new D,pr=new D,cg=new D,ih=new D,ug=new D;class yl{constructor(t,n){this.origin=t!==void 0?t:new D,this.direction=n!==void 0?n:new D(0,0,-1)}set(t,n){return this.origin.copy(t),this.direction.copy(n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,n){return n===void 0&&(console.warn("THREE.Ray: .at() target is now required"),n=new D),n.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,As)),this}closestPointToPoint(t,n){n===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),n=new D),n.subVectors(t,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const n=As.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(As.copy(this.direction).multiplyScalar(n).add(this.origin),As.distanceToSquared(t))}distanceSqToSegment(t,n,i,a){lg.copy(t).add(n).multiplyScalar(.5),nh.copy(n).sub(t).normalize(),pr.copy(this.origin).sub(lg);const o=t.distanceTo(n)*.5,c=-this.direction.dot(nh),u=pr.dot(this.direction),h=-pr.dot(nh),d=pr.lengthSq(),m=Math.abs(1-c*c);let p,y,v,_;if(m>0)if(p=c*h-u,y=c*u-h,_=o*m,p>=0)if(y>=-_)if(y<=_){const S=1/m;p*=S,y*=S,v=p*(p+c*y+2*u)+y*(c*p+y+2*h)+d}else y=o,p=Math.max(0,-(c*y+u)),v=-p*p+y*(y+2*h)+d;else y=-o,p=Math.max(0,-(c*y+u)),v=-p*p+y*(y+2*h)+d;else y<=-_?(p=Math.max(0,-(-c*o+u)),y=p>0?-o:Math.min(Math.max(-o,-h),o),v=-p*p+y*(y+2*h)+d):y<=_?(p=0,y=Math.min(Math.max(-o,-h),o),v=y*(y+2*h)+d):(p=Math.max(0,-(c*o+u)),y=p>0?o:Math.min(Math.max(-o,-h),o),v=-p*p+y*(y+2*h)+d);else y=c>0?-o:o,p=Math.max(0,-(c*y+u)),v=-p*p+y*(y+2*h)+d;return i&&i.copy(this.direction).multiplyScalar(p).add(this.origin),a&&a.copy(nh).multiplyScalar(y).add(lg),v}intersectSphere(t,n){As.subVectors(t.center,this.origin);const i=As.dot(this.direction),a=As.dot(As)-i*i,o=t.radius*t.radius;if(a>o)return null;const c=Math.sqrt(o-a),u=i-c,h=i+c;return u<0&&h<0?null:u<0?this.at(h,n):this.at(u,n)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const n=t.normal.dot(this.direction);if(n===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/n;return i>=0?i:null}intersectPlane(t,n){const i=this.distanceToPlane(t);return i===null?null:this.at(i,n)}intersectsPlane(t){const n=t.distanceToPoint(this.origin);return n===0||t.normal.dot(this.direction)*n<0}intersectBox(t,n){let i,a,o,c,u,h;const d=1/this.direction.x,m=1/this.direction.y,p=1/this.direction.z,y=this.origin;return d>=0?(i=(t.min.x-y.x)*d,a=(t.max.x-y.x)*d):(i=(t.max.x-y.x)*d,a=(t.min.x-y.x)*d),m>=0?(o=(t.min.y-y.y)*m,c=(t.max.y-y.y)*m):(o=(t.max.y-y.y)*m,c=(t.min.y-y.y)*m),i>c||o>a||((o>i||i!==i)&&(i=o),(c<a||a!==a)&&(a=c),p>=0?(u=(t.min.z-y.z)*p,h=(t.max.z-y.z)*p):(u=(t.max.z-y.z)*p,h=(t.min.z-y.z)*p),i>h||u>a)||((u>i||i!==i)&&(i=u),(h<a||a!==a)&&(a=h),a<0)?null:this.at(i>=0?i:a,n)}intersectsBox(t){return this.intersectBox(t,As)!==null}intersectTriangle(t,n,i,a,o){cg.subVectors(n,t),ih.subVectors(i,t),ug.crossVectors(cg,ih);let c=this.direction.dot(ug),u;if(c>0){if(a)return null;u=1}else if(c<0)u=-1,c=-c;else return null;pr.subVectors(this.origin,t);const h=u*this.direction.dot(ih.crossVectors(pr,ih));if(h<0)return null;const d=u*this.direction.dot(cg.cross(pr));if(d<0||h+d>c)return null;const m=-u*pr.dot(ug);return m<0?null:this.at(m/c,o)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}class re{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,n,i,a,o,c,u,h,d,m,p,y,v,_,S,w){const M=this.elements;return M[0]=t,M[4]=n,M[8]=i,M[12]=a,M[1]=o,M[5]=c,M[9]=u,M[13]=h,M[2]=d,M[6]=m,M[10]=p,M[14]=y,M[3]=v,M[7]=_,M[11]=S,M[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new re().fromArray(this.elements)}copy(t){const n=this.elements,i=t.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(t){const n=this.elements,i=t.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}extractBasis(t,n,i){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,n,i){return this.set(t.x,n.x,i.x,0,t.y,n.y,i.y,0,t.z,n.z,i.z,0,0,0,0,1),this}extractRotation(t){const n=this.elements,i=t.elements,a=1/So.setFromMatrixColumn(t,0).length(),o=1/So.setFromMatrixColumn(t,1).length(),c=1/So.setFromMatrixColumn(t,2).length();return n[0]=i[0]*a,n[1]=i[1]*a,n[2]=i[2]*a,n[3]=0,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[7]=0,n[8]=i[8]*c,n[9]=i[9]*c,n[10]=i[10]*c,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,i=t.x,a=t.y,o=t.z,c=Math.cos(i),u=Math.sin(i),h=Math.cos(a),d=Math.sin(a),m=Math.cos(o),p=Math.sin(o);if(t.order==="XYZ"){const y=c*m,v=c*p,_=u*m,S=u*p;n[0]=h*m,n[4]=-h*p,n[8]=d,n[1]=v+_*d,n[5]=y-S*d,n[9]=-u*h,n[2]=S-y*d,n[6]=_+v*d,n[10]=c*h}else if(t.order==="YXZ"){const y=h*m,v=h*p,_=d*m,S=d*p;n[0]=y+S*u,n[4]=_*u-v,n[8]=c*d,n[1]=c*p,n[5]=c*m,n[9]=-u,n[2]=v*u-_,n[6]=S+y*u,n[10]=c*h}else if(t.order==="ZXY"){const y=h*m,v=h*p,_=d*m,S=d*p;n[0]=y-S*u,n[4]=-c*p,n[8]=_+v*u,n[1]=v+_*u,n[5]=c*m,n[9]=S-y*u,n[2]=-c*d,n[6]=u,n[10]=c*h}else if(t.order==="ZYX"){const y=c*m,v=c*p,_=u*m,S=u*p;n[0]=h*m,n[4]=_*d-v,n[8]=y*d+S,n[1]=h*p,n[5]=S*d+y,n[9]=v*d-_,n[2]=-d,n[6]=u*h,n[10]=c*h}else if(t.order==="YZX"){const y=c*h,v=c*d,_=u*h,S=u*d;n[0]=h*m,n[4]=S-y*p,n[8]=_*p+v,n[1]=p,n[5]=c*m,n[9]=-u*m,n[2]=-d*m,n[6]=v*p+_,n[10]=y-S*p}else if(t.order==="XZY"){const y=c*h,v=c*d,_=u*h,S=u*d;n[0]=h*m,n[4]=-p,n[8]=d*m,n[1]=y*p+S,n[5]=c*m,n[9]=v*p-_,n[2]=_*p-v,n[6]=u*m,n[10]=S*p+y}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(JR,t,KR)}lookAt(t,n,i){const a=this.elements;return ti.subVectors(t,n),ti.lengthSq()===0&&(ti.z=1),ti.normalize(),mr.crossVectors(i,ti),mr.lengthSq()===0&&(Math.abs(i.z)===1?ti.x+=1e-4:ti.z+=1e-4,ti.normalize(),mr.crossVectors(i,ti)),mr.normalize(),sh.crossVectors(ti,mr),a[0]=mr.x,a[4]=sh.x,a[8]=ti.x,a[1]=mr.y,a[5]=sh.y,a[9]=ti.y,a[2]=mr.z,a[6]=sh.z,a[10]=ti.z,this}multiply(t,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,n)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const i=t.elements,a=n.elements,o=this.elements,c=i[0],u=i[4],h=i[8],d=i[12],m=i[1],p=i[5],y=i[9],v=i[13],_=i[2],S=i[6],w=i[10],M=i[14],b=i[3],T=i[7],R=i[11],C=i[15],A=a[0],O=a[4],P=a[8],G=a[12],J=a[1],j=a[5],I=a[9],K=a[13],F=a[2],k=a[6],z=a[10],q=a[14],X=a[3],lt=a[7],ht=a[11],gt=a[15];return o[0]=c*A+u*J+h*F+d*X,o[4]=c*O+u*j+h*k+d*lt,o[8]=c*P+u*I+h*z+d*ht,o[12]=c*G+u*K+h*q+d*gt,o[1]=m*A+p*J+y*F+v*X,o[5]=m*O+p*j+y*k+v*lt,o[9]=m*P+p*I+y*z+v*ht,o[13]=m*G+p*K+y*q+v*gt,o[2]=_*A+S*J+w*F+M*X,o[6]=_*O+S*j+w*k+M*lt,o[10]=_*P+S*I+w*z+M*ht,o[14]=_*G+S*K+w*q+M*gt,o[3]=b*A+T*J+R*F+C*X,o[7]=b*O+T*j+R*k+C*lt,o[11]=b*P+T*I+R*z+C*ht,o[15]=b*G+T*K+R*q+C*gt,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){const t=this.elements,n=t[0],i=t[4],a=t[8],o=t[12],c=t[1],u=t[5],h=t[9],d=t[13],m=t[2],p=t[6],y=t[10],v=t[14],_=t[3],S=t[7],w=t[11],M=t[15];return _*(+o*h*p-a*d*p-o*u*y+i*d*y+a*u*v-i*h*v)+S*(+n*h*v-n*d*y+o*c*y-a*c*v+a*d*m-o*h*m)+w*(+n*d*p-n*u*v-o*c*p+i*c*v+o*u*m-i*d*m)+M*(-a*u*m-n*h*p+n*u*y+a*c*p-i*c*y+i*h*m)}transpose(){const t=this.elements;let n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this}setPosition(t,n,i){const a=this.elements;return t.isVector3?(a[12]=t.x,a[13]=t.y,a[14]=t.z):(a[12]=t,a[13]=n,a[14]=i),this}getInverse(t,n){n!==void 0&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const i=this.elements,a=t.elements,o=a[0],c=a[1],u=a[2],h=a[3],d=a[4],m=a[5],p=a[6],y=a[7],v=a[8],_=a[9],S=a[10],w=a[11],M=a[12],b=a[13],T=a[14],R=a[15],C=_*T*y-b*S*y+b*p*w-m*T*w-_*p*R+m*S*R,A=M*S*y-v*T*y-M*p*w+d*T*w+v*p*R-d*S*R,O=v*b*y-M*_*y+M*m*w-d*b*w-v*m*R+d*_*R,P=M*_*p-v*b*p-M*m*S+d*b*S+v*m*T-d*_*T,G=o*C+c*A+u*O+h*P;if(G===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const J=1/G;return i[0]=C*J,i[1]=(b*S*h-_*T*h-b*u*w+c*T*w+_*u*R-c*S*R)*J,i[2]=(m*T*h-b*p*h+b*u*y-c*T*y-m*u*R+c*p*R)*J,i[3]=(_*p*h-m*S*h-_*u*y+c*S*y+m*u*w-c*p*w)*J,i[4]=A*J,i[5]=(v*T*h-M*S*h+M*u*w-o*T*w-v*u*R+o*S*R)*J,i[6]=(M*p*h-d*T*h-M*u*y+o*T*y+d*u*R-o*p*R)*J,i[7]=(d*S*h-v*p*h+v*u*y-o*S*y-d*u*w+o*p*w)*J,i[8]=O*J,i[9]=(M*_*h-v*b*h-M*c*w+o*b*w+v*c*R-o*_*R)*J,i[10]=(d*b*h-M*m*h+M*c*y-o*b*y-d*c*R+o*m*R)*J,i[11]=(v*m*h-d*_*h-v*c*y+o*_*y+d*c*w-o*m*w)*J,i[12]=P*J,i[13]=(v*b*u-M*_*u+M*c*S-o*b*S-v*c*T+o*_*T)*J,i[14]=(M*m*u-d*b*u-M*c*p+o*b*p+d*c*T-o*m*T)*J,i[15]=(d*_*u-v*m*u+v*c*p-o*_*p-d*c*S+o*m*S)*J,this}scale(t){const n=this.elements,i=t.x,a=t.y,o=t.z;return n[0]*=i,n[4]*=a,n[8]*=o,n[1]*=i,n[5]*=a,n[9]*=o,n[2]*=i,n[6]*=a,n[10]*=o,n[3]*=i,n[7]*=a,n[11]*=o,this}getMaxScaleOnAxis(){const t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],a=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,i,a))}makeTranslation(t,n,i){return this.set(1,0,0,t,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(t){const n=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(t){const n=Math.cos(t),i=Math.sin(t);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(t){const n=Math.cos(t),i=Math.sin(t);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){const i=Math.cos(n),a=Math.sin(n),o=1-i,c=t.x,u=t.y,h=t.z,d=o*c,m=o*u;return this.set(d*c+i,d*u-a*h,d*h+a*u,0,d*u+a*h,m*u+i,m*h-a*c,0,d*h-a*u,m*h+a*c,o*h*h+i,0,0,0,0,1),this}makeScale(t,n,i){return this.set(t,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,n,i){return this.set(1,n,i,0,t,1,i,0,t,n,1,0,0,0,0,1),this}compose(t,n,i){const a=this.elements,o=n._x,c=n._y,u=n._z,h=n._w,d=o+o,m=c+c,p=u+u,y=o*d,v=o*m,_=o*p,S=c*m,w=c*p,M=u*p,b=h*d,T=h*m,R=h*p,C=i.x,A=i.y,O=i.z;return a[0]=(1-(S+M))*C,a[1]=(v+R)*C,a[2]=(_-T)*C,a[3]=0,a[4]=(v-R)*A,a[5]=(1-(y+M))*A,a[6]=(w+b)*A,a[7]=0,a[8]=(_+T)*O,a[9]=(w-b)*O,a[10]=(1-(y+S))*O,a[11]=0,a[12]=t.x,a[13]=t.y,a[14]=t.z,a[15]=1,this}decompose(t,n,i){const a=this.elements;let o=So.set(a[0],a[1],a[2]).length();const c=So.set(a[4],a[5],a[6]).length(),u=So.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),t.x=a[12],t.y=a[13],t.z=a[14],Di.copy(this);const d=1/o,m=1/c,p=1/u;return Di.elements[0]*=d,Di.elements[1]*=d,Di.elements[2]*=d,Di.elements[4]*=m,Di.elements[5]*=m,Di.elements[6]*=m,Di.elements[8]*=p,Di.elements[9]*=p,Di.elements[10]*=p,n.setFromRotationMatrix(Di),i.x=o,i.y=c,i.z=u,this}makePerspective(t,n,i,a,o,c){c===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const u=this.elements,h=2*o/(n-t),d=2*o/(i-a),m=(n+t)/(n-t),p=(i+a)/(i-a),y=-(c+o)/(c-o),v=-2*c*o/(c-o);return u[0]=h,u[4]=0,u[8]=m,u[12]=0,u[1]=0,u[5]=d,u[9]=p,u[13]=0,u[2]=0,u[6]=0,u[10]=y,u[14]=v,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(t,n,i,a,o,c){const u=this.elements,h=1/(n-t),d=1/(i-a),m=1/(c-o),p=(n+t)*h,y=(i+a)*d,v=(c+o)*m;return u[0]=2*h,u[4]=0,u[8]=0,u[12]=-p,u[1]=0,u[5]=2*d,u[9]=0,u[13]=-y,u[2]=0,u[6]=0,u[10]=-2*m,u[14]=-v,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(t){const n=this.elements,i=t.elements;for(let a=0;a<16;a++)if(n[a]!==i[a])return!1;return!0}fromArray(t,n){n===void 0&&(n=0);for(let i=0;i<16;i++)this.elements[i]=t[i+n];return this}toArray(t,n){t===void 0&&(t=[]),n===void 0&&(n=0);const i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t[n+9]=i[9],t[n+10]=i[10],t[n+11]=i[11],t[n+12]=i[12],t[n+13]=i[13],t[n+14]=i[14],t[n+15]=i[15],t}}const So=new D,Di=new re,JR=new D(0,0,0),KR=new D(1,1,1),mr=new D,sh=new D,ti=new D;class vl{constructor(t=0,n=0,i=0,a=vl.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=n,this._z=i,this._order=a}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,i,a){return this._x=t,this._y=n,this._z=i,this._order=a||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n,i){const a=ne.clamp,o=t.elements,c=o[0],u=o[4],h=o[8],d=o[1],m=o[5],p=o[9],y=o[2],v=o[6],_=o[10];switch(n=n||this._order,n){case"XYZ":this._y=Math.asin(a(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-p,_),this._z=Math.atan2(-u,c)):(this._x=Math.atan2(v,m),this._z=0);break;case"YXZ":this._x=Math.asin(-a(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(h,_),this._z=Math.atan2(d,m)):(this._y=Math.atan2(-y,c),this._z=0);break;case"ZXY":this._x=Math.asin(a(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-y,_),this._z=Math.atan2(-u,m)):(this._y=0,this._z=Math.atan2(d,c));break;case"ZYX":this._y=Math.asin(-a(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(v,_),this._z=Math.atan2(d,c)):(this._x=0,this._z=Math.atan2(-u,m));break;case"YZX":this._z=Math.asin(a(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-p,m),this._y=Math.atan2(-y,c)):(this._x=0,this._y=Math.atan2(h,_));break;case"XZY":this._z=Math.asin(-a(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(v,m),this._y=Math.atan2(h,c)):(this._x=Math.atan2(-p,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i!==!1&&this._onChangeCallback(),this}setFromQuaternion(t,n,i){return dM.makeRotationFromQuaternion(t),this.setFromRotationMatrix(dM,n,i)}setFromVector3(t,n){return this.set(t.x,t.y,t.z,n||this._order)}reorder(t){return pM.setFromEuler(this),this.setFromQuaternion(pM,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new D(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}vl.DefaultOrder="XYZ";vl.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const dM=new re,pM=new Rn;class dv{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}}let $R=0;const mM=new D,To=new Rn,Rs=new re,rh=new D,Sc=new D,tC=new D,eC=new Rn,gM=new D(1,0,0),yM=new D(0,1,0),vM=new D(0,0,1),nC={type:"added"},iC={type:"removed"};function zt(){Object.defineProperty(this,"id",{value:$R++}),this.uuid=ne.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=zt.DefaultUp.clone();const e=new D,t=new vl,n=new Rn,i=new D(1,1,1);function a(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(a),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new re},normalMatrix:{value:new Nn}}),this.matrix=new re,this.matrixWorld=new re,this.matrixAutoUpdate=zt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new dv,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}zt.DefaultUp=new D(0,1,0);zt.DefaultMatrixAutoUpdate=!0;zt.prototype=Object.assign(Object.create(ls.prototype),{constructor:zt,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return To.setFromAxisAngle(e,t),this.quaternion.multiply(To),this},rotateOnWorldAxis:function(e,t){return To.setFromAxisAngle(e,t),this.quaternion.premultiply(To),this},rotateX:function(e){return this.rotateOnAxis(gM,e)},rotateY:function(e){return this.rotateOnAxis(yM,e)},rotateZ:function(e){return this.rotateOnAxis(vM,e)},translateOnAxis:function(e,t){return mM.copy(e).applyQuaternion(this.quaternion),this.position.add(mM.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(gM,e)},translateY:function(e){return this.translateOnAxis(yM,e)},translateZ:function(e){return this.translateOnAxis(vM,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Rs.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?rh.copy(e):rh.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Sc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Rs.lookAt(Sc,rh,this.up):Rs.lookAt(rh,Sc,this.up),this.quaternion.setFromRotationMatrix(Rs),i&&(Rs.extractRotation(i.matrixWorld),To.setFromRotationMatrix(Rs),this.quaternion.premultiply(To.inverse()))},add:function(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(nC)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(iC)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),Rs.getInverse(this.matrixWorld),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Rs.multiply(e.parent.matrixWorld)),e.applyMatrix4(Rs),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new D),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new Rn),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Sc,e,tC),e},getWorldScale:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new D),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Sc,eC,e),e},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new D),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON());function a(c,u){return c[u.uuid]===void 0&&(c[u.uuid]=u.toJSON(e)),u.uuid}if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const u=c.shapes;if(Array.isArray(u))for(let h=0,d=u.length;h<d;h++){const m=u[h];a(e.shapes,m)}else a(e.shapes,u)}}if(this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let u=0,h=this.material.length;u<h;u++)c.push(a(e.materials,this.material[u]));i.material=c}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let c=0;c<this.children.length;c++)i.children.push(this.children[c].toJSON(e).object)}if(t){const c=o(e.geometries),u=o(e.materials),h=o(e.textures),d=o(e.images),m=o(e.shapes);c.length>0&&(n.geometries=c),u.length>0&&(n.materials=u),h.length>0&&(n.textures=h),d.length>0&&(n.images=d),m.length>0&&(n.shapes=m)}return n.object=i,n;function o(c){const u=[];for(const h in c){const d=c[h];delete d.metadata,u.push(d)}return u}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t){if(t===void 0&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}});const fg=new D,sC=new D,rC=new Nn;class Ki{constructor(t,n){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=t!==void 0?t:new D(1,0,0),this.constant=n!==void 0?n:0}set(t,n){return this.normal.copy(t),this.constant=n,this}setComponents(t,n,i,a){return this.normal.set(t,n,i),this.constant=a,this}setFromNormalAndCoplanarPoint(t,n){return this.normal.copy(t),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(t,n,i){const a=fg.subVectors(i,n).cross(sC.subVectors(t,n)).normalize();return this.setFromNormalAndCoplanarPoint(a,t),this}clone(){return new this.constructor().copy(this)}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,n){return n===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),n=new D),n.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,n){n===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new D);const i=t.delta(fg),a=this.normal.dot(i);if(a===0)return this.distanceToPoint(t.start)===0?n.copy(t.start):void 0;const o=-(t.start.dot(this.normal)+this.constant)/a;if(!(o<0||o>1))return n.copy(i).multiplyScalar(o).add(t.start)}intersectsLine(t){const n=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return n<0&&i>0||i<0&&n>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new D),t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,n){const i=n||rC.getNormalMatrix(t),a=this.coplanarPoint(fg).applyMatrix4(t),o=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}const Oi=new D,Cs=new D,hg=new D,Ls=new D,Eo=new D,Ao=new D,xM=new D,dg=new D,pg=new D,mg=new D;class bn{constructor(t,n,i){this.a=t!==void 0?t:new D,this.b=n!==void 0?n:new D,this.c=i!==void 0?i:new D}static getNormal(t,n,i,a){a===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),a=new D),a.subVectors(i,n),Oi.subVectors(t,n),a.cross(Oi);const o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}static getBarycoord(t,n,i,a,o){Oi.subVectors(a,n),Cs.subVectors(i,n),hg.subVectors(t,n);const c=Oi.dot(Oi),u=Oi.dot(Cs),h=Oi.dot(hg),d=Cs.dot(Cs),m=Cs.dot(hg),p=c*d-u*u;if(o===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),o=new D),p===0)return o.set(-2,-1,-1);const y=1/p,v=(d*h-u*m)*y,_=(c*m-u*h)*y;return o.set(1-v-_,_,v)}static containsPoint(t,n,i,a){return this.getBarycoord(t,n,i,a,Ls),Ls.x>=0&&Ls.y>=0&&Ls.x+Ls.y<=1}static getUV(t,n,i,a,o,c,u,h){return this.getBarycoord(t,n,i,a,Ls),h.set(0,0),h.addScaledVector(o,Ls.x),h.addScaledVector(c,Ls.y),h.addScaledVector(u,Ls.z),h}static isFrontFacing(t,n,i,a){return Oi.subVectors(i,n),Cs.subVectors(t,n),Oi.cross(Cs).dot(a)<0}set(t,n,i){return this.a.copy(t),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(t,n,i,a){return this.a.copy(t[n]),this.b.copy(t[i]),this.c.copy(t[a]),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Oi.subVectors(this.c,this.b),Cs.subVectors(this.a,this.b),Oi.cross(Cs).length()*.5}getMidpoint(t){return t===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new D),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return bn.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Ki),t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,n){return bn.getBarycoord(t,this.a,this.b,this.c,n)}getUV(t,n,i,a,o){return bn.getUV(t,this.a,this.b,this.c,n,i,a,o)}containsPoint(t){return bn.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return bn.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,n){n===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),n=new D);const i=this.a,a=this.b,o=this.c;let c,u;Eo.subVectors(a,i),Ao.subVectors(o,i),dg.subVectors(t,i);const h=Eo.dot(dg),d=Ao.dot(dg);if(h<=0&&d<=0)return n.copy(i);pg.subVectors(t,a);const m=Eo.dot(pg),p=Ao.dot(pg);if(m>=0&&p<=m)return n.copy(a);const y=h*p-m*d;if(y<=0&&h>=0&&m<=0)return c=h/(h-m),n.copy(i).addScaledVector(Eo,c);mg.subVectors(t,o);const v=Eo.dot(mg),_=Ao.dot(mg);if(_>=0&&v<=_)return n.copy(o);const S=v*d-h*_;if(S<=0&&d>=0&&_<=0)return u=d/(d-_),n.copy(i).addScaledVector(Ao,u);const w=m*_-v*p;if(w<=0&&p-m>=0&&v-_>=0)return xM.subVectors(o,a),u=(p-m)/(p-m+(v-_)),n.copy(a).addScaledVector(xM,u);const M=1/(w+S+y);return c=S*M,u=y*M,n.copy(i).addScaledVector(Eo,c).addScaledVector(Ao,u)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const uT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Pi={h:0,s:0,l:0},ah={h:0,s:0,l:0};function gg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}function yg(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function vg(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}class Ct{constructor(t,n,i){return Object.defineProperty(this,"isColor",{value:!0}),n===void 0&&i===void 0?this.set(t):this.setRGB(t,n,i)}set(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,this}setRGB(t,n,i){return this.r=t,this.g=n,this.b=i,this}setHSL(t,n,i){if(t=ne.euclideanModulo(t,1),n=ne.clamp(n,0,1),i=ne.clamp(i,0,1),n===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+n):i+n-i*n,o=2*i-a;this.r=gg(o,a,t+1/3),this.g=gg(o,a,t),this.b=gg(o,a,t-1/3)}return this}setStyle(t){function n(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){let a;const o=i[1],c=i[2];switch(o){case"rgb":case"rgba":if(a=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(c))return this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,n(a[5]),this;if(a=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(c))return this.r=Math.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,n(a[5]),this;break;case"hsl":case"hsla":if(a=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(c)){const u=parseFloat(a[1])/360,h=parseInt(a[2],10)/100,d=parseInt(a[3],10)/100;return n(a[5]),this.setHSL(u,h,d)}break}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(t)){const a=i[1],o=a.length;if(o===3)return this.r=parseInt(a.charAt(0)+a.charAt(0),16)/255,this.g=parseInt(a.charAt(1)+a.charAt(1),16)/255,this.b=parseInt(a.charAt(2)+a.charAt(2),16)/255,this;if(o===6)return this.r=parseInt(a.charAt(0)+a.charAt(1),16)/255,this.g=parseInt(a.charAt(2)+a.charAt(3),16)/255,this.b=parseInt(a.charAt(4)+a.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const n=uT[t];return n!==void 0?this.setHex(n):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,n){return n===void 0&&(n=2),this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}copyLinearToGamma(t,n){n===void 0&&(n=2);const i=n>0?1/n:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=yg(t.r),this.g=yg(t.g),this.b=yg(t.b),this}copyLinearToSRGB(t){return this.r=vg(t.r),this.g=vg(t.g),this.b=vg(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){t===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});const n=this.r,i=this.g,a=this.b,o=Math.max(n,i,a),c=Math.min(n,i,a);let u,h;const d=(c+o)/2;if(c===o)u=0,h=0;else{const m=o-c;switch(h=d<=.5?m/(o+c):m/(2-o-c),o){case n:u=(i-a)/m+(i<a?6:0);break;case i:u=(a-n)/m+2;break;case a:u=(n-i)/m+4;break}u/=6}return t.h=u,t.s=h,t.l=d,t}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(t,n,i){return this.getHSL(Pi),Pi.h+=t,Pi.s+=n,Pi.l+=i,this.setHSL(Pi.h,Pi.s,Pi.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this}lerpHSL(t,n){this.getHSL(Pi),t.getHSL(ah);const i=ne.lerp(Pi.h,ah.h,n),a=ne.lerp(Pi.s,ah.s,n),o=ne.lerp(Pi.l,ah.l,n);return this.setHSL(i,a,o),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,n){return n===void 0&&(n=0),this.r=t[n],this.g=t[n+1],this.b=t[n+2],this}toArray(t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t}fromBufferAttribute(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),t.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Ct.NAMES=uT;Ct.prototype.r=1;Ct.prototype.g=1;Ct.prototype.b=1;class $c{constructor(t,n,i,a,o,c){this.a=t,this.b=n,this.c=i,this.normal=a&&a.isVector3?a:new D,this.vertexNormals=Array.isArray(a)?a:[],this.color=o&&o.isColor?o:new Ct,this.vertexColors=Array.isArray(o)?o:[],this.materialIndex=c!==void 0?c:0}clone(){return new this.constructor().copy(this)}copy(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(let n=0,i=t.vertexNormals.length;n<i;n++)this.vertexNormals[n]=t.vertexNormals[n].clone();for(let n=0,i=t.vertexColors.length;n<i;n++)this.vertexColors[n]=t.vertexColors[n].clone();return this}}let aC=0;function Qt(){Object.defineProperty(this,"id",{value:aC++}),this.uuid=ne.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=Zo,this.side=dl,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=av,this.blendDst=ov,this.blendEquation=pa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=td,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=cT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Yh,this.stencilZFail=Yh,this.stencilZPass=Yh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}Qt.prototype=Object.assign(Object.create(ls.prototype),{constructor:Qt,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===rv;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}},toJSON:function(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,this.combine!==void 0&&(n.combine=this.combine),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Zo&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==dl&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.morphNormals===!0&&(n.morphNormals=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(a){const o=[];for(const c in a){const u=a[c];delete u.metadata,o.push(u)}return o}if(t){const a=i(e.textures),o=i(e.images);a.length>0&&(n.textures=a),o.length>0&&(n.images=o)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let a=0;a!==i;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(Qt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function wi(e){Qt.call(this),this.type="MeshBasicMaterial",this.color=new Ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Eu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}wi.prototype=Object.create(Qt.prototype);wi.prototype.constructor=wi;wi.prototype.isMeshBasicMaterial=!0;wi.prototype.copy=function(e){return Qt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const De=new D,oh=new ct;function qt(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=Du,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(qt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(qt.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let n=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new Ct),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){const t=this.array;let n=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new ct),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){const t=this.array;let n=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new D),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){const t=this.array;let n=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Ee),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},applyMatrix3:function(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)oh.fromBufferAttribute(this,t),oh.applyMatrix3(e),this.setXY(t,oh.x,oh.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)De.fromBufferAttribute(this,t),De.applyMatrix3(e),this.setXYZ(t,De.x,De.y,De.z);return this},applyMatrix4:function(e){for(let t=0,n=this.count;t<n;t++)De.x=this.getX(t),De.y=this.getY(t),De.z=this.getZ(t),De.applyMatrix4(e),this.setXYZ(t,De.x,De.y,De.z);return this},applyNormalMatrix:function(e){for(let t=0,n=this.count;t<n;t++)De.x=this.getX(t),De.y=this.getY(t),De.z=this.getZ(t),De.applyNormalMatrix(e),this.setXYZ(t,De.x,De.y,De.z);return this},transformDirection:function(e){for(let t=0,n=this.count;t<n;t++)De.x=this.getX(t),De.y=this.getY(t),De.z=this.getZ(t),De.transformDirection(e),this.setXYZ(t,De.x,De.y,De.z);return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=a,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function tu(e,t,n){qt.call(this,new Int8Array(e),t,n)}tu.prototype=Object.create(qt.prototype);tu.prototype.constructor=tu;function eu(e,t,n){qt.call(this,new Uint8Array(e),t,n)}eu.prototype=Object.create(qt.prototype);eu.prototype.constructor=eu;function nu(e,t,n){qt.call(this,new Uint8ClampedArray(e),t,n)}nu.prototype=Object.create(qt.prototype);nu.prototype.constructor=nu;function iu(e,t,n){qt.call(this,new Int16Array(e),t,n)}iu.prototype=Object.create(qt.prototype);iu.prototype.constructor=iu;function Sa(e,t,n){qt.call(this,new Uint16Array(e),t,n)}Sa.prototype=Object.create(qt.prototype);Sa.prototype.constructor=Sa;function su(e,t,n){qt.call(this,new Int32Array(e),t,n)}su.prototype=Object.create(qt.prototype);su.prototype.constructor=su;function Ta(e,t,n){qt.call(this,new Uint32Array(e),t,n)}Ta.prototype=Object.create(qt.prototype);Ta.prototype.constructor=Ta;function wt(e,t,n){qt.call(this,new Float32Array(e),t,n)}wt.prototype=Object.create(qt.prototype);wt.prototype.constructor=wt;function ru(e,t,n){qt.call(this,new Float64Array(e),t,n)}ru.prototype=Object.create(qt.prototype);ru.prototype.constructor=ru;class oC{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(t){const n=[];let i,a,o;const c=t.faces;for(a=0;a<c.length;a++){const u=c[a];u.materialIndex!==o&&(o=u.materialIndex,i!==void 0&&(i.count=a*3-i.start,n.push(i)),i={start:a*3,materialIndex:o})}i!==void 0&&(i.count=a*3-i.start,n.push(i)),this.groups=n}fromGeometry(t){const n=t.faces,i=t.vertices,a=t.faceVertexUvs,o=a[0]&&a[0].length>0,c=a[1]&&a[1].length>0,u=t.morphTargets,h=u.length;let d;if(h>0){d=[];for(let M=0;M<h;M++)d[M]={name:u[M].name,data:[]};this.morphTargets.position=d}const m=t.morphNormals,p=m.length;let y;if(p>0){y=[];for(let M=0;M<p;M++)y[M]={name:m[M].name,data:[]};this.morphTargets.normal=y}const v=t.skinIndices,_=t.skinWeights,S=v.length===i.length,w=_.length===i.length;i.length>0&&n.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let M=0;M<n.length;M++){const b=n[M];this.vertices.push(i[b.a],i[b.b],i[b.c]);const T=b.vertexNormals;if(T.length===3)this.normals.push(T[0],T[1],T[2]);else{const C=b.normal;this.normals.push(C,C,C)}const R=b.vertexColors;if(R.length===3)this.colors.push(R[0],R[1],R[2]);else{const C=b.color;this.colors.push(C,C,C)}if(o===!0){const C=a[0][M];C!==void 0?this.uvs.push(C[0],C[1],C[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",M),this.uvs.push(new ct,new ct,new ct))}if(c===!0){const C=a[1][M];C!==void 0?this.uvs2.push(C[0],C[1],C[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",M),this.uvs2.push(new ct,new ct,new ct))}for(let C=0;C<h;C++){const A=u[C].vertices;d[C].data.push(A[b.a],A[b.b],A[b.c])}for(let C=0;C<p;C++){const A=m[C].vertexNormals[M];y[C].data.push(A.a,A.b,A.c)}S&&this.skinIndices.push(v[b.a],v[b.b],v[b.c]),w&&this.skinWeights.push(_[b.a],_[b.b],_[b.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),this}}function fT(e){if(e.length===0)return-1/0;let t=e[0];for(let n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}let lC=1;const Zi=new re,xg=new zt,Ro=new D,ei=new cs,Tc=new cs,hn=new D;function Ft(){Object.defineProperty(this,"id",{value:lC+=2}),this.uuid=ne.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Ft.prototype=Object.assign(Object.create(ls.prototype),{constructor:Ft,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return Array.isArray(e)?this.index=new(fT(e)>65535?Ta:Sa)(e,1):this.index=e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n!==void 0?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const a=new Nn().getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(e){return Zi.makeRotationX(e),this.applyMatrix4(Zi),this},rotateY:function(e){return Zi.makeRotationY(e),this.applyMatrix4(Zi),this},rotateZ:function(e){return Zi.makeRotationZ(e),this.applyMatrix4(Zi),this},translate:function(e,t,n){return Zi.makeTranslation(e,t,n),this.applyMatrix4(Zi),this},scale:function(e,t,n){return Zi.makeScale(e,t,n),this.applyMatrix4(Zi),this},lookAt:function(e){return xg.lookAt(e),xg.updateMatrix(),this.applyMatrix4(xg.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ro).negate(),this.translate(Ro.x,Ro.y,Ro.z),this},setFromObject:function(e){const t=e.geometry;if(e.isPoints||e.isLine){const n=new wt(t.vertices.length*3,3),i=new wt(t.colors.length*3,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){const a=new wt(t.lineDistances.length,1);this.setAttribute("lineDistance",a.copyArray(t.lineDistances))}t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const a=e[n];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new wt(t,3)),this},updateFromObject:function(e){let t=e.geometry;if(e.isMesh){let n=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(n=void 0,t.elementsNeedUpdate=!1),n===void 0)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(t.verticesNeedUpdate===!0){const n=this.attributes.position;n!==void 0&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1}if(t.normalsNeedUpdate===!0){const n=this.attributes.normal;n!==void 0&&(n.copyVector3sArray(t.normals),n.needsUpdate=!0),t.normalsNeedUpdate=!1}if(t.colorsNeedUpdate===!0){const n=this.attributes.color;n!==void 0&&(n.copyColorsArray(t.colors),n.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){const n=this.attributes.uv;n!==void 0&&(n.copyVector2sArray(t.uvs),n.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){const n=this.attributes.lineDistance;n!==void 0&&(n.copyArray(t.lineDistances),n.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new oC().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){const t=new Float32Array(e.vertices.length*3);if(this.setAttribute("position",new qt(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){const n=new Float32Array(e.normals.length*3);this.setAttribute("normal",new qt(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const n=new Float32Array(e.colors.length*3);this.setAttribute("color",new qt(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const n=new Float32Array(e.uvs.length*2);this.setAttribute("uv",new qt(n,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const n=new Float32Array(e.uvs2.length*2);this.setAttribute("uv2",new qt(n,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(const n in e.morphTargets){const i=[],a=e.morphTargets[n];for(let o=0,c=a.length;o<c;o++){const u=a[o],h=new wt(u.data.length*3,3);h.name=u.name,i.push(h.copyVector3sArray(u.data))}this.morphAttributes[n]=i}if(e.skinIndices.length>0){const n=new wt(e.skinIndices.length*4,4);this.setAttribute("skinIndex",n.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const n=new wt(e.skinWeights.length*4,4);this.setAttribute("skinWeight",n.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new cs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new D(-1/0,-1/0,-1/0),new D(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const a=t[n];ei.setFromBufferAttribute(a),this.morphTargetsRelative?(hn.addVectors(this.boundingBox.min,ei.min),this.boundingBox.expandByPoint(hn),hn.addVectors(this.boundingBox.max,ei.max),this.boundingBox.expandByPoint(hn)):(this.boundingBox.expandByPoint(ei.min),this.boundingBox.expandByPoint(ei.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Hs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new D,1/0);return}if(e){const n=this.boundingSphere.center;if(ei.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){const c=t[a];Tc.setFromBufferAttribute(c),this.morphTargetsRelative?(hn.addVectors(ei.min,Tc.min),ei.expandByPoint(hn),hn.addVectors(ei.max,Tc.max),ei.expandByPoint(hn)):(ei.expandByPoint(Tc.min),ei.expandByPoint(Tc.max))}ei.getCenter(n);let i=0;for(let a=0,o=e.count;a<o;a++)hn.fromBufferAttribute(e,a),i=Math.max(i,n.distanceToSquared(hn));if(t)for(let a=0,o=t.length;a<o;a++){const c=t[a],u=this.morphTargetsRelative;for(let h=0,d=c.count;h<d;h++)hn.fromBufferAttribute(c,h),u&&(Ro.fromBufferAttribute(e,h),hn.add(Ro)),i=Math.max(i,n.distanceToSquared(hn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new qt(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let p=0,y=n.count;p<y;p++)n.setXYZ(p,0,0,0);const i=new D,a=new D,o=new D,c=new D,u=new D,h=new D,d=new D,m=new D;if(e)for(let p=0,y=e.count;p<y;p+=3){const v=e.getX(p+0),_=e.getX(p+1),S=e.getX(p+2);i.fromBufferAttribute(t,v),a.fromBufferAttribute(t,_),o.fromBufferAttribute(t,S),d.subVectors(o,a),m.subVectors(i,a),d.cross(m),c.fromBufferAttribute(n,v),u.fromBufferAttribute(n,_),h.fromBufferAttribute(n,S),c.add(d),u.add(d),h.add(d),n.setXYZ(v,c.x,c.y,c.z),n.setXYZ(_,u.x,u.y,u.z),n.setXYZ(S,h.x,h.y,h.z)}else for(let p=0,y=t.count;p<y;p+=3)i.fromBufferAttribute(t,p+0),a.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,a),m.subVectors(i,a),d.cross(m),n.setXYZ(p+0,d.x,d.y,d.z),n.setXYZ(p+1,d.x,d.y,d.z),n.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(e.attributes[i]===void 0)continue;const o=n[i].array,c=e.attributes[i],u=c.array,h=c.itemSize*t,d=Math.min(u.length,o.length-h);for(let m=0,p=h;m<d;m++,p++)o[p]=u[m]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)hn.fromBufferAttribute(e,t),hn.normalize(),e.setXYZ(t,hn.x,hn.y,hn.z)},toNonIndexed:function(){function e(c,u){const h=c.array,d=c.itemSize,m=c.normalized,p=new h.constructor(u.length*d);let y=0,v=0;for(let _=0,S=u.length;_<S;_++){y=u[_]*d;for(let w=0;w<d;w++)p[v++]=h[y++]}return new qt(p,d,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const t=new Ft,n=this.index.array,i=this.attributes;for(const c in i){const u=i[c],h=e(u,n);t.setAttribute(c,h)}const a=this.morphAttributes;for(const c in a){const u=[],h=a[c];for(let d=0,m=h.length;d<m;d++){const p=h[d],y=e(p,n);u.push(y)}t.morphAttributes[c]=u}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];t.addGroup(h.start,h.count,h.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const h in u)u[h]!==void 0&&(e[h]=u[h]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const u in n){const h=n[u],d=h.toJSON(e.data);h.name!==""&&(d.name=h.name),e.data.attributes[u]=d}const i={};let a=!1;for(const u in this.morphAttributes){const h=this.morphAttributes[u],d=[];for(let m=0,p=h.length;m<p;m++){const y=h[m],v=y.toJSON(e.data);y.name!==""&&(v.name=y.name),d.push(v)}d.length>0&&(i[u]=d,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),e},clone:function(){return new Ft().copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const h in i){const d=i[h];this.setAttribute(h,d.clone(t))}const a=e.morphAttributes;for(const h in a){const d=[],m=a[h];for(let p=0,y=m.length;p<y;p++)d.push(m[p].clone(t));this.morphAttributes[h]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let h=0,d=o.length;h<d;h++){const m=o[h];this.addGroup(m.start,m.count,m.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const bM=new re,sa=new yl,bg=new Hs,gr=new D,yr=new D,vr=new D,_g=new D,Mg=new D,wg=new D,lh=new D,ch=new D,uh=new D,Ho=new ct,Io=new ct,Fo=new ct,Vc=new D,fh=new D;function ze(e,t){zt.call(this),this.type="Mesh",this.geometry=e!==void 0?e:new Ft,this.material=t!==void 0?t:new wi,this.updateMorphTargets()}ze.prototype=Object.assign(Object.create(zt.prototype),{constructor:ze,isMesh:!0,copy:function(e){return zt.prototype.copy.call(this,e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const c=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const n=this.geometry,i=this.material,a=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),bg.copy(n.boundingSphere),bg.applyMatrix4(a),e.ray.intersectsSphere(bg)===!1)||(bM.getInverse(a),sa.copy(e.ray).applyMatrix4(bM),n.boundingBox!==null&&sa.intersectsBox(n.boundingBox)===!1))return;let o;if(n.isBufferGeometry){const c=n.index,u=n.attributes.position,h=n.morphAttributes.position,d=n.morphTargetsRelative,m=n.attributes.uv,p=n.attributes.uv2,y=n.groups,v=n.drawRange;if(c!==null)if(Array.isArray(i))for(let _=0,S=y.length;_<S;_++){const w=y[_],M=i[w.materialIndex],b=Math.max(w.start,v.start),T=Math.min(w.start+w.count,v.start+v.count);for(let R=b,C=T;R<C;R+=3){const A=c.getX(R),O=c.getX(R+1),P=c.getX(R+2);o=hh(this,M,e,sa,u,h,d,m,p,A,O,P),o&&(o.faceIndex=Math.floor(R/3),o.face.materialIndex=w.materialIndex,t.push(o))}}else{const _=Math.max(0,v.start),S=Math.min(c.count,v.start+v.count);for(let w=_,M=S;w<M;w+=3){const b=c.getX(w),T=c.getX(w+1),R=c.getX(w+2);o=hh(this,i,e,sa,u,h,d,m,p,b,T,R),o&&(o.faceIndex=Math.floor(w/3),t.push(o))}}else if(u!==void 0)if(Array.isArray(i))for(let _=0,S=y.length;_<S;_++){const w=y[_],M=i[w.materialIndex],b=Math.max(w.start,v.start),T=Math.min(w.start+w.count,v.start+v.count);for(let R=b,C=T;R<C;R+=3){const A=R,O=R+1,P=R+2;o=hh(this,M,e,sa,u,h,d,m,p,A,O,P),o&&(o.faceIndex=Math.floor(R/3),o.face.materialIndex=w.materialIndex,t.push(o))}}else{const _=Math.max(0,v.start),S=Math.min(u.count,v.start+v.count);for(let w=_,M=S;w<M;w+=3){const b=w,T=w+1,R=w+2;o=hh(this,i,e,sa,u,h,d,m,p,b,T,R),o&&(o.faceIndex=Math.floor(w/3),t.push(o))}}}else if(n.isGeometry){const c=Array.isArray(i),u=n.vertices,h=n.faces;let d;const m=n.faceVertexUvs[0];m.length>0&&(d=m);for(let p=0,y=h.length;p<y;p++){const v=h[p],_=c?i[v.materialIndex]:i;if(_===void 0)continue;const S=u[v.a],w=u[v.b],M=u[v.c];if(o=hT(this,_,e,sa,S,w,M,Vc),o){if(d&&d[p]){const b=d[p];Ho.copy(b[0]),Io.copy(b[1]),Fo.copy(b[2]),o.uv=bn.getUV(Vc,S,w,M,Ho,Io,Fo,new ct)}o.face=v,o.faceIndex=p,t.push(o)}}}}});function hT(e,t,n,i,a,o,c,u){let h;if(t.side===on?h=i.intersectTriangle(c,o,a,!0,u):h=i.intersectTriangle(a,o,c,t.side!==Tu,u),h===null)return null;fh.copy(u),fh.applyMatrix4(e.matrixWorld);const d=n.ray.origin.distanceTo(fh);return d<n.near||d>n.far?null:{distance:d,point:fh.clone(),object:e}}function hh(e,t,n,i,a,o,c,u,h,d,m,p){gr.fromBufferAttribute(a,d),yr.fromBufferAttribute(a,m),vr.fromBufferAttribute(a,p);const y=e.morphTargetInfluences;if(t.morphTargets&&o&&y){lh.set(0,0,0),ch.set(0,0,0),uh.set(0,0,0);for(let _=0,S=o.length;_<S;_++){const w=y[_],M=o[_];w!==0&&(_g.fromBufferAttribute(M,d),Mg.fromBufferAttribute(M,m),wg.fromBufferAttribute(M,p),c?(lh.addScaledVector(_g,w),ch.addScaledVector(Mg,w),uh.addScaledVector(wg,w)):(lh.addScaledVector(_g.sub(gr),w),ch.addScaledVector(Mg.sub(yr),w),uh.addScaledVector(wg.sub(vr),w)))}gr.add(lh),yr.add(ch),vr.add(uh)}e.isSkinnedMesh&&(e.boneTransform(d,gr),e.boneTransform(m,yr),e.boneTransform(p,vr));const v=hT(e,t,n,i,gr,yr,vr,Vc);if(v){u&&(Ho.fromBufferAttribute(u,d),Io.fromBufferAttribute(u,m),Fo.fromBufferAttribute(u,p),v.uv=bn.getUV(Vc,gr,yr,vr,Ho,Io,Fo,new ct)),h&&(Ho.fromBufferAttribute(h,d),Io.fromBufferAttribute(h,m),Fo.fromBufferAttribute(h,p),v.uv2=bn.getUV(Vc,gr,yr,vr,Ho,Io,Fo,new ct));const _=new $c(d,m,p);bn.getNormal(gr,yr,vr,_.normal),v.face=_}return v}class Ou extends Ft{constructor(t=1,n=1,i=1,a=1,o=1,c=1){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:a,heightSegments:o,depthSegments:c};const u=this;a=Math.floor(a),o=Math.floor(o),c=Math.floor(c);const h=[],d=[],m=[],p=[];let y=0,v=0;_("z","y","x",-1,-1,i,n,t,c,o,0),_("z","y","x",1,-1,i,n,-t,c,o,1),_("x","z","y",1,1,t,i,n,a,c,2),_("x","z","y",1,-1,t,i,-n,a,c,3),_("x","y","z",1,-1,t,n,i,a,o,4),_("x","y","z",-1,-1,t,n,-i,a,o,5),this.setIndex(h),this.setAttribute("position",new wt(d,3)),this.setAttribute("normal",new wt(m,3)),this.setAttribute("uv",new wt(p,2));function _(S,w,M,b,T,R,C,A,O,P,G){const J=R/O,j=C/P,I=R/2,K=C/2,F=A/2,k=O+1,z=P+1;let q=0,X=0;const lt=new D;for(let ht=0;ht<z;ht++){const gt=ht*j-K;for(let At=0;At<k;At++){const yt=At*J-I;lt[S]=yt*b,lt[w]=gt*T,lt[M]=F,d.push(lt.x,lt.y,lt.z),lt[S]=0,lt[w]=0,lt[M]=A>0?1:-1,m.push(lt.x,lt.y,lt.z),p.push(At/O),p.push(1-ht/P),q+=1}}for(let ht=0;ht<P;ht++)for(let gt=0;gt<O;gt++){const At=y+gt+k*ht,yt=y+gt+k*(ht+1),Gt=y+(gt+1)+k*(ht+1),st=y+(gt+1)+k*ht;h.push(At,yt,st),h.push(yt,Gt,st),X+=6}u.addGroup(v,X,G),v+=X,y+=q}}}function $o(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const a=e[n][i];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture)?t[n][i]=a.clone():Array.isArray(a)?t[n][i]=a.slice():t[n][i]=a}}return t}function Tn(e){const t={};for(let n=0;n<e.length;n++){const i=$o(e[n]);for(const a in i)t[a]=i[a]}return t}const dT={clone:$o,merge:Tn};var cC=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,uC=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function Un(e){Qt.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=cC,this.fragmentShader=uC,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}Un.prototype=Object.create(Qt.prototype);Un.prototype.constructor=Un;Un.prototype.isShaderMaterial=!0;Un.prototype.copy=function(e){return Qt.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=$o(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this};Un.prototype.toJSON=function(e){const t=Qt.prototype.toJSON.call(this,e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t};function is(){zt.call(this),this.type="Camera",this.matrixWorldInverse=new re,this.projectionMatrix=new re,this.projectionMatrixInverse=new re}is.prototype=Object.assign(Object.create(zt.prototype),{constructor:is,isCamera:!0,copy:function(e,t){return zt.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new D),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){zt.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){zt.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function nn(e,t,n,i){is.call(this),this.type="PerspectiveCamera",this.fov=e!==void 0?e:50,this.zoom=1,this.near=n!==void 0?n:.1,this.far=i!==void 0?i:2e3,this.focus=10,this.aspect=t!==void 0?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}nn.prototype=Object.assign(Object.create(is.prototype),{constructor:nn,isPerspectiveCamera:!0,copy:function(e,t){return is.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=ne.RAD2DEG*2*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(ne.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return ne.RAD2DEG*2*Math.atan(Math.tan(ne.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=this.near;let t=e*Math.tan(ne.DEG2RAD*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,h=o.fullHeight;a+=o.offsetX*i/u,t-=o.offsetY*n/h,i*=o.width/u,n*=o.height/h}const c=this.filmOffset;c!==0&&(a+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=zt.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});const Co=90,Lo=1;function tl(e,t,n){if(zt.call(this),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const i=new nn(Co,Lo,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new D(1,0,0)),this.add(i);const a=new nn(Co,Lo,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new D(-1,0,0)),this.add(a);const o=new nn(Co,Lo,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new D(0,1,0)),this.add(o);const c=new nn(Co,Lo,e,t);c.layers=this.layers,c.up.set(0,0,-1),c.lookAt(new D(0,-1,0)),this.add(c);const u=new nn(Co,Lo,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new D(0,0,1)),this.add(u);const h=new nn(Co,Lo,e,t);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new D(0,0,-1)),this.add(h),this.update=function(d,m){this.parent===null&&this.updateMatrixWorld();const p=d.xr.enabled,y=d.getRenderTarget();d.xr.enabled=!1;const v=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,d.setRenderTarget(n,0),d.render(m,i),d.setRenderTarget(n,1),d.render(m,a),d.setRenderTarget(n,2),d.render(m,o),d.setRenderTarget(n,3),d.render(m,c),d.setRenderTarget(n,4),d.render(m,u),n.texture.generateMipmaps=v,d.setRenderTarget(n,5),d.render(m,h),d.setRenderTarget(y),d.xr.enabled=p},this.clear=function(d,m,p,y){const v=d.getRenderTarget();for(let _=0;_<6;_++)d.setRenderTarget(n,_),d.clear(m,p,y);d.setRenderTarget(v)}}tl.prototype=Object.create(zt.prototype);tl.prototype.constructor=tl;function ss(e,t,n,i,a,o,c,u,h,d){e=e!==void 0?e:[],t=t!==void 0?t:Au,c=c!==void 0?c:wr,Re.call(this,e,t,n,i,a,o,c,u,h,d),this.flipY=!1,this._needsFlipEnvMap=!0}ss.prototype=Object.create(Re.prototype);ss.prototype.constructor=ss;ss.prototype.isCubeTexture=!0;Object.defineProperty(ss.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});function Rr(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),si.call(this,e,e,t),t=t||{},this.texture=new ss(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture._needsFlipEnvMap=!1}Rr.prototype=Object.create(si.prototype);Rr.prototype.constructor=Rr;Rr.prototype.isWebGLCubeRenderTarget=!0;Rr.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=ii,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

			varying vec3 vWorldDirection;

			vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

				return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

			}

			void main() {

				vWorldDirection = transformDirection( position, modelMatrix );

				#include <begin_vertex>
				#include <project_vertex>

			}
		`,fragmentShader:`

			uniform sampler2D tEquirect;

			varying vec3 vWorldDirection;

			#include <common>

			void main() {

				vec3 direction = normalize( vWorldDirection );

				vec2 sampleUV = equirectUv( direction );

				gl_FragColor = texture2D( tEquirect, sampleUV );

			}
		`},i=new Ou(5,5,5),a=new Un({name:"CubemapFromEquirect",uniforms:$o(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:on,blending:Ns});a.uniforms.tEquirect.value=t;const o=new ze(i,a),c=t.minFilter;return t.minFilter===ml&&(t.minFilter=dn),new tl(1,10,this).update(e,o),t.minFilter=c,o.geometry.dispose(),o.material.dispose(),this};function Ea(e,t,n,i,a,o,c,u,h,d,m,p){Re.call(this,null,o,c,u,h,d,i,a,m,p),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=h!==void 0?h:ln,this.minFilter=d!==void 0?d:ln,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Ea.prototype=Object.create(Re.prototype);Ea.prototype.constructor=Ea;Ea.prototype.isDataTexture=!0;const Do=new Hs,dh=new D;class Pu{constructor(t,n,i,a,o,c){this.planes=[t!==void 0?t:new Ki,n!==void 0?n:new Ki,i!==void 0?i:new Ki,a!==void 0?a:new Ki,o!==void 0?o:new Ki,c!==void 0?c:new Ki]}set(t,n,i,a,o,c){const u=this.planes;return u[0].copy(t),u[1].copy(n),u[2].copy(i),u[3].copy(a),u[4].copy(o),u[5].copy(c),this}clone(){return new this.constructor().copy(this)}copy(t){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t){const n=this.planes,i=t.elements,a=i[0],o=i[1],c=i[2],u=i[3],h=i[4],d=i[5],m=i[6],p=i[7],y=i[8],v=i[9],_=i[10],S=i[11],w=i[12],M=i[13],b=i[14],T=i[15];return n[0].setComponents(u-a,p-h,S-y,T-w).normalize(),n[1].setComponents(u+a,p+h,S+y,T+w).normalize(),n[2].setComponents(u+o,p+d,S+v,T+M).normalize(),n[3].setComponents(u-o,p-d,S-v,T-M).normalize(),n[4].setComponents(u-c,p-m,S-_,T-b).normalize(),n[5].setComponents(u+c,p+m,S+_,T+b).normalize(),this}intersectsObject(t){const n=t.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Do.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Do)}intersectsSprite(t){return Do.center.set(0,0,0),Do.radius=.7071067811865476,Do.applyMatrix4(t.matrixWorld),this.intersectsSphere(Do)}intersectsSphere(t){const n=this.planes,i=t.center,a=-t.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(i)<a)return!1;return!0}intersectsBox(t){const n=this.planes;for(let i=0;i<6;i++){const a=n[i];if(dh.x=a.normal.x>0?t.max.x:t.min.x,dh.y=a.normal.y>0?t.max.y:t.min.y,dh.z=a.normal.z>0?t.max.z:t.min.z,a.distanceToPoint(dh)<0)return!1}return!0}containsPoint(t){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(t)<0)return!1;return!0}}function pT(){let e=null,t=!1,n=null,i=null;function a(o,c){n(o,c),i=e.requestAnimationFrame(a)}return{start:function(){t!==!0&&n!==null&&(i=e.requestAnimationFrame(a),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(o){n=o},setContext:function(o){e=o}}}function fC(e,t){const n=t.isWebGL2,i=new WeakMap;function a(d,m){const p=d.array,y=d.usage,v=e.createBuffer();e.bindBuffer(m,v),e.bufferData(m,p,y),d.onUploadCallback();let _=5126;return p instanceof Float32Array?_=5126:p instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):p instanceof Uint16Array?_=5123:p instanceof Int16Array?_=5122:p instanceof Uint32Array?_=5125:p instanceof Int32Array?_=5124:p instanceof Int8Array?_=5120:p instanceof Uint8Array&&(_=5121),{buffer:v,type:_,bytesPerElement:p.BYTES_PER_ELEMENT,version:d.version}}function o(d,m,p){const y=m.array,v=m.updateRange;e.bindBuffer(p,d),v.count===-1?e.bufferSubData(p,0,y):(n?e.bufferSubData(p,v.offset*y.BYTES_PER_ELEMENT,y,v.offset,v.count):e.bufferSubData(p,v.offset*y.BYTES_PER_ELEMENT,y.subarray(v.offset,v.offset+v.count)),v.count=-1)}function c(d){return d.isInterleavedBufferAttribute&&(d=d.data),i.get(d)}function u(d){d.isInterleavedBufferAttribute&&(d=d.data);const m=i.get(d);m&&(e.deleteBuffer(m.buffer),i.delete(d))}function h(d,m){if(d.isGLBufferAttribute){var p=i.get(d);(!p||p.version<d.version)&&i.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const y=i.get(d);y===void 0?i.set(d,a(d,m)):y.version<d.version&&(o(y.buffer,d,m),y.version=d.version)}return{get:c,remove:u,update:h}}class Vd extends Ft{constructor(t,n,i,a){super(),this.type="PlaneBufferGeometry",this.parameters={width:t,height:n,widthSegments:i,heightSegments:a},t=t||1,n=n||1;const o=t/2,c=n/2,u=Math.floor(i)||1,h=Math.floor(a)||1,d=u+1,m=h+1,p=t/u,y=n/h,v=[],_=[],S=[],w=[];for(let M=0;M<m;M++){const b=M*y-c;for(let T=0;T<d;T++){const R=T*p-o;_.push(R,-b,0),S.push(0,0,1),w.push(T/u),w.push(1-M/h)}}for(let M=0;M<h;M++)for(let b=0;b<u;b++){const T=b+d*M,R=b+d*(M+1),C=b+1+d*(M+1),A=b+1+d*M;v.push(T,R,A),v.push(R,C,A)}this.setIndex(v),this.setAttribute("position",new wt(_,3)),this.setAttribute("normal",new wt(S,3)),this.setAttribute("uv",new wt(w,2))}}var hC=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,dC=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,pC=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,mC=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,gC=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,yC="vec3 transformed = vec3( position );",vC=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,xC=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,bC=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,_C=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,MC=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,wC=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,SC=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,TC=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,EC=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,AC=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,RC=`#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor.xyz *= color.xyz;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,CC=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,LC=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,DC=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,OC=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,PC=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,NC=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,BC=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,zC="gl_FragColor = linearToOutputTexel( gl_FragColor );",UC=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,VC=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,GC=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,HC=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,IC=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,FC=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,kC=`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,WC=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,jC=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,qC=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,XC=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,YC=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,ZC=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,QC=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,JC=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,KC=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,$C=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,tL=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,eL=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,nL=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,iL=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,sL=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,rL=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,aL=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,oL=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,lL=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,cL=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,uL=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,fL=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,hL=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,dL=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,pL=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,mL=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,gL=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,yL=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,vL=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,xL=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,bL=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,_L=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,ML=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,wL=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,SL=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,TL=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,EL=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,AL=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,RL=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,CL=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,LL=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,DL=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,OL=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,PL=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,NL=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,BL=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,zL=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,UL=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,VL=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,GL=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,HL=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,IL=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,FL=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,kL=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,WL=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,jL=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,qL=`#ifdef USE_TRANSMISSIONMAP
	totalTransmission *= texture2D( transmissionMap, vUv ).r;
#endif`,XL=`#ifdef USE_TRANSMISSIONMAP
	uniform sampler2D transmissionMap;
#endif`,YL=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,ZL=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,QL=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,JL=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,KL=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,$L=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,tD=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,eD=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,nD=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,iD=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,sD=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,rD=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,aD=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,oD=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,lD=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,cD=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,uD=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fD=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,hD=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,dD=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pD=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,mD=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gD=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yD=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vD=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,xD=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bD=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_D=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MD=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wD=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSMISSION
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSMISSION
	uniform float transmission;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#ifdef TRANSMISSION
		float totalTransmission = transmission;
	#endif
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <transmissionmap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSMISSION
		diffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SD=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TD=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,ED=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,AD=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,RD=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,CD=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,LD=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,DD=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,OD=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const fe={alphamap_fragment:hC,alphamap_pars_fragment:dC,alphatest_fragment:pC,aomap_fragment:mC,aomap_pars_fragment:gC,begin_vertex:yC,beginnormal_vertex:vC,bsdfs:xC,bumpmap_pars_fragment:bC,clipping_planes_fragment:_C,clipping_planes_pars_fragment:MC,clipping_planes_pars_vertex:wC,clipping_planes_vertex:SC,color_fragment:TC,color_pars_fragment:EC,color_pars_vertex:AC,color_vertex:RC,common:CC,cube_uv_reflection_fragment:LC,defaultnormal_vertex:DC,displacementmap_pars_vertex:OC,displacementmap_vertex:PC,emissivemap_fragment:NC,emissivemap_pars_fragment:BC,encodings_fragment:zC,encodings_pars_fragment:UC,envmap_fragment:VC,envmap_common_pars_fragment:GC,envmap_pars_fragment:HC,envmap_pars_vertex:IC,envmap_physical_pars_fragment:KC,envmap_vertex:FC,fog_vertex:kC,fog_pars_vertex:WC,fog_fragment:jC,fog_pars_fragment:qC,gradientmap_pars_fragment:XC,lightmap_fragment:YC,lightmap_pars_fragment:ZC,lights_lambert_vertex:QC,lights_pars_begin:JC,lights_toon_fragment:$C,lights_toon_pars_fragment:tL,lights_phong_fragment:eL,lights_phong_pars_fragment:nL,lights_physical_fragment:iL,lights_physical_pars_fragment:sL,lights_fragment_begin:rL,lights_fragment_maps:aL,lights_fragment_end:oL,logdepthbuf_fragment:lL,logdepthbuf_pars_fragment:cL,logdepthbuf_pars_vertex:uL,logdepthbuf_vertex:fL,map_fragment:hL,map_pars_fragment:dL,map_particle_fragment:pL,map_particle_pars_fragment:mL,metalnessmap_fragment:gL,metalnessmap_pars_fragment:yL,morphnormal_vertex:vL,morphtarget_pars_vertex:xL,morphtarget_vertex:bL,normal_fragment_begin:_L,normal_fragment_maps:ML,normalmap_pars_fragment:wL,clearcoat_normal_fragment_begin:SL,clearcoat_normal_fragment_maps:TL,clearcoat_pars_fragment:EL,packing:AL,premultiplied_alpha_fragment:RL,project_vertex:CL,dithering_fragment:LL,dithering_pars_fragment:DL,roughnessmap_fragment:OL,roughnessmap_pars_fragment:PL,shadowmap_pars_fragment:NL,shadowmap_pars_vertex:BL,shadowmap_vertex:zL,shadowmask_pars_fragment:UL,skinbase_vertex:VL,skinning_pars_vertex:GL,skinning_vertex:HL,skinnormal_vertex:IL,specularmap_fragment:FL,specularmap_pars_fragment:kL,tonemapping_fragment:WL,tonemapping_pars_fragment:jL,transmissionmap_fragment:qL,transmissionmap_pars_fragment:XL,uv_pars_fragment:YL,uv_pars_vertex:ZL,uv_vertex:QL,uv2_pars_fragment:JL,uv2_pars_vertex:KL,uv2_vertex:$L,worldpos_vertex:tD,background_frag:eD,background_vert:nD,cube_frag:iD,cube_vert:sD,depth_frag:rD,depth_vert:aD,distanceRGBA_frag:oD,distanceRGBA_vert:lD,equirect_frag:cD,equirect_vert:uD,linedashed_frag:fD,linedashed_vert:hD,meshbasic_frag:dD,meshbasic_vert:pD,meshlambert_frag:mD,meshlambert_vert:gD,meshmatcap_frag:yD,meshmatcap_vert:vD,meshtoon_frag:xD,meshtoon_vert:bD,meshphong_frag:_D,meshphong_vert:MD,meshphysical_frag:wD,meshphysical_vert:SD,normal_frag:TD,normal_vert:ED,points_frag:AD,points_vert:RD,shadow_frag:CD,shadow_vert:LD,sprite_frag:DD,sprite_vert:OD},Tt={common:{diffuse:{value:new Ct(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Nn},uv2Transform:{value:new Nn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ct(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ct(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ct(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Nn}},sprite:{diffuse:{value:new Ct(15658734)},opacity:{value:1},center:{value:new ct(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Nn}}},zi={basic:{uniforms:Tn([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.fog]),vertexShader:fe.meshbasic_vert,fragmentShader:fe.meshbasic_frag},lambert:{uniforms:Tn([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.fog,Tt.lights,{emissive:{value:new Ct(0)}}]),vertexShader:fe.meshlambert_vert,fragmentShader:fe.meshlambert_frag},phong:{uniforms:Tn([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,Tt.lights,{emissive:{value:new Ct(0)},specular:{value:new Ct(1118481)},shininess:{value:30}}]),vertexShader:fe.meshphong_vert,fragmentShader:fe.meshphong_frag},standard:{uniforms:Tn([Tt.common,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.roughnessmap,Tt.metalnessmap,Tt.fog,Tt.lights,{emissive:{value:new Ct(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:fe.meshphysical_vert,fragmentShader:fe.meshphysical_frag},toon:{uniforms:Tn([Tt.common,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.gradientmap,Tt.fog,Tt.lights,{emissive:{value:new Ct(0)}}]),vertexShader:fe.meshtoon_vert,fragmentShader:fe.meshtoon_frag},matcap:{uniforms:Tn([Tt.common,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,{matcap:{value:null}}]),vertexShader:fe.meshmatcap_vert,fragmentShader:fe.meshmatcap_frag},points:{uniforms:Tn([Tt.points,Tt.fog]),vertexShader:fe.points_vert,fragmentShader:fe.points_frag},dashed:{uniforms:Tn([Tt.common,Tt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:fe.linedashed_vert,fragmentShader:fe.linedashed_frag},depth:{uniforms:Tn([Tt.common,Tt.displacementmap]),vertexShader:fe.depth_vert,fragmentShader:fe.depth_frag},normal:{uniforms:Tn([Tt.common,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,{opacity:{value:1}}]),vertexShader:fe.normal_vert,fragmentShader:fe.normal_frag},sprite:{uniforms:Tn([Tt.sprite,Tt.fog]),vertexShader:fe.sprite_vert,fragmentShader:fe.sprite_frag},background:{uniforms:{uvTransform:{value:new Nn},t2D:{value:null}},vertexShader:fe.background_vert,fragmentShader:fe.background_frag},cube:{uniforms:Tn([Tt.envmap,{opacity:{value:1}}]),vertexShader:fe.cube_vert,fragmentShader:fe.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:fe.equirect_vert,fragmentShader:fe.equirect_frag},distanceRGBA:{uniforms:Tn([Tt.common,Tt.displacementmap,{referencePosition:{value:new D},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:fe.distanceRGBA_vert,fragmentShader:fe.distanceRGBA_frag},shadow:{uniforms:Tn([Tt.lights,Tt.fog,{color:{value:new Ct(0)},opacity:{value:1}}]),vertexShader:fe.shadow_vert,fragmentShader:fe.shadow_frag}};zi.physical={uniforms:Tn([zi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ct(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Ct(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:fe.meshphysical_vert,fragmentShader:fe.meshphysical_frag};function PD(e,t,n,i,a){const o=new Ct(0);let c=0,u,h,d=null,m=0,p=null;function y(_,S,w,M){let b=S.isScene===!0?S.background:null;b&&b.isTexture&&(b=t.get(b));const T=e.xr,R=T.getSession&&T.getSession();R&&R.environmentBlendMode==="additive"&&(b=null),b===null?v(o,c):b&&b.isColor&&(v(b,1),M=!0),(e.autoClear||M)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),b&&(b.isCubeTexture||b.isWebGLCubeRenderTarget||b.mapping===pl)?(h===void 0&&(h=new ze(new Ou(1,1,1),new Un({name:"BackgroundCubeMaterial",uniforms:$o(zi.cube.uniforms),vertexShader:zi.cube.vertexShader,fragmentShader:zi.cube.fragmentShader,side:on,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(C,A,O){this.matrixWorld.copyPosition(O.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),b.isWebGLCubeRenderTarget&&(b=b.texture),h.material.uniforms.envMap.value=b,h.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b._needsFlipEnvMap?-1:1,(d!==b||m!==b.version||p!==e.toneMapping)&&(h.material.needsUpdate=!0,d=b,m=b.version,p=e.toneMapping),_.unshift(h,h.geometry,h.material,0,0,null)):b&&b.isTexture&&(u===void 0&&(u=new ze(new Vd(2,2),new Un({name:"BackgroundMaterial",uniforms:$o(zi.background.uniforms),vertexShader:zi.background.vertexShader,fragmentShader:zi.background.fragmentShader,side:dl,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=b,b.matrixAutoUpdate===!0&&b.updateMatrix(),u.material.uniforms.uvTransform.value.copy(b.matrix),(d!==b||m!==b.version||p!==e.toneMapping)&&(u.material.needsUpdate=!0,d=b,m=b.version,p=e.toneMapping),_.unshift(u,u.geometry,u.material,0,0,null))}function v(_,S){n.buffers.color.setClear(_.r,_.g,_.b,S,a)}return{getClearColor:function(){return o},setClearColor:function(_,S){o.set(_),c=S!==void 0?S:1,v(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(_){c=_,v(o,c)},render:y}}function ND(e,t,n,i){const a=e.getParameter(34921),o=i.isWebGL2?null:t.get("OES_vertex_array_object"),c=i.isWebGL2||o!==null,u={},h=S(null);let d=h;function m(K,F,k,z,q){let X=!1;if(c){const lt=_(z,k,F);d!==lt&&(d=lt,y(d.object)),X=w(z,q),X&&M(z,q)}else{const lt=F.wireframe===!0;(d.geometry!==z.id||d.program!==k.id||d.wireframe!==lt)&&(d.geometry=z.id,d.program=k.id,d.wireframe=lt,X=!0)}K.isInstancedMesh===!0&&(X=!0),q!==null&&n.update(q,34963),X&&(O(K,F,k,z),q!==null&&e.bindBuffer(34963,n.get(q).buffer))}function p(){return i.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}function y(K){return i.isWebGL2?e.bindVertexArray(K):o.bindVertexArrayOES(K)}function v(K){return i.isWebGL2?e.deleteVertexArray(K):o.deleteVertexArrayOES(K)}function _(K,F,k){const z=k.wireframe===!0;let q=u[K.id];q===void 0&&(q={},u[K.id]=q);let X=q[F.id];X===void 0&&(X={},q[F.id]=X);let lt=X[z];return lt===void 0&&(lt=S(p()),X[z]=lt),lt}function S(K){const F=[],k=[],z=[];for(let q=0;q<a;q++)F[q]=0,k[q]=0,z[q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:k,attributeDivisors:z,object:K,attributes:{},index:null}}function w(K,F){const k=d.attributes,z=K.attributes;if(Object.keys(k).length!==Object.keys(z).length)return!0;for(const q in z){const X=k[q],lt=z[q];if(X===void 0||X.attribute!==lt||X.data!==lt.data)return!0}return d.index!==F}function M(K,F){const k={},z=K.attributes;for(const q in z){const X=z[q],lt={};lt.attribute=X,X.data&&(lt.data=X.data),k[q]=lt}d.attributes=k,d.index=F}function b(){const K=d.newAttributes;for(let F=0,k=K.length;F<k;F++)K[F]=0}function T(K){R(K,0)}function R(K,F){const k=d.newAttributes,z=d.enabledAttributes,q=d.attributeDivisors;k[K]=1,z[K]===0&&(e.enableVertexAttribArray(K),z[K]=1),q[K]!==F&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](K,F),q[K]=F)}function C(){const K=d.newAttributes,F=d.enabledAttributes;for(let k=0,z=F.length;k<z;k++)F[k]!==K[k]&&(e.disableVertexAttribArray(k),F[k]=0)}function A(K,F,k,z,q,X){i.isWebGL2===!0&&(k===5124||k===5125)?e.vertexAttribIPointer(K,F,k,q,X):e.vertexAttribPointer(K,F,k,z,q,X)}function O(K,F,k,z){if(i.isWebGL2===!1&&(K.isInstancedMesh||z.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;b();const q=z.attributes,X=k.getAttributes(),lt=F.defaultAttributeValues;for(const ht in X){const gt=X[ht];if(gt>=0){const At=q[ht];if(At!==void 0){const yt=At.normalized,Gt=At.itemSize,st=n.get(At);if(st===void 0)continue;const Me=st.buffer,St=st.type,ie=st.bytesPerElement;if(At.isInterleavedBufferAttribute){const kt=At.data,ce=kt.stride,$t=At.offset;kt&&kt.isInstancedInterleavedBuffer?(R(gt,kt.meshPerAttribute),z._maxInstanceCount===void 0&&(z._maxInstanceCount=kt.meshPerAttribute*kt.count)):T(gt),e.bindBuffer(34962,Me),A(gt,Gt,St,yt,ce*ie,$t*ie)}else At.isInstancedBufferAttribute?(R(gt,At.meshPerAttribute),z._maxInstanceCount===void 0&&(z._maxInstanceCount=At.meshPerAttribute*At.count)):T(gt),e.bindBuffer(34962,Me),A(gt,Gt,St,yt,0,0)}else if(ht==="instanceMatrix"){const yt=n.get(K.instanceMatrix);if(yt===void 0)continue;const Gt=yt.buffer,st=yt.type;R(gt+0,1),R(gt+1,1),R(gt+2,1),R(gt+3,1),e.bindBuffer(34962,Gt),e.vertexAttribPointer(gt+0,4,st,!1,64,0),e.vertexAttribPointer(gt+1,4,st,!1,64,16),e.vertexAttribPointer(gt+2,4,st,!1,64,32),e.vertexAttribPointer(gt+3,4,st,!1,64,48)}else if(ht==="instanceColor"){const yt=n.get(K.instanceColor);if(yt===void 0)continue;const Gt=yt.buffer,st=yt.type;R(gt,1),e.bindBuffer(34962,Gt),e.vertexAttribPointer(gt,3,st,!1,12,0)}else if(lt!==void 0){const yt=lt[ht];if(yt!==void 0)switch(yt.length){case 2:e.vertexAttrib2fv(gt,yt);break;case 3:e.vertexAttrib3fv(gt,yt);break;case 4:e.vertexAttrib4fv(gt,yt);break;default:e.vertexAttrib1fv(gt,yt)}}}}C()}function P(){j();for(const K in u){const F=u[K];for(const k in F){const z=F[k];for(const q in z)v(z[q].object),delete z[q];delete F[k]}delete u[K]}}function G(K){if(u[K.id]===void 0)return;const F=u[K.id];for(const k in F){const z=F[k];for(const q in z)v(z[q].object),delete z[q];delete F[k]}delete u[K.id]}function J(K){for(const F in u){const k=u[F];if(k[K.id]===void 0)continue;const z=k[K.id];for(const q in z)v(z[q].object),delete z[q];delete k[K.id]}}function j(){I(),d!==h&&(d=h,y(d.object))}function I(){h.geometry=null,h.program=null,h.wireframe=!1}return{setup:m,reset:j,resetDefaultState:I,dispose:P,releaseStatesOfGeometry:G,releaseStatesOfProgram:J,initAttributes:b,enableAttribute:T,disableUnusedAttributes:C}}function BD(e,t,n,i){const a=i.isWebGL2;let o;function c(d){o=d}function u(d,m){e.drawArrays(o,d,m),n.update(m,o,1)}function h(d,m,p){if(p===0)return;let y,v;if(a)y=e,v="drawArraysInstanced";else if(y=t.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",y===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[v](o,d,m,p),n.update(m,o,p)}this.setMode=c,this.render=u,this.renderInstances=h}function zD(e,t,n){let i;function a(){if(i!==void 0)return i;const A=t.get("EXT_texture_filter_anisotropic");return A!==null?i=e.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT):i=0,i}function o(A){if(A==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";A="mediump"}return A==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const c=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&e instanceof WebGL2ComputeRenderingContext;let u=n.precision!==void 0?n.precision:"highp";const h=o(u);h!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",h,"instead."),u=h);const d=n.logarithmicDepthBuffer===!0,m=e.getParameter(34930),p=e.getParameter(35660),y=e.getParameter(3379),v=e.getParameter(34076),_=e.getParameter(34921),S=e.getParameter(36347),w=e.getParameter(36348),M=e.getParameter(36349),b=p>0,T=c||!!t.get("OES_texture_float"),R=b&&T,C=c?e.getParameter(36183):0;return{isWebGL2:c,getMaxAnisotropy:a,getMaxPrecision:o,precision:u,logarithmicDepthBuffer:d,maxTextures:m,maxVertexTextures:p,maxTextureSize:y,maxCubemapSize:v,maxAttributes:_,maxVertexUniforms:S,maxVaryings:w,maxFragmentUniforms:M,vertexTextures:b,floatFragmentTextures:T,floatVertexTextures:R,maxSamples:C}}function UD(e){const t=this;let n=null,i=0,a=!1,o=!1;const c=new Ki,u=new Nn,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(p,y,v){const _=p.length!==0||y||i!==0||a;return a=y,n=m(p,v,0),i=p.length,_},this.beginShadows=function(){o=!0,m(null)},this.endShadows=function(){o=!1,d()},this.setState=function(p,y,v){const _=p.clippingPlanes,S=p.clipIntersection,w=p.clipShadows,M=e.get(p);if(!a||_===null||_.length===0||o&&!w)o?m(null):d();else{const b=o?0:i,T=b*4;let R=M.clippingState||null;h.value=R,R=m(_,y,T,v);for(let C=0;C!==T;++C)R[C]=n[C];M.clippingState=R,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=b}};function d(){h.value!==n&&(h.value=n,h.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function m(p,y,v,_){const S=p!==null?p.length:0;let w=null;if(S!==0){if(w=h.value,_!==!0||w===null){const M=v+S*4,b=y.matrixWorldInverse;u.getNormalMatrix(b),(w===null||w.length<M)&&(w=new Float32Array(M));for(let T=0,R=v;T!==S;++T,R+=4)c.copy(p[T]).applyMatrix4(b,u),c.normal.toArray(w,R),w[R+3]=c.constant}h.value=w,h.needsUpdate=!0}return t.numPlanes=S,t.numIntersection=0,w}}function VD(e){let t=new WeakMap;function n(o,c){return c===ed?o.mapping=Au:c===nd&&(o.mapping=Ru),o}function i(o){if(o&&o.isTexture){const c=o.mapping;if(c===ed||c===nd)if(t.has(o)){const u=t.get(o).texture;return n(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const h=e.getRenderList(),d=e.getRenderTarget(),m=e.getRenderState(),p=new Rr(u.height/2);return p.fromEquirectangularTexture(e,o),t.set(o,p),e.setRenderTarget(d),e.setRenderList(h),e.setRenderState(m),n(p.texture,o.mapping)}else return null}}return o}function a(){t=new WeakMap}return{get:i,dispose:a}}function GD(e){const t={};return{has:function(n){if(t[n]!==void 0)return t[n]!==null;let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i!==null},get:function(n){return this.has(n)||console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]}}}function HD(e,t,n,i){const a=new WeakMap,o=new WeakMap;function c(p){const y=p.target,v=a.get(y);v.index!==null&&t.remove(v.index);for(const S in v.attributes)t.remove(v.attributes[S]);y.removeEventListener("dispose",c),a.delete(y);const _=o.get(v);_&&(t.remove(_),o.delete(v)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,n.memory.geometries--}function u(p,y){let v=a.get(y);return v||(y.addEventListener("dispose",c),y.isBufferGeometry?v=y:y.isGeometry&&(y._bufferGeometry===void 0&&(y._bufferGeometry=new Ft().setFromObject(p)),v=y._bufferGeometry),a.set(y,v),n.memory.geometries++,v)}function h(p){const y=p.attributes;for(const _ in y)t.update(y[_],34962);const v=p.morphAttributes;for(const _ in v){const S=v[_];for(let w=0,M=S.length;w<M;w++)t.update(S[w],34962)}}function d(p){const y=[],v=p.index,_=p.attributes.position;let S=0;if(v!==null){const b=v.array;S=v.version;for(let T=0,R=b.length;T<R;T+=3){const C=b[T+0],A=b[T+1],O=b[T+2];y.push(C,A,A,O,O,C)}}else{const b=_.array;S=_.version;for(let T=0,R=b.length/3-1;T<R;T+=3){const C=T+0,A=T+1,O=T+2;y.push(C,A,A,O,O,C)}}const w=new(fT(y)>65535?Ta:Sa)(y,1);w.version=S;const M=o.get(p);M&&t.remove(M),o.set(p,w)}function m(p){const y=o.get(p);if(y){const v=p.index;v!==null&&y.version<v.version&&d(p)}else d(p);return o.get(p)}return{get:u,update:h,getWireframeAttribute:m}}function ID(e,t,n,i){const a=i.isWebGL2;let o;function c(y){o=y}let u,h;function d(y){u=y.type,h=y.bytesPerElement}function m(y,v){e.drawElements(o,v,u,y*h),n.update(v,o,1)}function p(y,v,_){if(_===0)return;let S,w;if(a)S=e,w="drawElementsInstanced";else if(S=t.get("ANGLE_instanced_arrays"),w="drawElementsInstancedANGLE",S===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[w](o,v,u,y*h,_),n.update(v,o,_)}this.setMode=c,this.setIndex=d,this.render=m,this.renderInstances=p}function FD(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,c,u){switch(n.calls++,c){case 4:n.triangles+=u*(o/3);break;case 1:n.lines+=u*(o/2);break;case 3:n.lines+=u*(o-1);break;case 2:n.lines+=u*o;break;case 0:n.points+=u*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c);break}}function a(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:a,update:i}}function kD(e,t){return e[0]-t[0]}function WD(e,t){return Math.abs(t[1])-Math.abs(e[1])}function jD(e){const t={},n=new Float32Array(8),i=[];for(let o=0;o<8;o++)i[o]=[o,0];function a(o,c,u,h){const d=o.morphTargetInfluences,m=d===void 0?0:d.length;let p=t[c.id];if(p===void 0){p=[];for(let w=0;w<m;w++)p[w]=[w,0];t[c.id]=p}for(let w=0;w<m;w++){const M=p[w];M[0]=w,M[1]=d[w]}p.sort(WD);for(let w=0;w<8;w++)w<m&&p[w][1]?(i[w][0]=p[w][0],i[w][1]=p[w][1]):(i[w][0]=Number.MAX_SAFE_INTEGER,i[w][1]=0);i.sort(kD);const y=u.morphTargets&&c.morphAttributes.position,v=u.morphNormals&&c.morphAttributes.normal;let _=0;for(let w=0;w<8;w++){const M=i[w],b=M[0],T=M[1];b!==Number.MAX_SAFE_INTEGER&&T?(y&&c.getAttribute("morphTarget"+w)!==y[b]&&c.setAttribute("morphTarget"+w,y[b]),v&&c.getAttribute("morphNormal"+w)!==v[b]&&c.setAttribute("morphNormal"+w,v[b]),n[w]=T,_+=T):(y&&c.getAttribute("morphTarget"+w)!==void 0&&c.deleteAttribute("morphTarget"+w),v&&c.getAttribute("morphNormal"+w)!==void 0&&c.deleteAttribute("morphNormal"+w),n[w]=0)}const S=c.morphTargetsRelative?1:1-_;h.getUniforms().setValue(e,"morphTargetBaseInfluence",S),h.getUniforms().setValue(e,"morphTargetInfluences",n)}return{update:a}}function qD(e,t,n,i){let a=new WeakMap;function o(u){const h=i.render.frame,d=u.geometry,m=t.get(u,d);return a.get(m)!==h&&(d.isGeometry&&m.updateFromObject(u),t.update(m),a.set(m,h)),u.isInstancedMesh&&(n.update(u.instanceMatrix,34962),u.instanceColor!==null&&n.update(u.instanceColor,34962)),m}function c(){a=new WeakMap}return{update:o,dispose:c}}function el(e,t,n,i){Re.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=ln,this.minFilter=ln,this.wrapR=Pn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}el.prototype=Object.create(Re.prototype);el.prototype.constructor=el;el.prototype.isDataTexture2DArray=!0;function nl(e,t,n,i){Re.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=ln,this.minFilter=ln,this.wrapR=Pn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}nl.prototype=Object.create(Re.prototype);nl.prototype.constructor=nl;nl.prototype.isDataTexture3D=!0;const mT=new Re,XD=new el,YD=new nl,gT=new ss,_M=[],MM=[],wM=new Float32Array(16),SM=new Float32Array(9),TM=new Float32Array(4);function xl(e,t,n){const i=e[0];if(i<=0||i>0)return e;const a=t*n;let o=_M[a];if(o===void 0&&(o=new Float32Array(a),_M[a]=o),t!==0){i.toArray(o,0);for(let c=1,u=0;c!==t;++c)u+=n,e[c].toArray(o,u)}return o}function Si(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function ai(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function yT(e,t){let n=MM[t];n===void 0&&(n=new Int32Array(t),MM[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function ZD(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function QD(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Si(n,t))return;e.uniform2fv(this.addr,t),ai(n,t)}}function JD(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Si(n,t))return;e.uniform3fv(this.addr,t),ai(n,t)}}function KD(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Si(n,t))return;e.uniform4fv(this.addr,t),ai(n,t)}}function $D(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(Si(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),ai(n,t)}else{if(Si(n,i))return;TM.set(i),e.uniformMatrix2fv(this.addr,!1,TM),ai(n,i)}}function tO(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(Si(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),ai(n,t)}else{if(Si(n,i))return;SM.set(i),e.uniformMatrix3fv(this.addr,!1,SM),ai(n,i)}}function eO(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(Si(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),ai(n,t)}else{if(Si(n,i))return;wM.set(i),e.uniformMatrix4fv(this.addr,!1,wM),ai(n,i)}}function nO(e,t,n){const i=this.cache,a=n.allocateTextureUnit();i[0]!==a&&(e.uniform1i(this.addr,a),i[0]=a),n.safeSetTexture2D(t||mT,a)}function iO(e,t,n){const i=this.cache,a=n.allocateTextureUnit();i[0]!==a&&(e.uniform1i(this.addr,a),i[0]=a),n.setTexture2DArray(t||XD,a)}function sO(e,t,n){const i=this.cache,a=n.allocateTextureUnit();i[0]!==a&&(e.uniform1i(this.addr,a),i[0]=a),n.setTexture3D(t||YD,a)}function rO(e,t,n){const i=this.cache,a=n.allocateTextureUnit();i[0]!==a&&(e.uniform1i(this.addr,a),i[0]=a),n.safeSetTextureCube(t||gT,a)}function aO(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function oO(e,t){const n=this.cache;Si(n,t)||(e.uniform2iv(this.addr,t),ai(n,t))}function lO(e,t){const n=this.cache;Si(n,t)||(e.uniform3iv(this.addr,t),ai(n,t))}function cO(e,t){const n=this.cache;Si(n,t)||(e.uniform4iv(this.addr,t),ai(n,t))}function uO(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function fO(e){switch(e){case 5126:return ZD;case 35664:return QD;case 35665:return JD;case 35666:return KD;case 35674:return $D;case 35675:return tO;case 35676:return eO;case 5124:case 35670:return aO;case 35667:case 35671:return oO;case 35668:case 35672:return lO;case 35669:case 35673:return cO;case 5125:return uO;case 35678:case 36198:case 36298:case 36306:case 35682:return nO;case 35679:case 36299:case 36307:return sO;case 35680:case 36300:case 36308:case 36293:return rO;case 36289:case 36303:case 36311:case 36292:return iO}}function hO(e,t){e.uniform1fv(this.addr,t)}function dO(e,t){e.uniform1iv(this.addr,t)}function pO(e,t){e.uniform2iv(this.addr,t)}function mO(e,t){e.uniform3iv(this.addr,t)}function gO(e,t){e.uniform4iv(this.addr,t)}function yO(e,t){const n=xl(t,this.size,2);e.uniform2fv(this.addr,n)}function vO(e,t){const n=xl(t,this.size,3);e.uniform3fv(this.addr,n)}function xO(e,t){const n=xl(t,this.size,4);e.uniform4fv(this.addr,n)}function bO(e,t){const n=xl(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function _O(e,t){const n=xl(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function MO(e,t){const n=xl(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function wO(e,t,n){const i=t.length,a=yT(n,i);e.uniform1iv(this.addr,a);for(let o=0;o!==i;++o)n.safeSetTexture2D(t[o]||mT,a[o])}function SO(e,t,n){const i=t.length,a=yT(n,i);e.uniform1iv(this.addr,a);for(let o=0;o!==i;++o)n.safeSetTextureCube(t[o]||gT,a[o])}function TO(e){switch(e){case 5126:return hO;case 35664:return yO;case 35665:return vO;case 35666:return xO;case 35674:return bO;case 35675:return _O;case 35676:return MO;case 5124:case 35670:return dO;case 35667:case 35671:return pO;case 35668:case 35672:return mO;case 35669:case 35673:return gO;case 35678:case 36198:case 36298:case 36306:case 35682:return wO;case 35680:case 36300:case 36308:case 36293:return SO}}function EO(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=fO(t.type)}function vT(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=TO(t.type)}vT.prototype.updateCache=function(e){const t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),ai(t,e)};function xT(e){this.id=e,this.seq=[],this.map={}}xT.prototype.setValue=function(e,t,n){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const c=i[a];c.setValue(e,t[c.id],n)}};const Sg=/([\w\d_]+)(\])?(\[|\.)?/g;function EM(e,t){e.seq.push(t),e.map[t.id]=t}function AO(e,t,n){const i=e.name,a=i.length;for(Sg.lastIndex=0;;){const o=Sg.exec(i),c=Sg.lastIndex;let u=o[1];const h=o[2]==="]",d=o[3];if(h&&(u=u|0),d===void 0||d==="["&&c+2===a){EM(n,d===void 0?new EO(u,e,t):new vT(u,e,t));break}else{let p=n.map[u];p===void 0&&(p=new xT(u),EM(n,p)),n=p}}}function Sr(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){const a=e.getActiveUniform(t,i),o=e.getUniformLocation(t,a.name);AO(a,o,this)}}Sr.prototype.setValue=function(e,t,n,i){const a=this.map[t];a!==void 0&&a.setValue(e,n,i)};Sr.prototype.setOptional=function(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)};Sr.upload=function(e,t,n,i){for(let a=0,o=t.length;a!==o;++a){const c=t[a],u=n[c.id];u.needsUpdate!==!1&&c.setValue(e,u.value,i)}};Sr.seqWithValue=function(e,t){const n=[];for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.id in t&&n.push(o)}return n};function AM(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let RO=0;function CO(e){const t=e.split(`
`);for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function bT(e){switch(e){case zn:return["Linear","( value )"];case Lu:return["sRGB","( value )"];case Ud:return["RGBE","( value )"];case uv:return["RGBM","( value, 7.0 )"];case fv:return["RGBM","( value, 16.0 )"];case hv:return["RGBD","( value, 256.0 )"];case zd:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case rT:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function RM(e,t,n){const i=e.getShaderParameter(t,35713),a=e.getShaderInfoLog(t).trim();if(i&&a==="")return"";const o=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+`
`+a+CO(o)}function Ec(e,t){const n=bT(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function LO(e,t){const n=bT(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function DO(e,t){let n;switch(t){case sS:n="Linear";break;case rS:n="Reinhard";break;case aS:n="OptimizedCineon";break;case oS:n="ACESFilmic";break;case lS:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function OO(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Nc).join(`
`)}function PO(e){const t=[];for(const n in e){const i=e[n];i!==!1&&t.push("#define "+n+" "+i)}return t.join(`
`)}function NO(e,t){const n={},i=e.getProgramParameter(t,35721);for(let a=0;a<i;a++){const c=e.getActiveAttrib(t,a).name;n[c]=e.getAttribLocation(t,c)}return n}function Nc(e){return e!==""}function CM(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function LM(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const BO=/^[ \t]*#include +<([\w\d./]+)>/gm;function py(e){return e.replace(BO,zO)}function zO(e,t){const n=fe[t];if(n===void 0)throw new Error("Can not resolve #include <"+t+">");return py(n)}const UO=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,VO=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function DM(e){return e.replace(VO,_T).replace(UO,GO)}function GO(e,t,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),_T(e,t,n,i)}function _T(e,t,n,i){let a="";for(let o=parseInt(t);o<parseInt(n);o++)a+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return a}function OM(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function HO(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===sv?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===z1?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Go&&(t="SHADOWMAP_TYPE_VSM"),t}function IO(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Au:case Ru:t="ENVMAP_TYPE_CUBE";break;case pl:case Cu:t="ENVMAP_TYPE_CUBE_UV";break}return t}function FO(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case Ru:case Cu:t="ENVMAP_MODE_REFRACTION";break}return t}function kO(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Eu:t="ENVMAP_BLENDING_MULTIPLY";break;case nS:t="ENVMAP_BLENDING_MIX";break;case iS:t="ENVMAP_BLENDING_ADD";break}return t}function WO(e,t,n,i){const a=e.getContext(),o=n.defines;let c=n.vertexShader,u=n.fragmentShader;const h=HO(n),d=IO(n),m=FO(n),p=kO(n),y=e.gammaFactor>0?e.gammaFactor:1,v=n.isWebGL2?"":OO(n),_=PO(o),S=a.createProgram();let w,M,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(w=[_].filter(Nc).join(`
`),w.length>0&&(w+=`
`),M=[v,_].filter(Nc).join(`
`),M.length>0&&(M+=`
`)):(w=[OM(n),"#define SHADER_NAME "+n.shaderName,_,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+y,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+h:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Nc).join(`
`),M=[v,OM(n),"#define SHADER_NAME "+n.shaderName,_,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+m:"",n.envMap?"#define "+p:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+h:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==xa?"#define TONE_MAPPING":"",n.toneMapping!==xa?fe.tonemapping_pars_fragment:"",n.toneMapping!==xa?DO("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",fe.encodings_pars_fragment,n.map?Ec("mapTexelToLinear",n.mapEncoding):"",n.matcap?Ec("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Ec("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Ec("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Ec("lightMapTexelToLinear",n.lightMapEncoding):"",LO("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Nc).join(`
`)),c=py(c),c=CM(c,n),c=LM(c,n),u=py(u),u=CM(u,n),u=LM(u,n),c=DM(c),u=DM(u),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,w=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,M=["#define varying in",n.glslVersion===hy?"":"out highp vec4 pc_fragColor;",n.glslVersion===hy?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const T=b+w+c,R=b+M+u,C=AM(a,35633,T),A=AM(a,35632,R);if(a.attachShader(S,C),a.attachShader(S,A),n.index0AttributeName!==void 0?a.bindAttribLocation(S,0,n.index0AttributeName):n.morphTargets===!0&&a.bindAttribLocation(S,0,"position"),a.linkProgram(S),e.debug.checkShaderErrors){const G=a.getProgramInfoLog(S).trim(),J=a.getShaderInfoLog(C).trim(),j=a.getShaderInfoLog(A).trim();let I=!0,K=!0;if(a.getProgramParameter(S,35714)===!1){I=!1;const F=RM(a,C,"vertex"),k=RM(a,A,"fragment");console.error("THREE.WebGLProgram: shader error: ",a.getError(),"35715",a.getProgramParameter(S,35715),"gl.getProgramInfoLog",G,F,k)}else G!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",G):(J===""||j==="")&&(K=!1);K&&(this.diagnostics={runnable:I,programLog:G,vertexShader:{log:J,prefix:w},fragmentShader:{log:j,prefix:M}})}a.deleteShader(C),a.deleteShader(A);let O;this.getUniforms=function(){return O===void 0&&(O=new Sr(a,S)),O};let P;return this.getAttributes=function(){return P===void 0&&(P=NO(a,S)),P},this.destroy=function(){i.releaseStatesOfProgram(this),a.deleteProgram(S),this.program=void 0},this.name=n.shaderName,this.id=RO++,this.cacheKey=t,this.usedTimes=1,this.program=S,this.vertexShader=C,this.fragmentShader=A,this}function jO(e,t,n,i,a,o){const c=[],u=i.isWebGL2,h=i.logarithmicDepthBuffer,d=i.floatVertexTextures,m=i.maxVertexUniforms,p=i.vertexTextures;let y=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},_=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function S(A){const P=A.skeleton.bones;if(d)return 1024;{const J=Math.floor((m-20)/4),j=Math.min(J,P.length);return j<P.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+P.length+" bones. This GPU supports "+j+"."),0):j}}function w(A){let O;return A?A.isTexture?O=A.encoding:A.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),O=A.texture.encoding):O=zn,O}function M(A,O,P,G,J){const j=G.fog,I=A.isMeshStandardMaterial?G.environment:null,K=t.get(A.envMap||I),F=v[A.type],k=J.isSkinnedMesh?S(J):0;A.precision!==null&&(y=i.getMaxPrecision(A.precision),y!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",y,"instead."));let z,q;if(F){const ht=zi[F];z=ht.vertexShader,q=ht.fragmentShader}else z=A.vertexShader,q=A.fragmentShader;const X=e.getRenderTarget();return{isWebGL2:u,shaderID:F,shaderName:A.type,vertexShader:z,fragmentShader:q,defines:A.defines,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:y,instancing:J.isInstancedMesh===!0,instancingColor:J.isInstancedMesh===!0&&J.instanceColor!==null,supportsVertexTextures:p,outputEncoding:X!==null?w(X.texture):e.outputEncoding,map:!!A.map,mapEncoding:w(A.map),matcap:!!A.matcap,matcapEncoding:w(A.matcap),envMap:!!K,envMapMode:K&&K.mapping,envMapEncoding:w(K),envMapCubeUV:!!K&&(K.mapping===pl||K.mapping===Cu),lightMap:!!A.lightMap,lightMapEncoding:w(A.lightMap),aoMap:!!A.aoMap,emissiveMap:!!A.emissiveMap,emissiveMapEncoding:w(A.emissiveMap),bumpMap:!!A.bumpMap,normalMap:!!A.normalMap,objectSpaceNormalMap:A.normalMapType===lT,tangentSpaceNormalMap:A.normalMapType===Na,clearcoatMap:!!A.clearcoatMap,clearcoatRoughnessMap:!!A.clearcoatRoughnessMap,clearcoatNormalMap:!!A.clearcoatNormalMap,displacementMap:!!A.displacementMap,roughnessMap:!!A.roughnessMap,metalnessMap:!!A.metalnessMap,specularMap:!!A.specularMap,alphaMap:!!A.alphaMap,gradientMap:!!A.gradientMap,sheen:!!A.sheen,transmissionMap:!!A.transmissionMap,combine:A.combine,vertexTangents:A.normalMap&&A.vertexTangents,vertexColors:A.vertexColors,vertexUvs:!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatMap||!!A.clearcoatRoughnessMap||!!A.clearcoatNormalMap||!!A.displacementMap||!!A.transmissionMap,uvsVertexOnly:!(A.map||A.bumpMap||A.normalMap||A.specularMap||A.alphaMap||A.emissiveMap||A.roughnessMap||A.metalnessMap||A.clearcoatNormalMap||A.transmissionMap)&&!!A.displacementMap,fog:!!j,useFog:A.fog,fogExp2:j&&j.isFogExp2,flatShading:A.flatShading,sizeAttenuation:A.sizeAttenuation,logarithmicDepthBuffer:h,skinning:A.skinning&&k>0,maxBones:k,useVertexTexture:d,morphTargets:A.morphTargets,morphNormals:A.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:A.dithering,shadowMapEnabled:e.shadowMap.enabled&&P.length>0,shadowMapType:e.shadowMap.type,toneMapping:A.toneMapped?e.toneMapping:xa,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:A.premultipliedAlpha,alphaTest:A.alphaTest,doubleSided:A.side===Tu,flipSided:A.side===on,depthPacking:A.depthPacking!==void 0?A.depthPacking:!1,index0AttributeName:A.index0AttributeName,extensionDerivatives:A.extensions&&A.extensions.derivatives,extensionFragDepth:A.extensions&&A.extensions.fragDepth,extensionDrawBuffers:A.extensions&&A.extensions.drawBuffers,extensionShaderTextureLOD:A.extensions&&A.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||n.has("EXT_shader_texture_lod"),customProgramCacheKey:A.customProgramCacheKey()}}function b(A){const O=[];if(A.shaderID?O.push(A.shaderID):(O.push(A.fragmentShader),O.push(A.vertexShader)),A.defines!==void 0)for(const P in A.defines)O.push(P),O.push(A.defines[P]);if(A.isRawShaderMaterial===!1){for(let P=0;P<_.length;P++)O.push(A[_[P]]);O.push(e.outputEncoding),O.push(e.gammaFactor)}return O.push(A.customProgramCacheKey),O.join()}function T(A){const O=v[A.type];let P;if(O){const G=zi[O];P=dT.clone(G.uniforms)}else P=A.uniforms;return P}function R(A,O){let P;for(let G=0,J=c.length;G<J;G++){const j=c[G];if(j.cacheKey===O){P=j,++P.usedTimes;break}}return P===void 0&&(P=new WO(e,O,A,a),c.push(P)),P}function C(A){if(--A.usedTimes===0){const O=c.indexOf(A);c[O]=c[c.length-1],c.pop(),A.destroy()}}return{getParameters:M,getProgramCacheKey:b,getUniforms:T,acquireProgram:R,releaseProgram:C,programs:c}}function qO(){let e=new WeakMap;function t(o){let c=e.get(o);return c===void 0&&(c={},e.set(o,c)),c}function n(o){e.delete(o)}function i(o,c,u){e.get(o)[c]=u}function a(){e=new WeakMap}return{get:t,remove:n,update:i,dispose:a}}function XO(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function YO(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function PM(e){const t=[];let n=0;const i=[],a=[],o={id:-1};function c(){n=0,i.length=0,a.length=0}function u(y,v,_,S,w,M){let b=t[n];const T=e.get(_);return b===void 0?(b={id:y.id,object:y,geometry:v,material:_,program:T.program||o,groupOrder:S,renderOrder:y.renderOrder,z:w,group:M},t[n]=b):(b.id=y.id,b.object=y,b.geometry=v,b.material=_,b.program=T.program||o,b.groupOrder=S,b.renderOrder=y.renderOrder,b.z=w,b.group=M),n++,b}function h(y,v,_,S,w,M){const b=u(y,v,_,S,w,M);(_.transparent===!0?a:i).push(b)}function d(y,v,_,S,w,M){const b=u(y,v,_,S,w,M);(_.transparent===!0?a:i).unshift(b)}function m(y,v){i.length>1&&i.sort(y||XO),a.length>1&&a.sort(v||YO)}function p(){for(let y=n,v=t.length;y<v;y++){const _=t[y];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.program=null,_.group=null}}return{opaque:i,transparent:a,init:c,push:h,unshift:d,finish:p,sort:m}}function ZO(e){let t=new WeakMap;function n(a,o){const c=t.get(a);let u;return c===void 0?(u=new PM(e),t.set(a,new WeakMap),t.get(a).set(o,u)):(u=c.get(o),u===void 0&&(u=new PM(e),c.set(o,u))),u}function i(){t=new WeakMap}return{get:n,dispose:i}}function QO(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new D,color:new Ct};break;case"SpotLight":n={position:new D,direction:new D,color:new Ct,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new D,color:new Ct,distance:0,decay:0};break;case"HemisphereLight":n={direction:new D,skyColor:new Ct,groundColor:new Ct};break;case"RectAreaLight":n={color:new Ct,position:new D,halfWidth:new D,halfHeight:new D};break}return e[t.id]=n,n}}}function JO(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ct};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ct};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ct,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let KO=0;function $O(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function tP(){const e=new QO,t=JO(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)n.probe.push(new D);const i=new D,a=new re,o=new re;function c(u,h,d){let m=0,p=0,y=0;for(let O=0;O<9;O++)n.probe[O].set(0,0,0);let v=0,_=0,S=0,w=0,M=0,b=0,T=0,R=0;const C=d.matrixWorldInverse;u.sort($O);for(let O=0,P=u.length;O<P;O++){const G=u[O],J=G.color,j=G.intensity,I=G.distance,K=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)m+=J.r*j,p+=J.g*j,y+=J.b*j;else if(G.isLightProbe)for(let F=0;F<9;F++)n.probe[F].addScaledVector(G.sh.coefficients[F],j);else if(G.isDirectionalLight){const F=e.get(G);if(F.color.copy(G.color).multiplyScalar(G.intensity),F.direction.setFromMatrixPosition(G.matrixWorld),i.setFromMatrixPosition(G.target.matrixWorld),F.direction.sub(i),F.direction.transformDirection(C),G.castShadow){const k=G.shadow,z=t.get(G);z.shadowBias=k.bias,z.shadowNormalBias=k.normalBias,z.shadowRadius=k.radius,z.shadowMapSize=k.mapSize,n.directionalShadow[v]=z,n.directionalShadowMap[v]=K,n.directionalShadowMatrix[v]=G.shadow.matrix,b++}n.directional[v]=F,v++}else if(G.isSpotLight){const F=e.get(G);if(F.position.setFromMatrixPosition(G.matrixWorld),F.position.applyMatrix4(C),F.color.copy(J).multiplyScalar(j),F.distance=I,F.direction.setFromMatrixPosition(G.matrixWorld),i.setFromMatrixPosition(G.target.matrixWorld),F.direction.sub(i),F.direction.transformDirection(C),F.coneCos=Math.cos(G.angle),F.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),F.decay=G.decay,G.castShadow){const k=G.shadow,z=t.get(G);z.shadowBias=k.bias,z.shadowNormalBias=k.normalBias,z.shadowRadius=k.radius,z.shadowMapSize=k.mapSize,n.spotShadow[S]=z,n.spotShadowMap[S]=K,n.spotShadowMatrix[S]=G.shadow.matrix,R++}n.spot[S]=F,S++}else if(G.isRectAreaLight){const F=e.get(G);F.color.copy(J).multiplyScalar(j),F.position.setFromMatrixPosition(G.matrixWorld),F.position.applyMatrix4(C),o.identity(),a.copy(G.matrixWorld),a.premultiply(C),o.extractRotation(a),F.halfWidth.set(G.width*.5,0,0),F.halfHeight.set(0,G.height*.5,0),F.halfWidth.applyMatrix4(o),F.halfHeight.applyMatrix4(o),n.rectArea[w]=F,w++}else if(G.isPointLight){const F=e.get(G);if(F.position.setFromMatrixPosition(G.matrixWorld),F.position.applyMatrix4(C),F.color.copy(G.color).multiplyScalar(G.intensity),F.distance=G.distance,F.decay=G.decay,G.castShadow){const k=G.shadow,z=t.get(G);z.shadowBias=k.bias,z.shadowNormalBias=k.normalBias,z.shadowRadius=k.radius,z.shadowMapSize=k.mapSize,z.shadowCameraNear=k.camera.near,z.shadowCameraFar=k.camera.far,n.pointShadow[_]=z,n.pointShadowMap[_]=K,n.pointShadowMatrix[_]=G.shadow.matrix,T++}n.point[_]=F,_++}else if(G.isHemisphereLight){const F=e.get(G);F.direction.setFromMatrixPosition(G.matrixWorld),F.direction.transformDirection(C),F.direction.normalize(),F.skyColor.copy(G.color).multiplyScalar(j),F.groundColor.copy(G.groundColor).multiplyScalar(j),n.hemi[M]=F,M++}}w>0&&(n.rectAreaLTC1=Tt.LTC_1,n.rectAreaLTC2=Tt.LTC_2),n.ambient[0]=m,n.ambient[1]=p,n.ambient[2]=y;const A=n.hash;(A.directionalLength!==v||A.pointLength!==_||A.spotLength!==S||A.rectAreaLength!==w||A.hemiLength!==M||A.numDirectionalShadows!==b||A.numPointShadows!==T||A.numSpotShadows!==R)&&(n.directional.length=v,n.spot.length=S,n.rectArea.length=w,n.point.length=_,n.hemi.length=M,n.directionalShadow.length=b,n.directionalShadowMap.length=b,n.pointShadow.length=T,n.pointShadowMap.length=T,n.spotShadow.length=R,n.spotShadowMap.length=R,n.directionalShadowMatrix.length=b,n.pointShadowMatrix.length=T,n.spotShadowMatrix.length=R,A.directionalLength=v,A.pointLength=_,A.spotLength=S,A.rectAreaLength=w,A.hemiLength=M,A.numDirectionalShadows=b,A.numPointShadows=T,A.numSpotShadows=R,n.version=KO++)}return{setup:c,state:n}}function NM(){const e=new tP,t=[],n=[];function i(){t.length=0,n.length=0}function a(h){t.push(h)}function o(h){n.push(h)}function c(h){e.setup(t,n,h)}return{init:i,state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:c,pushLight:a,pushShadow:o}}function eP(){let e=new WeakMap;function t(i,a){let o;return e.has(i)===!1?(o=new NM,e.set(i,new WeakMap),e.get(i).set(a,o)):e.get(i).has(a)===!1?(o=new NM,e.get(i).set(a,o)):o=e.get(i).get(a),o}function n(){e=new WeakMap}return{get:t,dispose:n}}function Cr(e){Qt.call(this),this.type="MeshDepthMaterial",this.depthPacking=aT,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}Cr.prototype=Object.create(Qt.prototype);Cr.prototype.constructor=Cr;Cr.prototype.isMeshDepthMaterial=!0;Cr.prototype.copy=function(e){return Qt.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this};function Lr(e){Qt.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new D,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Lr.prototype=Object.create(Qt.prototype);Lr.prototype.constructor=Lr;Lr.prototype.isMeshDistanceMaterial=!0;Lr.prototype.copy=function(e){return Qt.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var nP=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,iP=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function MT(e,t,n){let i=new Pu;const a=new ct,o=new ct,c=new Ee,u=[],h=[],d={},m={0:on,1:dl,2:Tu},p=new Un({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new ct},radius:{value:4}},vertexShader:iP,fragmentShader:nP}),y=p.clone();y.defines.HORIZONAL_PASS=1;const v=new Ft;v.setAttribute("position",new qt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new ze(v,p),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=sv,this.render=function(C,A,O){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||C.length===0)return;const P=e.getRenderTarget(),G=e.getActiveCubeFace(),J=e.getActiveMipmapLevel(),j=e.state;j.setBlending(Ns),j.buffers.color.setClear(1,1,1,1),j.buffers.depth.setTest(!0),j.setScissorTest(!1);for(let I=0,K=C.length;I<K;I++){const F=C[I],k=F.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;a.copy(k.mapSize);const z=k.getFrameExtents();if(a.multiply(z),o.copy(k.mapSize),(a.x>n||a.y>n)&&(a.x>n&&(o.x=Math.floor(n/z.x),a.x=o.x*z.x,k.mapSize.x=o.x),a.y>n&&(o.y=Math.floor(n/z.y),a.y=o.y*z.y,k.mapSize.y=o.y)),k.map===null&&!k.isPointLightShadow&&this.type===Go){const X={minFilter:dn,magFilter:dn,format:ii};k.map=new si(a.x,a.y,X),k.map.texture.name=F.name+".shadowMap",k.mapPass=new si(a.x,a.y,X),k.camera.updateProjectionMatrix()}if(k.map===null){const X={minFilter:ln,magFilter:ln,format:ii};k.map=new si(a.x,a.y,X),k.map.texture.name=F.name+".shadowMap",k.camera.updateProjectionMatrix()}e.setRenderTarget(k.map),e.clear();const q=k.getViewportCount();for(let X=0;X<q;X++){const lt=k.getViewport(X);c.set(o.x*lt.x,o.y*lt.y,o.x*lt.z,o.y*lt.w),j.viewport(c),k.updateMatrices(F,X),i=k.getFrustum(),R(A,O,k.camera,F,this.type)}!k.isPointLightShadow&&this.type===Go&&w(k,O),k.needsUpdate=!1}S.needsUpdate=!1,e.setRenderTarget(P,G,J)};function w(C,A){const O=t.update(_);p.uniforms.shadow_pass.value=C.map.texture,p.uniforms.resolution.value=C.mapSize,p.uniforms.radius.value=C.radius,e.setRenderTarget(C.mapPass),e.clear(),e.renderBufferDirect(A,null,O,p,_,null),y.uniforms.shadow_pass.value=C.mapPass.texture,y.uniforms.resolution.value=C.mapSize,y.uniforms.radius.value=C.radius,e.setRenderTarget(C.map),e.clear(),e.renderBufferDirect(A,null,O,y,_,null)}function M(C,A,O){const P=C<<0|A<<1|O<<2;let G=u[P];return G===void 0&&(G=new Cr({depthPacking:oT,morphTargets:C,skinning:A}),u[P]=G),G}function b(C,A,O){const P=C<<0|A<<1|O<<2;let G=h[P];return G===void 0&&(G=new Lr({morphTargets:C,skinning:A}),h[P]=G),G}function T(C,A,O,P,G,J,j){let I=null,K=M,F=C.customDepthMaterial;if(P.isPointLight===!0&&(K=b,F=C.customDistanceMaterial),F===void 0){let k=!1;O.morphTargets===!0&&(k=A.morphAttributes&&A.morphAttributes.position&&A.morphAttributes.position.length>0);let z=!1;C.isSkinnedMesh===!0&&(O.skinning===!0?z=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",C));const q=C.isInstancedMesh===!0;I=K(k,z,q)}else I=F;if(e.localClippingEnabled&&O.clipShadows===!0&&O.clippingPlanes.length!==0){const k=I.uuid,z=O.uuid;let q=d[k];q===void 0&&(q={},d[k]=q);let X=q[z];X===void 0&&(X=I.clone(),q[z]=X),I=X}return I.visible=O.visible,I.wireframe=O.wireframe,j===Go?I.side=O.shadowSide!==null?O.shadowSide:O.side:I.side=O.shadowSide!==null?O.shadowSide:m[O.side],I.clipShadows=O.clipShadows,I.clippingPlanes=O.clippingPlanes,I.clipIntersection=O.clipIntersection,I.wireframeLinewidth=O.wireframeLinewidth,I.linewidth=O.linewidth,P.isPointLight===!0&&I.isMeshDistanceMaterial===!0&&(I.referencePosition.setFromMatrixPosition(P.matrixWorld),I.nearDistance=G,I.farDistance=J),I}function R(C,A,O,P,G){if(C.visible===!1)return;if(C.layers.test(A.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&G===Go)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,C.matrixWorld);const I=t.update(C),K=C.material;if(Array.isArray(K)){const F=I.groups;for(let k=0,z=F.length;k<z;k++){const q=F[k],X=K[q.materialIndex];if(X&&X.visible){const lt=T(C,I,X,P,O.near,O.far,G);e.renderBufferDirect(O,null,I,lt,C,q)}}}else if(K.visible){const F=T(C,I,K,P,O.near,O.far,G);e.renderBufferDirect(O,null,I,F,C,null)}}const j=C.children;for(let I=0,K=j.length;I<K;I++)R(j[I],A,O,P,G)}}function sP(e,t,n){const i=n.isWebGL2;function a(){let W=!1;const mt=new Ee;let _t=null;const Ut=new Ee(0,0,0,0);return{setMask:function(bt){_t!==bt&&!W&&(e.colorMask(bt,bt,bt,bt),_t=bt)},setLocked:function(bt){W=bt},setClear:function(bt,Dt,Lt,Xt,Mt){Mt===!0&&(bt*=Xt,Dt*=Xt,Lt*=Xt),mt.set(bt,Dt,Lt,Xt),Ut.equals(mt)===!1&&(e.clearColor(bt,Dt,Lt,Xt),Ut.copy(mt))},reset:function(){W=!1,_t=null,Ut.set(-1,0,0,0)}}}function o(){let W=!1,mt=null,_t=null,Ut=null;return{setTest:function(bt){bt?ht(2929):gt(2929)},setMask:function(bt){mt!==bt&&!W&&(e.depthMask(bt),mt=bt)},setFunc:function(bt){if(_t!==bt){if(bt)switch(bt){case Z1:e.depthFunc(512);break;case Q1:e.depthFunc(519);break;case J1:e.depthFunc(513);break;case td:e.depthFunc(515);break;case K1:e.depthFunc(514);break;case $1:e.depthFunc(518);break;case tS:e.depthFunc(516);break;case eS:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);_t=bt}},setLocked:function(bt){W=bt},setClear:function(bt){Ut!==bt&&(e.clearDepth(bt),Ut=bt)},reset:function(){W=!1,mt=null,_t=null,Ut=null}}}function c(){let W=!1,mt=null,_t=null,Ut=null,bt=null,Dt=null,Lt=null,Xt=null,Mt=null;return{setTest:function(Zt){W||(Zt?ht(2960):gt(2960))},setMask:function(Zt){mt!==Zt&&!W&&(e.stencilMask(Zt),mt=Zt)},setFunc:function(Zt,Pe,Mn){(_t!==Zt||Ut!==Pe||bt!==Mn)&&(e.stencilFunc(Zt,Pe,Mn),_t=Zt,Ut=Pe,bt=Mn)},setOp:function(Zt,Pe,Mn){(Dt!==Zt||Lt!==Pe||Xt!==Mn)&&(e.stencilOp(Zt,Pe,Mn),Dt=Zt,Lt=Pe,Xt=Mn)},setLocked:function(Zt){W=Zt},setClear:function(Zt){Mt!==Zt&&(e.clearStencil(Zt),Mt=Zt)},reset:function(){W=!1,mt=null,_t=null,Ut=null,bt=null,Dt=null,Lt=null,Xt=null,Mt=null}}}const u=new a,h=new o,d=new c;let m={},p=null,y=null,v=null,_=null,S=null,w=null,M=null,b=null,T=null,R=!1,C=null,A=null,O=null,P=null,G=null;const J=e.getParameter(35661);let j=!1,I=0;const K=e.getParameter(7938);K.indexOf("WebGL")!==-1?(I=parseFloat(/^WebGL\ ([0-9])/.exec(K)[1]),j=I>=1):K.indexOf("OpenGL ES")!==-1&&(I=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(K)[1]),j=I>=2);let F=null,k={};const z=new Ee,q=new Ee;function X(W,mt,_t){const Ut=new Uint8Array(4),bt=e.createTexture();e.bindTexture(W,bt),e.texParameteri(W,10241,9728),e.texParameteri(W,10240,9728);for(let Dt=0;Dt<_t;Dt++)e.texImage2D(mt+Dt,0,6408,1,1,0,6408,5121,Ut);return bt}const lt={};lt[3553]=X(3553,3553,1),lt[34067]=X(34067,34069,6),u.setClear(0,0,0,1),h.setClear(1),d.setClear(0),ht(2929),h.setFunc(td),St(!1),ie(Qg),ht(2884),st(Ns);function ht(W){m[W]!==!0&&(e.enable(W),m[W]=!0)}function gt(W){m[W]!==!1&&(e.disable(W),m[W]=!1)}function At(W){return p!==W?(e.useProgram(W),p=W,!0):!1}const yt={[pa]:32774,[V1]:32778,[G1]:32779};if(i)yt[ty]=32775,yt[ey]=32776;else{const W=t.get("EXT_blend_minmax");W!==null&&(yt[ty]=W.MIN_EXT,yt[ey]=W.MAX_EXT)}const Gt={[H1]:0,[I1]:1,[F1]:768,[av]:770,[Y1]:776,[q1]:774,[W1]:772,[k1]:769,[ov]:771,[X1]:775,[j1]:773};function st(W,mt,_t,Ut,bt,Dt,Lt,Xt){if(W===Ns){y&&(gt(3042),y=!1);return}if(y||(ht(3042),y=!0),W!==U1){if(W!==v||Xt!==R){if((_!==pa||M!==pa)&&(e.blendEquation(32774),_=pa,M=pa),Xt)switch(W){case Zo:e.blendFuncSeparate(1,771,1,771);break;case Jg:e.blendFunc(1,1);break;case Kg:e.blendFuncSeparate(0,0,769,771);break;case $g:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",W);break}else switch(W){case Zo:e.blendFuncSeparate(770,771,1,771);break;case Jg:e.blendFunc(770,1);break;case Kg:e.blendFunc(0,769);break;case $g:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",W);break}S=null,w=null,b=null,T=null,v=W,R=Xt}return}bt=bt||mt,Dt=Dt||_t,Lt=Lt||Ut,(mt!==_||bt!==M)&&(e.blendEquationSeparate(yt[mt],yt[bt]),_=mt,M=bt),(_t!==S||Ut!==w||Dt!==b||Lt!==T)&&(e.blendFuncSeparate(Gt[_t],Gt[Ut],Gt[Dt],Gt[Lt]),S=_t,w=Ut,b=Dt,T=Lt),v=W,R=null}function Me(W,mt){W.side===Tu?gt(2884):ht(2884);let _t=W.side===on;mt&&(_t=!_t),St(_t),W.blending===Zo&&W.transparent===!1?st(Ns):st(W.blending,W.blendEquation,W.blendSrc,W.blendDst,W.blendEquationAlpha,W.blendSrcAlpha,W.blendDstAlpha,W.premultipliedAlpha),h.setFunc(W.depthFunc),h.setTest(W.depthTest),h.setMask(W.depthWrite),u.setMask(W.colorWrite);const Ut=W.stencilWrite;d.setTest(Ut),Ut&&(d.setMask(W.stencilWriteMask),d.setFunc(W.stencilFunc,W.stencilRef,W.stencilFuncMask),d.setOp(W.stencilFail,W.stencilZFail,W.stencilZPass)),ce(W.polygonOffset,W.polygonOffsetFactor,W.polygonOffsetUnits)}function St(W){C!==W&&(W?e.frontFace(2304):e.frontFace(2305),C=W)}function ie(W){W!==N1?(ht(2884),W!==A&&(W===Qg?e.cullFace(1029):W===B1?e.cullFace(1028):e.cullFace(1032))):gt(2884),A=W}function kt(W){W!==O&&(j&&e.lineWidth(W),O=W)}function ce(W,mt,_t){W?(ht(32823),(P!==mt||G!==_t)&&(e.polygonOffset(mt,_t),P=mt,G=_t)):gt(32823)}function $t(W){W?ht(3089):gt(3089)}function ft(W){W===void 0&&(W=33984+J-1),F!==W&&(e.activeTexture(W),F=W)}function vt(W,mt){F===null&&ft();let _t=k[F];_t===void 0&&(_t={type:void 0,texture:void 0},k[F]=_t),(_t.type!==W||_t.texture!==mt)&&(e.bindTexture(W,mt||lt[W]),_t.type=W,_t.texture=mt)}function xt(){const W=k[F];W!==void 0&&W.type!==void 0&&(e.bindTexture(W.type,null),W.type=void 0,W.texture=void 0)}function It(){try{e.compressedTexImage2D.apply(e,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function Et(){try{e.texImage2D.apply(e,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function U(){try{e.texImage3D.apply(e,arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function B(W){z.equals(W)===!1&&(e.scissor(W.x,W.y,W.z,W.w),z.copy(W))}function dt(W){q.equals(W)===!1&&(e.viewport(W.x,W.y,W.z,W.w),q.copy(W))}function ut(){m={},F=null,k={},p=null,v=null,C=null,A=null,u.reset(),h.reset(),d.reset()}return{buffers:{color:u,depth:h,stencil:d},enable:ht,disable:gt,useProgram:At,setBlending:st,setMaterial:Me,setFlipSided:St,setCullFace:ie,setLineWidth:kt,setPolygonOffset:ce,setScissorTest:$t,activeTexture:ft,bindTexture:vt,unbindTexture:xt,compressedTexImage2D:It,texImage2D:Et,texImage3D:U,scissor:B,viewport:dt,reset:ut}}function rP(e,t,n,i,a,o,c){const u=a.isWebGL2,h=a.maxTextures,d=a.maxCubemapSize,m=a.maxTextureSize,p=a.maxSamples,y=new WeakMap;let v,_=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(U,B){return _?new OffscreenCanvas(U,B):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function w(U,B,dt,ut){let W=1;if((U.width>ut||U.height>ut)&&(W=ut/Math.max(U.width,U.height)),W<1||B===!0)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap){const mt=B?ne.floorPowerOfTwo:Math.floor,_t=mt(W*U.width),Ut=mt(W*U.height);v===void 0&&(v=S(_t,Ut));const bt=dt?S(_t,Ut):v;return bt.width=_t,bt.height=Ut,bt.getContext("2d").drawImage(U,0,0,_t,Ut),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+U.width+"x"+U.height+") to ("+_t+"x"+Ut+")."),bt}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+U.width+"x"+U.height+")."),U;return U}function M(U){return ne.isPowerOfTwo(U.width)&&ne.isPowerOfTwo(U.height)}function b(U){return u?!1:U.wrapS!==Pn||U.wrapT!==Pn||U.minFilter!==ln&&U.minFilter!==dn}function T(U,B){return U.generateMipmaps&&B&&U.minFilter!==ln&&U.minFilter!==dn}function R(U,B,dt,ut){e.generateMipmap(U);const W=i.get(B);W.__maxMipLevel=Math.log(Math.max(dt,ut))*Math.LOG2E}function C(U,B,dt){if(u===!1)return B;if(U!==null){if(e[U]!==void 0)return e[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let ut=B;return B===6403&&(dt===5126&&(ut=33326),dt===5131&&(ut=33325),dt===5121&&(ut=33321)),B===6407&&(dt===5126&&(ut=34837),dt===5131&&(ut=34843),dt===5121&&(ut=32849)),B===6408&&(dt===5126&&(ut=34836),dt===5131&&(ut=34842),dt===5121&&(ut=32856)),(ut===33325||ut===33326||ut===34842||ut===34836)&&t.get("EXT_color_buffer_float"),ut}function A(U){return U===ln||U===id||U===sd?9728:9729}function O(U){const B=U.target;B.removeEventListener("dispose",O),G(B),B.isVideoTexture&&y.delete(B),c.memory.textures--}function P(U){const B=U.target;B.removeEventListener("dispose",P),J(B),c.memory.textures--}function G(U){const B=i.get(U);B.__webglInit!==void 0&&(e.deleteTexture(B.__webglTexture),i.remove(U))}function J(U){const B=i.get(U),dt=i.get(U.texture);if(U){if(dt.__webglTexture!==void 0&&e.deleteTexture(dt.__webglTexture),U.depthTexture&&U.depthTexture.dispose(),U.isWebGLCubeRenderTarget)for(let ut=0;ut<6;ut++)e.deleteFramebuffer(B.__webglFramebuffer[ut]),B.__webglDepthbuffer&&e.deleteRenderbuffer(B.__webglDepthbuffer[ut]);else e.deleteFramebuffer(B.__webglFramebuffer),B.__webglDepthbuffer&&e.deleteRenderbuffer(B.__webglDepthbuffer),B.__webglMultisampledFramebuffer&&e.deleteFramebuffer(B.__webglMultisampledFramebuffer),B.__webglColorRenderbuffer&&e.deleteRenderbuffer(B.__webglColorRenderbuffer),B.__webglDepthRenderbuffer&&e.deleteRenderbuffer(B.__webglDepthRenderbuffer);i.remove(U.texture),i.remove(U)}}let j=0;function I(){j=0}function K(){const U=j;return U>=h&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+h),j+=1,U}function F(U,B){const dt=i.get(U);if(U.isVideoTexture&&ft(U),U.version>0&&dt.__version!==U.version){const ut=U.image;if(ut===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(ut.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{At(dt,U,B);return}}n.activeTexture(33984+B),n.bindTexture(3553,dt.__webglTexture)}function k(U,B){const dt=i.get(U);if(U.version>0&&dt.__version!==U.version){At(dt,U,B);return}n.activeTexture(33984+B),n.bindTexture(35866,dt.__webglTexture)}function z(U,B){const dt=i.get(U);if(U.version>0&&dt.__version!==U.version){At(dt,U,B);return}n.activeTexture(33984+B),n.bindTexture(32879,dt.__webglTexture)}function q(U,B){const dt=i.get(U);if(U.version>0&&dt.__version!==U.version){yt(dt,U,B);return}n.activeTexture(33984+B),n.bindTexture(34067,dt.__webglTexture)}const X={[Xc]:10497,[Pn]:33071,[Yc]:33648},lt={[ln]:9728,[id]:9984,[sd]:9986,[dn]:9729,[lv]:9985,[ml]:9987};function ht(U,B,dt){dt?(e.texParameteri(U,10242,X[B.wrapS]),e.texParameteri(U,10243,X[B.wrapT]),(U===32879||U===35866)&&e.texParameteri(U,32882,X[B.wrapR]),e.texParameteri(U,10240,lt[B.magFilter]),e.texParameteri(U,10241,lt[B.minFilter])):(e.texParameteri(U,10242,33071),e.texParameteri(U,10243,33071),(U===32879||U===35866)&&e.texParameteri(U,32882,33071),(B.wrapS!==Pn||B.wrapT!==Pn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(U,10240,A(B.magFilter)),e.texParameteri(U,10241,A(B.minFilter)),B.minFilter!==ln&&B.minFilter!==dn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const ut=t.get("EXT_texture_filter_anisotropic");if(ut){if(B.type===Os&&t.get("OES_texture_float_linear")===null||B.type===Qc&&(u||t.get("OES_texture_half_float_linear"))===null)return;(B.anisotropy>1||i.get(B).__currentAnisotropy)&&(e.texParameterf(U,ut.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(B.anisotropy,a.getMaxAnisotropy())),i.get(B).__currentAnisotropy=B.anisotropy)}}function gt(U,B){U.__webglInit===void 0&&(U.__webglInit=!0,B.addEventListener("dispose",O),U.__webglTexture=e.createTexture(),c.memory.textures++)}function At(U,B,dt){let ut=3553;B.isDataTexture2DArray&&(ut=35866),B.isDataTexture3D&&(ut=32879),gt(U,B),n.activeTexture(33984+dt),n.bindTexture(ut,U.__webglTexture),e.pixelStorei(37440,B.flipY),e.pixelStorei(37441,B.premultiplyAlpha),e.pixelStorei(3317,B.unpackAlignment);const W=b(B)&&M(B.image)===!1,mt=w(B.image,W,!1,m),_t=M(mt)||u,Ut=o.convert(B.format);let bt=o.convert(B.type),Dt=C(B.internalFormat,Ut,bt);ht(ut,B,_t);let Lt;const Xt=B.mipmaps;if(B.isDepthTexture)Dt=6402,u?B.type===Os?Dt=36012:B.type===zc?Dt=33190:B.type===Qo?Dt=35056:Dt=33189:B.type===Os&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),B.format===ba&&Dt===6402&&B.type!==Zc&&B.type!==zc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),B.type=Zc,bt=o.convert(B.type)),B.format===Ko&&Dt===6402&&(Dt=34041,B.type!==Qo&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),B.type=Qo,bt=o.convert(B.type))),n.texImage2D(3553,0,Dt,mt.width,mt.height,0,Ut,bt,null);else if(B.isDataTexture)if(Xt.length>0&&_t){for(let Mt=0,Zt=Xt.length;Mt<Zt;Mt++)Lt=Xt[Mt],n.texImage2D(3553,Mt,Dt,Lt.width,Lt.height,0,Ut,bt,Lt.data);B.generateMipmaps=!1,U.__maxMipLevel=Xt.length-1}else n.texImage2D(3553,0,Dt,mt.width,mt.height,0,Ut,bt,mt.data),U.__maxMipLevel=0;else if(B.isCompressedTexture){for(let Mt=0,Zt=Xt.length;Mt<Zt;Mt++)Lt=Xt[Mt],B.format!==ii&&B.format!==wr?Ut!==null?n.compressedTexImage2D(3553,Mt,Dt,Lt.width,Lt.height,0,Lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,Mt,Dt,Lt.width,Lt.height,0,Ut,bt,Lt.data);U.__maxMipLevel=Xt.length-1}else if(B.isDataTexture2DArray)n.texImage3D(35866,0,Dt,mt.width,mt.height,mt.depth,0,Ut,bt,mt.data),U.__maxMipLevel=0;else if(B.isDataTexture3D)n.texImage3D(32879,0,Dt,mt.width,mt.height,mt.depth,0,Ut,bt,mt.data),U.__maxMipLevel=0;else if(Xt.length>0&&_t){for(let Mt=0,Zt=Xt.length;Mt<Zt;Mt++)Lt=Xt[Mt],n.texImage2D(3553,Mt,Dt,Ut,bt,Lt);B.generateMipmaps=!1,U.__maxMipLevel=Xt.length-1}else n.texImage2D(3553,0,Dt,Ut,bt,mt),U.__maxMipLevel=0;T(B,_t)&&R(ut,B,mt.width,mt.height),U.__version=B.version,B.onUpdate&&B.onUpdate(B)}function yt(U,B,dt){if(B.image.length!==6)return;gt(U,B),n.activeTexture(33984+dt),n.bindTexture(34067,U.__webglTexture),e.pixelStorei(37440,B.flipY);const ut=B&&(B.isCompressedTexture||B.image[0].isCompressedTexture),W=B.image[0]&&B.image[0].isDataTexture,mt=[];for(let Mt=0;Mt<6;Mt++)!ut&&!W?mt[Mt]=w(B.image[Mt],!1,!0,d):mt[Mt]=W?B.image[Mt].image:B.image[Mt];const _t=mt[0],Ut=M(_t)||u,bt=o.convert(B.format),Dt=o.convert(B.type),Lt=C(B.internalFormat,bt,Dt);ht(34067,B,Ut);let Xt;if(ut){for(let Mt=0;Mt<6;Mt++){Xt=mt[Mt].mipmaps;for(let Zt=0;Zt<Xt.length;Zt++){const Pe=Xt[Zt];B.format!==ii&&B.format!==wr?bt!==null?n.compressedTexImage2D(34069+Mt,Zt,Lt,Pe.width,Pe.height,0,Pe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+Mt,Zt,Lt,Pe.width,Pe.height,0,bt,Dt,Pe.data)}}U.__maxMipLevel=Xt.length-1}else{Xt=B.mipmaps;for(let Mt=0;Mt<6;Mt++)if(W){n.texImage2D(34069+Mt,0,Lt,mt[Mt].width,mt[Mt].height,0,bt,Dt,mt[Mt].data);for(let Zt=0;Zt<Xt.length;Zt++){const Mn=Xt[Zt].image[Mt].image;n.texImage2D(34069+Mt,Zt+1,Lt,Mn.width,Mn.height,0,bt,Dt,Mn.data)}}else{n.texImage2D(34069+Mt,0,Lt,bt,Dt,mt[Mt]);for(let Zt=0;Zt<Xt.length;Zt++){const Pe=Xt[Zt];n.texImage2D(34069+Mt,Zt+1,Lt,bt,Dt,Pe.image[Mt])}}U.__maxMipLevel=Xt.length}T(B,Ut)&&R(34067,B,_t.width,_t.height),U.__version=B.version,B.onUpdate&&B.onUpdate(B)}function Gt(U,B,dt,ut){const W=o.convert(B.texture.format),mt=o.convert(B.texture.type),_t=C(B.texture.internalFormat,W,mt);n.texImage2D(ut,0,_t,B.width,B.height,0,W,mt,null),e.bindFramebuffer(36160,U),e.framebufferTexture2D(36160,dt,ut,i.get(B.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function st(U,B,dt){if(e.bindRenderbuffer(36161,U),B.depthBuffer&&!B.stencilBuffer){let ut=33189;if(dt){const W=B.depthTexture;W&&W.isDepthTexture&&(W.type===Os?ut=36012:W.type===zc&&(ut=33190));const mt=$t(B);e.renderbufferStorageMultisample(36161,mt,ut,B.width,B.height)}else e.renderbufferStorage(36161,ut,B.width,B.height);e.framebufferRenderbuffer(36160,36096,36161,U)}else if(B.depthBuffer&&B.stencilBuffer){if(dt){const ut=$t(B);e.renderbufferStorageMultisample(36161,ut,35056,B.width,B.height)}else e.renderbufferStorage(36161,34041,B.width,B.height);e.framebufferRenderbuffer(36160,33306,36161,U)}else{const ut=o.convert(B.texture.format),W=o.convert(B.texture.type),mt=C(B.texture.internalFormat,ut,W);if(dt){const _t=$t(B);e.renderbufferStorageMultisample(36161,_t,mt,B.width,B.height)}else e.renderbufferStorage(36161,mt,B.width,B.height)}e.bindRenderbuffer(36161,null)}function Me(U,B){if(B&&B.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,U),!(B.depthTexture&&B.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(B.depthTexture).__webglTexture||B.depthTexture.image.width!==B.width||B.depthTexture.image.height!==B.height)&&(B.depthTexture.image.width=B.width,B.depthTexture.image.height=B.height,B.depthTexture.needsUpdate=!0),F(B.depthTexture,0);const ut=i.get(B.depthTexture).__webglTexture;if(B.depthTexture.format===ba)e.framebufferTexture2D(36160,36096,3553,ut,0);else if(B.depthTexture.format===Ko)e.framebufferTexture2D(36160,33306,3553,ut,0);else throw new Error("Unknown depthTexture format")}function St(U){const B=i.get(U),dt=U.isWebGLCubeRenderTarget===!0;if(U.depthTexture){if(dt)throw new Error("target.depthTexture not supported in Cube render targets");Me(B.__webglFramebuffer,U)}else if(dt){B.__webglDepthbuffer=[];for(let ut=0;ut<6;ut++)e.bindFramebuffer(36160,B.__webglFramebuffer[ut]),B.__webglDepthbuffer[ut]=e.createRenderbuffer(),st(B.__webglDepthbuffer[ut],U,!1)}else e.bindFramebuffer(36160,B.__webglFramebuffer),B.__webglDepthbuffer=e.createRenderbuffer(),st(B.__webglDepthbuffer,U,!1);e.bindFramebuffer(36160,null)}function ie(U){const B=i.get(U),dt=i.get(U.texture);U.addEventListener("dispose",P),dt.__webglTexture=e.createTexture(),c.memory.textures++;const ut=U.isWebGLCubeRenderTarget===!0,W=U.isWebGLMultisampleRenderTarget===!0,mt=M(U)||u;if(u&&U.texture.format===wr&&(U.texture.type===Os||U.texture.type===Qc)&&(U.texture.format=ii,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),ut){B.__webglFramebuffer=[];for(let _t=0;_t<6;_t++)B.__webglFramebuffer[_t]=e.createFramebuffer()}else if(B.__webglFramebuffer=e.createFramebuffer(),W)if(u){B.__webglMultisampledFramebuffer=e.createFramebuffer(),B.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,B.__webglColorRenderbuffer);const _t=o.convert(U.texture.format),Ut=o.convert(U.texture.type),bt=C(U.texture.internalFormat,_t,Ut),Dt=$t(U);e.renderbufferStorageMultisample(36161,Dt,bt,U.width,U.height),e.bindFramebuffer(36160,B.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,B.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),U.depthBuffer&&(B.__webglDepthRenderbuffer=e.createRenderbuffer(),st(B.__webglDepthRenderbuffer,U,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(ut){n.bindTexture(34067,dt.__webglTexture),ht(34067,U.texture,mt);for(let _t=0;_t<6;_t++)Gt(B.__webglFramebuffer[_t],U,36064,34069+_t);T(U.texture,mt)&&R(34067,U.texture,U.width,U.height),n.bindTexture(34067,null)}else n.bindTexture(3553,dt.__webglTexture),ht(3553,U.texture,mt),Gt(B.__webglFramebuffer,U,36064,3553),T(U.texture,mt)&&R(3553,U.texture,U.width,U.height),n.bindTexture(3553,null);U.depthBuffer&&St(U)}function kt(U){const B=U.texture,dt=M(U)||u;if(T(B,dt)){const ut=U.isWebGLCubeRenderTarget?34067:3553,W=i.get(B).__webglTexture;n.bindTexture(ut,W),R(ut,B,U.width,U.height),n.bindTexture(ut,null)}}function ce(U){if(U.isWebGLMultisampleRenderTarget)if(u){const B=i.get(U);e.bindFramebuffer(36008,B.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,B.__webglFramebuffer);const dt=U.width,ut=U.height;let W=16384;U.depthBuffer&&(W|=256),U.stencilBuffer&&(W|=1024),e.blitFramebuffer(0,0,dt,ut,0,0,dt,ut,W,9728),e.bindFramebuffer(36160,B.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function $t(U){return u&&U.isWebGLMultisampleRenderTarget?Math.min(p,U.samples):0}function ft(U){const B=c.render.frame;y.get(U)!==B&&(y.set(U,B),U.update())}let vt=!1,xt=!1;function It(U,B){U&&U.isWebGLRenderTarget&&(vt===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),vt=!0),U=U.texture),F(U,B)}function Et(U,B){U&&U.isWebGLCubeRenderTarget&&(xt===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),xt=!0),U=U.texture),q(U,B)}this.allocateTextureUnit=K,this.resetTextureUnits=I,this.setTexture2D=F,this.setTexture2DArray=k,this.setTexture3D=z,this.setTextureCube=q,this.setupRenderTarget=ie,this.updateRenderTargetMipmap=kt,this.updateMultisampleRenderTarget=ce,this.safeSetTexture2D=It,this.safeSetTextureCube=Et}function wT(e,t,n){const i=n.isWebGL2;function a(o){let c;if(o===gl)return 5121;if(o===hS)return 32819;if(o===dS)return 32820;if(o===pS)return 33635;if(o===cS)return 5120;if(o===uS)return 5122;if(o===Zc)return 5123;if(o===fS)return 5124;if(o===zc)return 5125;if(o===Os)return 5126;if(o===Qc)return i?5131:(c=t.get("OES_texture_half_float"),c!==null?c.HALF_FLOAT_OES:null);if(o===mS)return 6406;if(o===wr)return 6407;if(o===ii)return 6408;if(o===gS)return 6409;if(o===yS)return 6410;if(o===ba)return 6402;if(o===Ko)return 34041;if(o===xS)return 6403;if(o===bS)return 36244;if(o===_S)return 33319;if(o===MS)return 33320;if(o===wS)return 36248;if(o===SS)return 36249;if(o===ny||o===iy||o===sy||o===ry)if(c=t.get("WEBGL_compressed_texture_s3tc"),c!==null){if(o===ny)return c.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===iy)return c.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===sy)return c.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===ry)return c.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===ay||o===oy||o===ly||o===cy)if(c=t.get("WEBGL_compressed_texture_pvrtc"),c!==null){if(o===ay)return c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===oy)return c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===ly)return c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===cy)return c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===TS)return c=t.get("WEBGL_compressed_texture_etc1"),c!==null?c.COMPRESSED_RGB_ETC1_WEBGL:null;if((o===uy||o===fy)&&(c=t.get("WEBGL_compressed_texture_etc"),c!==null)){if(o===uy)return c.COMPRESSED_RGB8_ETC2;if(o===fy)return c.COMPRESSED_RGBA8_ETC2_EAC}if(o===ES||o===AS||o===RS||o===CS||o===LS||o===DS||o===OS||o===PS||o===NS||o===BS||o===zS||o===US||o===VS||o===GS||o===IS||o===FS||o===kS||o===WS||o===jS||o===qS||o===XS||o===YS||o===ZS||o===QS||o===JS||o===KS||o===$S||o===tT)return c=t.get("WEBGL_compressed_texture_astc"),c!==null?o:null;if(o===HS)return c=t.get("EXT_texture_compression_bptc"),c!==null?o:null;if(o===Qo)return i?34042:(c=t.get("WEBGL_depth_texture"),c!==null?c.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:a}}function rd(e){nn.call(this),this.cameras=e||[]}rd.prototype=Object.assign(Object.create(nn.prototype),{constructor:rd,isArrayCamera:!0});function Mr(){zt.call(this),this.type="Group"}Mr.prototype=Object.assign(Object.create(zt.prototype),{constructor:Mr,isGroup:!0});function Gc(){this._targetRay=null,this._grip=null,this._hand=null}Object.assign(Gc.prototype,{constructor:Gc,getHandSpace:function(){if(this._hand===null&&(this._hand=new Mr,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let e=0;e<=window.XRHand.LITTLE_PHALANX_TIP;e++){const t=new Mr;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new Mr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new Mr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this},update:function(e,t,n){let i=null,a=null,o=null;const c=this._targetRay,u=this._grip,h=this._hand;if(e)if(h&&e.hand){o=!0;for(let d=0;d<=window.XRHand.LITTLE_PHALANX_TIP;d++)if(e.hand[d]){const m=t.getJointPose(e.hand[d],n),p=h.joints[d];m!==null&&(p.matrix.fromArray(m.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=m.radius),p.visible=m!==null;const y=h.joints[window.XRHand.INDEX_PHALANX_TIP],v=h.joints[window.XRHand.THUMB_PHALANX_TIP],_=y.position.distanceTo(v.position),S=.02,w=.005;h.inputState.pinching&&_>S+w?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&_<=S-w&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}}else c!==null&&(i=t.getPose(e.targetRaySpace,n),i!==null&&(c.matrix.fromArray(i.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale))),u!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale)));return c!==null&&(c.visible=i!==null),u!==null&&(u.visible=a!==null),h!==null&&(h.visible=o!==null),this}});function ST(e,t){const n=this;let i=null,a=1,o=null,c="local-floor",u=null;const h=[],d=new Map,m=new nn;m.layers.enable(1),m.viewport=new Ee;const p=new nn;p.layers.enable(2),p.viewport=new Ee;const y=[m,p],v=new rd;v.layers.enable(1),v.layers.enable(2);let _=null,S=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(j){let I=h[j];return I===void 0&&(I=new Gc,h[j]=I),I.getTargetRaySpace()},this.getControllerGrip=function(j){let I=h[j];return I===void 0&&(I=new Gc,h[j]=I),I.getGripSpace()},this.getHand=function(j){let I=h[j];return I===void 0&&(I=new Gc,h[j]=I),I.getHandSpace()};function w(j){const I=d.get(j.inputSource);I&&I.dispatchEvent({type:j.type,data:j.inputSource})}function M(){d.forEach(function(j,I){j.disconnect(I)}),d.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),J.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function b(j){o=j,J.setContext(i),J.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(j){a=j,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(j){c=j,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return i},this.setSession=function(j){if(i=j,i!==null){i.addEventListener("select",w),i.addEventListener("selectstart",w),i.addEventListener("selectend",w),i.addEventListener("squeeze",w),i.addEventListener("squeezestart",w),i.addEventListener("squeezeend",w),i.addEventListener("end",M);const I=t.getContextAttributes();I.xrCompatible!==!0&&t.makeXRCompatible();const K={antialias:I.antialias,alpha:I.alpha,depth:I.depth,stencil:I.stencil,framebufferScaleFactor:a},F=new XRWebGLLayer(i,t,K);i.updateRenderState({baseLayer:F}),i.requestReferenceSpace(c).then(b),i.addEventListener("inputsourceschange",T)}};function T(j){const I=i.inputSources;for(let K=0;K<h.length;K++)d.set(I[K],h[K]);for(let K=0;K<j.removed.length;K++){const F=j.removed[K],k=d.get(F);k&&(k.dispatchEvent({type:"disconnected",data:F}),d.delete(F))}for(let K=0;K<j.added.length;K++){const F=j.added[K],k=d.get(F);k&&k.dispatchEvent({type:"connected",data:F})}}const R=new D,C=new D;function A(j,I,K){R.setFromMatrixPosition(I.matrixWorld),C.setFromMatrixPosition(K.matrixWorld);const F=R.distanceTo(C),k=I.projectionMatrix.elements,z=K.projectionMatrix.elements,q=k[14]/(k[10]-1),X=k[14]/(k[10]+1),lt=(k[9]+1)/k[5],ht=(k[9]-1)/k[5],gt=(k[8]-1)/k[0],At=(z[8]+1)/z[0],yt=q*gt,Gt=q*At,st=F/(-gt+At),Me=st*-gt;I.matrixWorld.decompose(j.position,j.quaternion,j.scale),j.translateX(Me),j.translateZ(st),j.matrixWorld.compose(j.position,j.quaternion,j.scale),j.matrixWorldInverse.getInverse(j.matrixWorld);const St=q+st,ie=X+st,kt=yt-Me,ce=Gt+(F-Me),$t=lt*X/ie*St,ft=ht*X/ie*St;j.projectionMatrix.makePerspective(kt,ce,$t,ft,St,ie)}function O(j,I){I===null?j.matrixWorld.copy(j.matrix):j.matrixWorld.multiplyMatrices(I.matrixWorld,j.matrix),j.matrixWorldInverse.getInverse(j.matrixWorld)}this.getCamera=function(j){v.near=p.near=m.near=j.near,v.far=p.far=m.far=j.far,(_!==v.near||S!==v.far)&&(i.updateRenderState({depthNear:v.near,depthFar:v.far}),_=v.near,S=v.far);const I=j.parent,K=v.cameras;O(v,I);for(let k=0;k<K.length;k++)O(K[k],I);j.matrixWorld.copy(v.matrixWorld);const F=j.children;for(let k=0,z=F.length;k<z;k++)F[k].updateMatrixWorld(!0);return K.length===2?A(v,m,p):v.projectionMatrix.copy(m.projectionMatrix),v};let P=null;function G(j,I){if(u=I.getViewerPose(o),u!==null){const F=u.views,k=i.renderState.baseLayer;e.setFramebuffer(k.framebuffer);let z=!1;F.length!==v.cameras.length&&(v.cameras.length=0,z=!0);for(let q=0;q<F.length;q++){const X=F[q],lt=k.getViewport(X),ht=y[q];ht.matrix.fromArray(X.transform.matrix),ht.projectionMatrix.fromArray(X.projectionMatrix),ht.viewport.set(lt.x,lt.y,lt.width,lt.height),q===0&&v.matrix.copy(ht.matrix),z===!0&&v.cameras.push(ht)}}const K=i.inputSources;for(let F=0;F<h.length;F++){const k=h[F],z=K[F];k.update(z,I,o)}P&&P(j,I)}const J=new pT;J.setAnimationLoop(G),this.setAnimationLoop=function(j){P=j},this.dispose=function(){}}Object.assign(ST.prototype,ls.prototype);function aP(e){function t(M,b){M.fogColor.value.copy(b.color),b.isFog?(M.fogNear.value=b.near,M.fogFar.value=b.far):b.isFogExp2&&(M.fogDensity.value=b.density)}function n(M,b,T,R){b.isMeshBasicMaterial?i(M,b):b.isMeshLambertMaterial?(i(M,b),h(M,b)):b.isMeshToonMaterial?(i(M,b),m(M,b)):b.isMeshPhongMaterial?(i(M,b),d(M,b)):b.isMeshStandardMaterial?(i(M,b),b.isMeshPhysicalMaterial?y(M,b):p(M,b)):b.isMeshMatcapMaterial?(i(M,b),v(M,b)):b.isMeshDepthMaterial?(i(M,b),_(M,b)):b.isMeshDistanceMaterial?(i(M,b),S(M,b)):b.isMeshNormalMaterial?(i(M,b),w(M,b)):b.isLineBasicMaterial?(a(M,b),b.isLineDashedMaterial&&o(M,b)):b.isPointsMaterial?c(M,b,T,R):b.isSpriteMaterial?u(M,b):b.isShadowMaterial?(M.color.value.copy(b.color),M.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function i(M,b){M.opacity.value=b.opacity,b.color&&M.diffuse.value.copy(b.color),b.emissive&&M.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(M.map.value=b.map),b.alphaMap&&(M.alphaMap.value=b.alphaMap),b.specularMap&&(M.specularMap.value=b.specularMap);const T=e.get(b).envMap;if(T){M.envMap.value=T,M.flipEnvMap.value=T.isCubeTexture&&T._needsFlipEnvMap?-1:1,M.reflectivity.value=b.reflectivity,M.refractionRatio.value=b.refractionRatio;const A=e.get(T).__maxMipLevel;A!==void 0&&(M.maxMipLevel.value=A)}b.lightMap&&(M.lightMap.value=b.lightMap,M.lightMapIntensity.value=b.lightMapIntensity),b.aoMap&&(M.aoMap.value=b.aoMap,M.aoMapIntensity.value=b.aoMapIntensity);let R;b.map?R=b.map:b.specularMap?R=b.specularMap:b.displacementMap?R=b.displacementMap:b.normalMap?R=b.normalMap:b.bumpMap?R=b.bumpMap:b.roughnessMap?R=b.roughnessMap:b.metalnessMap?R=b.metalnessMap:b.alphaMap?R=b.alphaMap:b.emissiveMap?R=b.emissiveMap:b.clearcoatMap?R=b.clearcoatMap:b.clearcoatNormalMap?R=b.clearcoatNormalMap:b.clearcoatRoughnessMap&&(R=b.clearcoatRoughnessMap),R!==void 0&&(R.isWebGLRenderTarget&&(R=R.texture),R.matrixAutoUpdate===!0&&R.updateMatrix(),M.uvTransform.value.copy(R.matrix));let C;b.aoMap?C=b.aoMap:b.lightMap&&(C=b.lightMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),M.uv2Transform.value.copy(C.matrix))}function a(M,b){M.diffuse.value.copy(b.color),M.opacity.value=b.opacity}function o(M,b){M.dashSize.value=b.dashSize,M.totalSize.value=b.dashSize+b.gapSize,M.scale.value=b.scale}function c(M,b,T,R){M.diffuse.value.copy(b.color),M.opacity.value=b.opacity,M.size.value=b.size*T,M.scale.value=R*.5,b.map&&(M.map.value=b.map),b.alphaMap&&(M.alphaMap.value=b.alphaMap);let C;b.map?C=b.map:b.alphaMap&&(C=b.alphaMap),C!==void 0&&(C.matrixAutoUpdate===!0&&C.updateMatrix(),M.uvTransform.value.copy(C.matrix))}function u(M,b){M.diffuse.value.copy(b.color),M.opacity.value=b.opacity,M.rotation.value=b.rotation,b.map&&(M.map.value=b.map),b.alphaMap&&(M.alphaMap.value=b.alphaMap);let T;b.map?T=b.map:b.alphaMap&&(T=b.alphaMap),T!==void 0&&(T.matrixAutoUpdate===!0&&T.updateMatrix(),M.uvTransform.value.copy(T.matrix))}function h(M,b){b.emissiveMap&&(M.emissiveMap.value=b.emissiveMap)}function d(M,b){M.specular.value.copy(b.specular),M.shininess.value=Math.max(b.shininess,1e-4),b.emissiveMap&&(M.emissiveMap.value=b.emissiveMap),b.bumpMap&&(M.bumpMap.value=b.bumpMap,M.bumpScale.value=b.bumpScale,b.side===on&&(M.bumpScale.value*=-1)),b.normalMap&&(M.normalMap.value=b.normalMap,M.normalScale.value.copy(b.normalScale),b.side===on&&M.normalScale.value.negate()),b.displacementMap&&(M.displacementMap.value=b.displacementMap,M.displacementScale.value=b.displacementScale,M.displacementBias.value=b.displacementBias)}function m(M,b){b.gradientMap&&(M.gradientMap.value=b.gradientMap),b.emissiveMap&&(M.emissiveMap.value=b.emissiveMap),b.bumpMap&&(M.bumpMap.value=b.bumpMap,M.bumpScale.value=b.bumpScale,b.side===on&&(M.bumpScale.value*=-1)),b.normalMap&&(M.normalMap.value=b.normalMap,M.normalScale.value.copy(b.normalScale),b.side===on&&M.normalScale.value.negate()),b.displacementMap&&(M.displacementMap.value=b.displacementMap,M.displacementScale.value=b.displacementScale,M.displacementBias.value=b.displacementBias)}function p(M,b){M.roughness.value=b.roughness,M.metalness.value=b.metalness,b.roughnessMap&&(M.roughnessMap.value=b.roughnessMap),b.metalnessMap&&(M.metalnessMap.value=b.metalnessMap),b.emissiveMap&&(M.emissiveMap.value=b.emissiveMap),b.bumpMap&&(M.bumpMap.value=b.bumpMap,M.bumpScale.value=b.bumpScale,b.side===on&&(M.bumpScale.value*=-1)),b.normalMap&&(M.normalMap.value=b.normalMap,M.normalScale.value.copy(b.normalScale),b.side===on&&M.normalScale.value.negate()),b.displacementMap&&(M.displacementMap.value=b.displacementMap,M.displacementScale.value=b.displacementScale,M.displacementBias.value=b.displacementBias),e.get(b).envMap&&(M.envMapIntensity.value=b.envMapIntensity)}function y(M,b){p(M,b),M.reflectivity.value=b.reflectivity,M.clearcoat.value=b.clearcoat,M.clearcoatRoughness.value=b.clearcoatRoughness,b.sheen&&M.sheen.value.copy(b.sheen),b.clearcoatMap&&(M.clearcoatMap.value=b.clearcoatMap),b.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap),b.clearcoatNormalMap&&(M.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),M.clearcoatNormalMap.value=b.clearcoatNormalMap,b.side===on&&M.clearcoatNormalScale.value.negate()),M.transmission.value=b.transmission,b.transmissionMap&&(M.transmissionMap.value=b.transmissionMap)}function v(M,b){b.matcap&&(M.matcap.value=b.matcap),b.bumpMap&&(M.bumpMap.value=b.bumpMap,M.bumpScale.value=b.bumpScale,b.side===on&&(M.bumpScale.value*=-1)),b.normalMap&&(M.normalMap.value=b.normalMap,M.normalScale.value.copy(b.normalScale),b.side===on&&M.normalScale.value.negate()),b.displacementMap&&(M.displacementMap.value=b.displacementMap,M.displacementScale.value=b.displacementScale,M.displacementBias.value=b.displacementBias)}function _(M,b){b.displacementMap&&(M.displacementMap.value=b.displacementMap,M.displacementScale.value=b.displacementScale,M.displacementBias.value=b.displacementBias)}function S(M,b){b.displacementMap&&(M.displacementMap.value=b.displacementMap,M.displacementScale.value=b.displacementScale,M.displacementBias.value=b.displacementBias),M.referencePosition.value.copy(b.referencePosition),M.nearDistance.value=b.nearDistance,M.farDistance.value=b.farDistance}function w(M,b){b.bumpMap&&(M.bumpMap.value=b.bumpMap,M.bumpScale.value=b.bumpScale,b.side===on&&(M.bumpScale.value*=-1)),b.normalMap&&(M.normalMap.value=b.normalMap,M.normalScale.value.copy(b.normalScale),b.side===on&&M.normalScale.value.negate()),b.displacementMap&&(M.displacementMap.value=b.displacementMap,M.displacementScale.value=b.displacementScale,M.displacementBias.value=b.displacementBias)}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function Nu(e){e=e||{};const t=e.canvas!==void 0?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=e.context!==void 0?e.context:null,i=e.alpha!==void 0?e.alpha:!1,a=e.depth!==void 0?e.depth:!0,o=e.stencil!==void 0?e.stencil:!0,c=e.antialias!==void 0?e.antialias:!1,u=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,h=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,d=e.powerPreference!==void 0?e.powerPreference:"default",m=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1;let p=null,y=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=zn,this.physicallyCorrectLights=!1,this.toneMapping=xa,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const v=this;let _=!1,S=null,w=0,M=0,b=null,T=null,R=-1,C=null,A=null;const O=new Ee,P=new Ee;let G=null,J=t.width,j=t.height,I=1,K=null,F=null;const k=new Ee(0,0,J,j),z=new Ee(0,0,J,j);let q=!1;const X=new Pu;let lt=!1,ht=!1;const gt=new re,At=new D,yt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Gt(){return b===null?I:1}let st=n;function Me(N,nt){for(let et=0;et<N.length;et++){const rt=N[et],pt=t.getContext(rt,nt);if(pt!==null)return pt}return null}try{const N={alpha:i,depth:a,stencil:o,antialias:c,premultipliedAlpha:u,preserveDrawingBuffer:h,powerPreference:d,failIfMajorPerformanceCaveat:m};if(t.addEventListener("webglcontextlost",Pe,!1),t.addEventListener("webglcontextrestored",Mn,!1),st===null){const nt=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&nt.shift(),st=Me(nt,N),st===null)throw Me(nt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}st.getShaderPrecisionFormat===void 0&&(st.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}let St,ie,kt,ce,$t,ft,vt,xt,It,Et,U,B,dt,ut,W,mt,_t,Ut,bt,Dt,Lt;function Xt(){St=new GD(st),ie=new zD(st,St,e),ie.isWebGL2===!1&&(St.get("WEBGL_depth_texture"),St.get("OES_texture_float"),St.get("OES_texture_half_float"),St.get("OES_texture_half_float_linear"),St.get("OES_standard_derivatives"),St.get("OES_element_index_uint"),St.get("OES_vertex_array_object"),St.get("ANGLE_instanced_arrays")),St.get("OES_texture_float_linear"),Dt=new wT(st,St,ie),kt=new sP(st,St,ie),kt.scissor(P.copy(z).multiplyScalar(I).floor()),kt.viewport(O.copy(k).multiplyScalar(I).floor()),ce=new FD,$t=new qO,ft=new rP(st,St,kt,$t,ie,Dt,ce),vt=new VD(v),xt=new fC(st,ie),Lt=new ND(st,St,xt,ie),It=new HD(st,xt,ce,Lt),Et=new qD(st,It,xt,ce),_t=new jD(st),W=new UD($t),U=new jO(v,vt,St,ie,Lt,W),B=new aP($t),dt=new ZO($t),ut=new eP,mt=new PD(v,vt,kt,Et,u),Ut=new BD(st,St,ce,ie),bt=new ID(st,St,ce,ie),ce.programs=U.programs,v.capabilities=ie,v.extensions=St,v.properties=$t,v.renderLists=dt,v.state=kt,v.info=ce}Xt();const Mt=new ST(v,st);this.xr=Mt;const Zt=new MT(v,Et,ie.maxTextureSize);this.shadowMap=Zt,this.getContext=function(){return st},this.getContextAttributes=function(){return st.getContextAttributes()},this.forceContextLoss=function(){const N=St.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){const N=St.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(N){N!==void 0&&(I=N,this.setSize(J,j,!1))},this.getSize=function(N){return N===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),N=new ct),N.set(J,j)},this.setSize=function(N,nt,et){if(Mt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}J=N,j=nt,t.width=Math.floor(N*I),t.height=Math.floor(nt*I),et!==!1&&(t.style.width=N+"px",t.style.height=nt+"px"),this.setViewport(0,0,N,nt)},this.getDrawingBufferSize=function(N){return N===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),N=new ct),N.set(J*I,j*I).floor()},this.setDrawingBufferSize=function(N,nt,et){J=N,j=nt,I=et,t.width=Math.floor(N*et),t.height=Math.floor(nt*et),this.setViewport(0,0,N,nt)},this.getCurrentViewport=function(N){return N===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),N=new Ee),N.copy(O)},this.getViewport=function(N){return N.copy(k)},this.setViewport=function(N,nt,et,rt){N.isVector4?k.set(N.x,N.y,N.z,N.w):k.set(N,nt,et,rt),kt.viewport(O.copy(k).multiplyScalar(I).floor())},this.getScissor=function(N){return N.copy(z)},this.setScissor=function(N,nt,et,rt){N.isVector4?z.set(N.x,N.y,N.z,N.w):z.set(N,nt,et,rt),kt.scissor(P.copy(z).multiplyScalar(I).floor())},this.getScissorTest=function(){return q},this.setScissorTest=function(N){kt.setScissorTest(q=N)},this.setOpaqueSort=function(N){K=N},this.setTransparentSort=function(N){F=N},this.getClearColor=function(){return mt.getClearColor()},this.setClearColor=function(){mt.setClearColor.apply(mt,arguments)},this.getClearAlpha=function(){return mt.getClearAlpha()},this.setClearAlpha=function(){mt.setClearAlpha.apply(mt,arguments)},this.clear=function(N,nt,et){let rt=0;(N===void 0||N)&&(rt|=16384),(nt===void 0||nt)&&(rt|=256),(et===void 0||et)&&(rt|=1024),st.clear(rt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Pe,!1),t.removeEventListener("webglcontextrestored",Mn,!1),dt.dispose(),ut.dispose(),$t.dispose(),vt.dispose(),Et.dispose(),Lt.dispose(),Mt.dispose(),Is.stop()};function Pe(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function Mn(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1,Xt()}function Gr(N){const nt=N.target;nt.removeEventListener("dispose",Gr),za(nt)}function za(N){ki(N),$t.remove(N)}function ki(N){const nt=$t.get(N).program;nt!==void 0&&U.releaseProgram(nt)}function Ua(N,nt){N.render(function(et){v.renderBufferImmediate(et,nt)})}this.renderBufferImmediate=function(N,nt){Lt.initAttributes();const et=$t.get(N);N.hasPositions&&!et.position&&(et.position=st.createBuffer()),N.hasNormals&&!et.normal&&(et.normal=st.createBuffer()),N.hasUvs&&!et.uv&&(et.uv=st.createBuffer()),N.hasColors&&!et.color&&(et.color=st.createBuffer());const rt=nt.getAttributes();N.hasPositions&&(st.bindBuffer(34962,et.position),st.bufferData(34962,N.positionArray,35048),Lt.enableAttribute(rt.position),st.vertexAttribPointer(rt.position,3,5126,!1,0,0)),N.hasNormals&&(st.bindBuffer(34962,et.normal),st.bufferData(34962,N.normalArray,35048),Lt.enableAttribute(rt.normal),st.vertexAttribPointer(rt.normal,3,5126,!1,0,0)),N.hasUvs&&(st.bindBuffer(34962,et.uv),st.bufferData(34962,N.uvArray,35048),Lt.enableAttribute(rt.uv),st.vertexAttribPointer(rt.uv,2,5126,!1,0,0)),N.hasColors&&(st.bindBuffer(34962,et.color),st.bufferData(34962,N.colorArray,35048),Lt.enableAttribute(rt.color),st.vertexAttribPointer(rt.color,3,5126,!1,0,0)),Lt.disableUnusedAttributes(),st.drawArrays(4,0,N.count),N.count=0},this.renderBufferDirect=function(N,nt,et,rt,pt,Wt){nt===null&&(nt=yt);const ee=pt.isMesh&&pt.matrixWorld.determinant()<0,ae=El(N,nt,rt,pt);kt.setMaterial(rt,ee);let se=et.index;const We=et.attributes.position;if(se===null){if(We===void 0||We.count===0)return}else if(se.count===0)return;let Ue=1;rt.wireframe===!0&&(se=It.getWireframeAttribute(et),Ue=2),(rt.morphTargets||rt.morphNormals)&&_t.update(pt,et,rt,ae),Lt.setup(pt,rt,ae,et,se);let te,ve=Ut;se!==null&&(te=xt.get(se),ve=bt,ve.setIndex(te));const wn=se!==null?se.count:We.count,me=et.drawRange.start*Ue,qn=et.drawRange.count*Ue,Ne=Wt!==null?Wt.start*Ue:0,je=Wt!==null?Wt.count*Ue:1/0,pn=Math.max(me,Ne),ks=Math.min(wn,me+qn,Ne+je)-1,Gn=Math.max(0,ks-pn+1);if(Gn!==0){if(pt.isMesh)rt.wireframe===!0?(kt.setLineWidth(rt.wireframeLinewidth*Gt()),ve.setMode(1)):ve.setMode(4);else if(pt.isLine){let li=rt.linewidth;li===void 0&&(li=1),kt.setLineWidth(li*Gt()),pt.isLineSegments?ve.setMode(1):pt.isLineLoop?ve.setMode(2):ve.setMode(3)}else pt.isPoints?ve.setMode(0):pt.isSprite&&ve.setMode(4);if(pt.isInstancedMesh)ve.renderInstances(pn,Gn,pt.count);else if(et.isInstancedBufferGeometry){const li=Math.min(et.instanceCount,et._maxInstanceCount);ve.renderInstances(pn,Gn,li)}else ve.render(pn,Gn)}},this.compile=function(N,nt){y=ut.get(N,nt),y.init(),N.traverse(function(rt){rt.isLight&&(y.pushLight(rt),rt.castShadow&&y.pushShadow(rt))}),y.setupLights(nt);const et=new WeakMap;N.traverse(function(rt){const pt=rt.material;if(pt)if(Array.isArray(pt))for(let Wt=0;Wt<pt.length;Wt++){const ee=pt[Wt];et.has(ee)===!1&&(Ai(ee,N,rt),et.set(ee))}else et.has(pt)===!1&&(Ai(pt,N,rt),et.set(pt))})};let us=null;function Yd(N){Mt.isPresenting||us&&us(N)}const Is=new pT;Is.setAnimationLoop(Yd),typeof window<"u"&&Is.setContext(window),this.setAnimationLoop=function(N){us=N,Mt.setAnimationLoop(N),N===null?Is.stop():Is.start()},this.render=function(N,nt){let et,rt;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),et=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),rt=arguments[3]),nt!==void 0&&nt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;Lt.resetDefaultState(),R=-1,C=null,N.autoUpdate===!0&&N.updateMatrixWorld(),nt.parent===null&&nt.updateMatrixWorld(),Mt.enabled===!0&&Mt.isPresenting===!0&&(nt=Mt.getCamera(nt)),N.isScene===!0&&N.onBeforeRender(v,N,nt,et||b),y=ut.get(N,nt),y.init(),gt.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),X.setFromProjectionMatrix(gt),ht=this.localClippingEnabled,lt=W.init(this.clippingPlanes,ht,nt),p=dt.get(N,nt),p.init(),Tl(N,nt,0,v.sortObjects),p.finish(),v.sortObjects===!0&&p.sort(K,F),lt===!0&&W.beginShadows();const pt=y.state.shadowsArray;Zt.render(pt,N,nt),y.setupLights(nt),lt===!0&&W.endShadows(),this.info.autoReset===!0&&this.info.reset(),et!==void 0&&this.setRenderTarget(et),mt.render(p,N,nt,rt);const Wt=p.opaque,ee=p.transparent;Wt.length>0&&Va(Wt,N,nt),ee.length>0&&Va(ee,N,nt),N.isScene===!0&&N.onAfterRender(v,N,nt),b!==null&&(ft.updateRenderTargetMipmap(b),ft.updateMultisampleRenderTarget(b)),kt.buffers.depth.setTest(!0),kt.buffers.depth.setMask(!0),kt.buffers.color.setMask(!0),kt.setPolygonOffset(!1),p=null,y=null};function Tl(N,nt,et,rt){if(N.visible===!1)return;if(N.layers.test(nt.layers)){if(N.isGroup)et=N.renderOrder;else if(N.isLOD)N.autoUpdate===!0&&N.update(nt);else if(N.isLight)y.pushLight(N),N.castShadow&&y.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||X.intersectsSprite(N)){rt&&At.setFromMatrixPosition(N.matrixWorld).applyMatrix4(gt);const ee=Et.update(N),ae=N.material;ae.visible&&p.push(N,ee,ae,et,At.z,null)}}else if(N.isImmediateRenderObject)rt&&At.setFromMatrixPosition(N.matrixWorld).applyMatrix4(gt),p.push(N,null,N.material,et,At.z,null);else if((N.isMesh||N.isLine||N.isPoints)&&(N.isSkinnedMesh&&N.skeleton.frame!==ce.render.frame&&(N.skeleton.update(),N.skeleton.frame=ce.render.frame),!N.frustumCulled||X.intersectsObject(N))){rt&&At.setFromMatrixPosition(N.matrixWorld).applyMatrix4(gt);const ee=Et.update(N),ae=N.material;if(Array.isArray(ae)){const se=ee.groups;for(let We=0,Ue=se.length;We<Ue;We++){const te=se[We],ve=ae[te.materialIndex];ve&&ve.visible&&p.push(N,ee,ve,et,At.z,te)}}else ae.visible&&p.push(N,ee,ae,et,At.z,null)}}const Wt=N.children;for(let ee=0,ae=Wt.length;ee<ae;ee++)Tl(Wt[ee],nt,et,rt)}function Va(N,nt,et){const rt=nt.isScene===!0?nt.overrideMaterial:null;for(let pt=0,Wt=N.length;pt<Wt;pt++){const ee=N[pt],ae=ee.object,se=ee.geometry,We=rt===null?ee.material:rt,Ue=ee.group;if(et.isArrayCamera){A=et;const te=et.cameras;for(let ve=0,wn=te.length;ve<wn;ve++){const me=te[ve];ae.layers.test(me.layers)&&(kt.viewport(O.copy(me.viewport)),y.setupLights(me),Fs(ae,nt,me,se,We,Ue))}}else A=null,Fs(ae,nt,et,se,We,Ue)}}function Fs(N,nt,et,rt,pt,Wt){if(N.onBeforeRender(v,nt,et,rt,pt,Wt),y=ut.get(nt,A||et),N.modelViewMatrix.multiplyMatrices(et.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),N.isImmediateRenderObject){const ee=El(et,nt,pt,N);kt.setMaterial(pt),Lt.reset(),Ua(N,ee)}else v.renderBufferDirect(et,nt,rt,pt,N,Wt);N.onAfterRender(v,nt,et,rt,pt,Wt),y=ut.get(nt,A||et)}function Ai(N,nt,et){nt.isScene!==!0&&(nt=yt);const rt=$t.get(N),pt=y.state.lights,Wt=y.state.shadowsArray,ee=pt.state.version,ae=U.getParameters(N,pt.state,Wt,nt,et),se=U.getProgramCacheKey(ae);let We=rt.program,Ue=!0;if(We===void 0)N.addEventListener("dispose",Gr);else if(We.cacheKey!==se)ki(N);else if(rt.lightsStateVersion!==ee)Ue=!1;else if(ae.shaderID!==void 0){const me=N.isMeshStandardMaterial?nt.environment:null;rt.envMap=vt.get(N.envMap||me);return}else Ue=!1;Ue&&(ae.uniforms=U.getUniforms(N),N.onBeforeCompile(ae,v),We=U.acquireProgram(ae,se),rt.program=We,rt.uniforms=ae.uniforms,rt.outputEncoding=ae.outputEncoding);const te=rt.uniforms;(!N.isShaderMaterial&&!N.isRawShaderMaterial||N.clipping===!0)&&(rt.numClippingPlanes=W.numPlanes,rt.numIntersection=W.numIntersection,te.clippingPlanes=W.uniform),rt.environment=N.isMeshStandardMaterial?nt.environment:null,rt.fog=nt.fog,rt.envMap=vt.get(N.envMap||rt.environment),rt.needsLights=Al(N),rt.lightsStateVersion=ee,rt.needsLights&&(te.ambientLightColor.value=pt.state.ambient,te.lightProbe.value=pt.state.probe,te.directionalLights.value=pt.state.directional,te.directionalLightShadows.value=pt.state.directionalShadow,te.spotLights.value=pt.state.spot,te.spotLightShadows.value=pt.state.spotShadow,te.rectAreaLights.value=pt.state.rectArea,te.ltc_1.value=pt.state.rectAreaLTC1,te.ltc_2.value=pt.state.rectAreaLTC2,te.pointLights.value=pt.state.point,te.pointLightShadows.value=pt.state.pointShadow,te.hemisphereLights.value=pt.state.hemi,te.directionalShadowMap.value=pt.state.directionalShadowMap,te.directionalShadowMatrix.value=pt.state.directionalShadowMatrix,te.spotShadowMap.value=pt.state.spotShadowMap,te.spotShadowMatrix.value=pt.state.spotShadowMatrix,te.pointShadowMap.value=pt.state.pointShadowMap,te.pointShadowMatrix.value=pt.state.pointShadowMatrix);const ve=rt.program.getUniforms(),wn=Sr.seqWithValue(ve.seq,te);rt.uniformsList=wn}function El(N,nt,et,rt){nt.isScene!==!0&&(nt=yt),ft.resetTextureUnits();const pt=nt.fog,Wt=et.isMeshStandardMaterial?nt.environment:null,ee=b===null?v.outputEncoding:b.texture.encoding,ae=vt.get(et.envMap||Wt),se=$t.get(et),We=y.state.lights;if(lt===!0&&(ht===!0||N!==C)){const Ne=N===C&&et.id===R;W.setState(et,N,Ne)}et.version===se.__version?(et.fog&&se.fog!==pt||se.environment!==Wt||se.needsLights&&se.lightsStateVersion!==We.state.version||se.numClippingPlanes!==void 0&&(se.numClippingPlanes!==W.numPlanes||se.numIntersection!==W.numIntersection)||se.outputEncoding!==ee||se.envMap!==ae)&&Ai(et,nt,rt):(Ai(et,nt,rt),se.__version=et.version);let Ue=!1,te=!1,ve=!1;const wn=se.program,me=wn.getUniforms(),qn=se.uniforms;if(kt.useProgram(wn.program)&&(Ue=!0,te=!0,ve=!0),et.id!==R&&(R=et.id,te=!0),Ue||C!==N){if(me.setValue(st,"projectionMatrix",N.projectionMatrix),ie.logarithmicDepthBuffer&&me.setValue(st,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),C!==N&&(C=N,te=!0,ve=!0),et.isShaderMaterial||et.isMeshPhongMaterial||et.isMeshToonMaterial||et.isMeshStandardMaterial||et.envMap){const Ne=me.map.cameraPosition;Ne!==void 0&&Ne.setValue(st,At.setFromMatrixPosition(N.matrixWorld))}(et.isMeshPhongMaterial||et.isMeshToonMaterial||et.isMeshLambertMaterial||et.isMeshBasicMaterial||et.isMeshStandardMaterial||et.isShaderMaterial)&&me.setValue(st,"isOrthographic",N.isOrthographicCamera===!0),(et.isMeshPhongMaterial||et.isMeshToonMaterial||et.isMeshLambertMaterial||et.isMeshBasicMaterial||et.isMeshStandardMaterial||et.isShaderMaterial||et.isShadowMaterial||et.skinning)&&me.setValue(st,"viewMatrix",N.matrixWorldInverse)}if(et.skinning){me.setOptional(st,rt,"bindMatrix"),me.setOptional(st,rt,"bindMatrixInverse");const Ne=rt.skeleton;if(Ne){const je=Ne.bones;if(ie.floatVertexTextures){if(Ne.boneTexture===void 0){let pn=Math.sqrt(je.length*4);pn=ne.ceilPowerOfTwo(pn),pn=Math.max(pn,4);const ks=new Float32Array(pn*pn*4);ks.set(Ne.boneMatrices);const Gn=new Ea(ks,pn,pn,ii,Os);Ne.boneMatrices=ks,Ne.boneTexture=Gn,Ne.boneTextureSize=pn}me.setValue(st,"boneTexture",Ne.boneTexture,ft),me.setValue(st,"boneTextureSize",Ne.boneTextureSize)}else me.setOptional(st,Ne,"boneMatrices")}}return(te||se.receiveShadow!==rt.receiveShadow)&&(se.receiveShadow=rt.receiveShadow,me.setValue(st,"receiveShadow",rt.receiveShadow)),te&&(me.setValue(st,"toneMappingExposure",v.toneMappingExposure),se.needsLights&&Iu(qn,ve),pt&&et.fog&&B.refreshFogUniforms(qn,pt),B.refreshMaterialUniforms(qn,et,I,j),Sr.upload(st,se.uniformsList,qn,ft)),et.isShaderMaterial&&et.uniformsNeedUpdate===!0&&(Sr.upload(st,se.uniformsList,qn,ft),et.uniformsNeedUpdate=!1),et.isSpriteMaterial&&me.setValue(st,"center",rt.center),me.setValue(st,"modelViewMatrix",rt.modelViewMatrix),me.setValue(st,"normalMatrix",rt.normalMatrix),me.setValue(st,"modelMatrix",rt.matrixWorld),wn}function Iu(N,nt){N.ambientLightColor.needsUpdate=nt,N.lightProbe.needsUpdate=nt,N.directionalLights.needsUpdate=nt,N.directionalLightShadows.needsUpdate=nt,N.pointLights.needsUpdate=nt,N.pointLightShadows.needsUpdate=nt,N.spotLights.needsUpdate=nt,N.spotLightShadows.needsUpdate=nt,N.rectAreaLights.needsUpdate=nt,N.hemisphereLights.needsUpdate=nt}function Al(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&N.lights===!0}this.setFramebuffer=function(N){S!==N&&b===null&&st.bindFramebuffer(36160,N),S=N},this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return M},this.getRenderList=function(){return p},this.setRenderList=function(N){p=N},this.getRenderState=function(){return y},this.setRenderState=function(N){y=N},this.getRenderTarget=function(){return b},this.setRenderTarget=function(N,nt=0,et=0){b=N,w=nt,M=et,N&&$t.get(N).__webglFramebuffer===void 0&&ft.setupRenderTarget(N);let rt=S,pt=!1;if(N){const Wt=$t.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(rt=Wt[nt],pt=!0):N.isWebGLMultisampleRenderTarget?rt=$t.get(N).__webglMultisampledFramebuffer:rt=Wt,O.copy(N.viewport),P.copy(N.scissor),G=N.scissorTest}else O.copy(k).multiplyScalar(I).floor(),P.copy(z).multiplyScalar(I).floor(),G=q;if(T!==rt&&(st.bindFramebuffer(36160,rt),T=rt),kt.viewport(O),kt.scissor(P),kt.setScissorTest(G),pt){const Wt=$t.get(N.texture);st.framebufferTexture2D(36160,36064,34069+nt,Wt.__webglTexture,et)}},this.readRenderTargetPixels=function(N,nt,et,rt,pt,Wt,ee){if(!(N&&N.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ae=$t.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&ee!==void 0&&(ae=ae[ee]),ae){let se=!1;ae!==T&&(st.bindFramebuffer(36160,ae),se=!0);try{const We=N.texture,Ue=We.format,te=We.type;if(Ue!==ii&&Dt.convert(Ue)!==st.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(te!==gl&&Dt.convert(te)!==st.getParameter(35738)&&!(te===Os&&(ie.isWebGL2||St.get("OES_texture_float")||St.get("WEBGL_color_buffer_float")))&&!(te===Qc&&(ie.isWebGL2?St.get("EXT_color_buffer_float"):St.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}st.checkFramebufferStatus(36160)===36053?nt>=0&&nt<=N.width-rt&&et>=0&&et<=N.height-pt&&st.readPixels(nt,et,rt,pt,Dt.convert(Ue),Dt.convert(te),Wt):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{se&&st.bindFramebuffer(36160,T)}}},this.copyFramebufferToTexture=function(N,nt,et){et===void 0&&(et=0);const rt=Math.pow(2,-et),pt=Math.floor(nt.image.width*rt),Wt=Math.floor(nt.image.height*rt),ee=Dt.convert(nt.format);ft.setTexture2D(nt,0),st.copyTexImage2D(3553,et,ee,N.x,N.y,pt,Wt,0),kt.unbindTexture()},this.copyTextureToTexture=function(N,nt,et,rt){rt===void 0&&(rt=0);const pt=nt.image.width,Wt=nt.image.height,ee=Dt.convert(et.format),ae=Dt.convert(et.type);ft.setTexture2D(et,0),st.pixelStorei(37440,et.flipY),st.pixelStorei(37441,et.premultiplyAlpha),st.pixelStorei(3317,et.unpackAlignment),nt.isDataTexture?st.texSubImage2D(3553,rt,N.x,N.y,pt,Wt,ee,ae,nt.image.data):nt.isCompressedTexture?st.compressedTexSubImage2D(3553,rt,N.x,N.y,nt.mipmaps[0].width,nt.mipmaps[0].height,ee,nt.mipmaps[0].data):st.texSubImage2D(3553,rt,N.x,N.y,ee,ae,nt.image),rt===0&&et.generateMipmaps&&st.generateMipmap(3553),kt.unbindTexture()},this.initTexture=function(N){ft.setTexture2D(N,0),kt.unbindTexture()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function my(e){Nu.call(this,e)}my.prototype=Object.assign(Object.create(Nu.prototype),{constructor:my,isWebGL1Renderer:!0});class Gd{constructor(t,n){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new Ct(t),this.density=n!==void 0?n:25e-5}clone(){return new Gd(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Hd{constructor(t,n,i){Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new Ct(t),this.near=n!==void 0?n:1,this.far=i!==void 0?i:1e3}clone(){return new Hd(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class pv extends zt{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,n){return super.copy(t,n),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const n=super.toJSON(t);return this.background!==null&&(n.object.background=this.background.toJSON(t)),this.environment!==null&&(n.object.environment=this.environment.toJSON(t)),this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}function ni(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Du,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ne.generateUUID()}Object.defineProperty(ni.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(ni.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},clone:function(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ne.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new ni(t,this.stride);return n.setUsage(this.usage),n},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ne.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const ra=new D;function Dr(e,t,n,i){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i===!0}Object.defineProperties(Dr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}});Object.assign(Dr.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,n=this.data.count;t<n;t++)ra.x=this.getX(t),ra.y=this.getY(t),ra.z=this.getZ(t),ra.applyMatrix4(e),this.setXYZ(t,ra.x,ra.y,ra.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=a,this},clone:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new qt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Dr(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});function Or(e){Qt.call(this),this.type="SpriteMaterial",this.color=new Ct(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Or.prototype=Object.create(Qt.prototype);Or.prototype.constructor=Or;Or.prototype.isSpriteMaterial=!0;Or.prototype.copy=function(e){return Qt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};let Oo;const Ac=new D,Po=new D,No=new D,Bo=new ct,Rc=new ct,TT=new re,ph=new D,Cc=new D,mh=new D,BM=new ct,Tg=new ct,zM=new ct;function au(e){if(zt.call(this),this.type="Sprite",Oo===void 0){Oo=new Ft;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new ni(t,5);Oo.setIndex([0,1,2,0,2,3]),Oo.setAttribute("position",new Dr(n,3,0,!1)),Oo.setAttribute("uv",new Dr(n,2,3,!1))}this.geometry=Oo,this.material=e!==void 0?e:new Or,this.center=new ct(.5,.5)}au.prototype=Object.assign(Object.create(zt.prototype),{constructor:au,isSprite:!0,raycast:function(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Po.setFromMatrixScale(this.matrixWorld),TT.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),No.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Po.multiplyScalar(-No.z);const n=this.material.rotation;let i,a;n!==0&&(a=Math.cos(n),i=Math.sin(n));const o=this.center;gh(ph.set(-.5,-.5,0),No,o,Po,i,a),gh(Cc.set(.5,-.5,0),No,o,Po,i,a),gh(mh.set(.5,.5,0),No,o,Po,i,a),BM.set(0,0),Tg.set(1,0),zM.set(1,1);let c=e.ray.intersectTriangle(ph,Cc,mh,!1,Ac);if(c===null&&(gh(Cc.set(-.5,.5,0),No,o,Po,i,a),Tg.set(0,1),c=e.ray.intersectTriangle(ph,mh,Cc,!1,Ac),c===null))return;const u=e.ray.origin.distanceTo(Ac);u<e.near||u>e.far||t.push({distance:u,point:Ac.clone(),uv:bn.getUV(Ac,ph,Cc,mh,BM,Tg,zM,new ct),face:null,object:this})},copy:function(e){return zt.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}});function gh(e,t,n,i,a,o){Bo.subVectors(e,n).addScalar(.5).multiply(i),a!==void 0?(Rc.x=o*Bo.x-a*Bo.y,Rc.y=a*Bo.x+o*Bo.y):Rc.copy(Bo),e.copy(t),e.x+=Rc.x,e.y+=Rc.y,e.applyMatrix4(TT)}const yh=new D,UM=new D;function ou(){zt.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}ou.prototype=Object.assign(Object.create(zt.prototype),{constructor:ou,isLOD:!0,copy:function(e){zt.prototype.copy.call(this,e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const a=t[n];this.addLevel(a.object.clone(),a.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){t===void 0&&(t=0),t=Math.abs(t);const n=this.levels;let i;for(i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){yh.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(yh);this.getObjectForDistance(i).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){yh.setFromMatrixPosition(e.matrixWorld),UM.setFromMatrixPosition(this.matrixWorld);const n=yh.distanceTo(UM)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}},toJSON:function(e){const t=zt.prototype.toJSON.call(this,e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,a=n.length;i<a;i++){const o=n[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}});function ad(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),ze.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new re,this.bindMatrixInverse=new re}ad.prototype=Object.assign(Object.create(ze.prototype),{constructor:ad,isSkinnedMesh:!0,copy:function(e){return ze.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new Ee,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){ze.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const e=new D,t=new Ee,n=new Ee,i=new D,a=new re;return function(o,c){const u=this.skeleton,h=this.geometry;t.fromBufferAttribute(h.attributes.skinIndex,o),n.fromBufferAttribute(h.attributes.skinWeight,o),e.fromBufferAttribute(h.attributes.position,o).applyMatrix4(this.bindMatrix),c.set(0,0,0);for(let d=0;d<4;d++){const m=n.getComponent(d);if(m!==0){const p=t.getComponent(d);a.multiplyMatrices(u.bones[p].matrixWorld,u.boneInverses[p]),c.addScaledVector(i.copy(e).applyMatrix4(a),m)}}return c.applyMatrix4(this.bindMatrixInverse)}}()});const VM=new re,oP=new re;function od(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),this.frame=-1,t===void 0)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new re)}}Object.assign(od.prototype,{calculateInverses:function(){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++){const n=new re;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.getInverse(this.boneInverses[e])}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.getInverse(n.parent.matrixWorld),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}},update:function(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const c=e[a]?e[a].matrixWorld:oP;VM.multiplyMatrices(c,t[a]),VM.toArray(n,a*16)}i!==void 0&&(i.needsUpdate=!0)},clone:function(){return new od(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}});function gy(){zt.call(this),this.type="Bone"}gy.prototype=Object.assign(Object.create(zt.prototype),{constructor:gy,isBone:!0});const GM=new re,HM=new re,vh=[],Lc=new ze;function ld(e,t,n){ze.call(this,e,t),this.instanceMatrix=new qt(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}ld.prototype=Object.assign(Object.create(ze.prototype),{constructor:ld,isInstancedMesh:!0,copy:function(e){return ze.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},setColorAt:function(e,t){this.instanceColor===null&&(this.instanceColor=new qt(new Float32Array(this.count*3),3)),t.toArray(this.instanceColor.array,e*3)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,e*16)},raycast:function(e,t){const n=this.matrixWorld,i=this.count;if(Lc.geometry=this.geometry,Lc.material=this.material,Lc.material!==void 0)for(let a=0;a<i;a++){this.getMatrixAt(a,GM),HM.multiplyMatrices(n,GM),Lc.matrixWorld=HM,Lc.raycast(e,vh);for(let o=0,c=vh.length;o<c;o++){const u=vh[o];u.instanceId=a,u.object=this,t.push(u)}vh.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,e*16)},updateMorphTargets:function(){}});function Ge(e){Qt.call(this),this.type="LineBasicMaterial",this.color=new Ct(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Ge.prototype=Object.create(Qt.prototype);Ge.prototype.constructor=Ge;Ge.prototype.isLineBasicMaterial=!0;Ge.prototype.copy=function(e){return Qt.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const IM=new D,FM=new D,kM=new re,xh=new yl,bh=new Hs;function Ti(e,t,n){n===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),zt.call(this),this.type="Line",this.geometry=e!==void 0?e:new Ft,this.material=t!==void 0?t:new Ge,this.updateMorphTargets()}Ti.prototype=Object.assign(Object.create(zt.prototype),{constructor:Ti,isLine:!0,copy:function(e){return zt.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,a=t.count;i<a;i++)IM.fromBufferAttribute(t,i-1),FM.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=IM.distanceTo(FM);e.setAttribute("lineDistance",new wt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;n[0]=0;for(let i=1,a=t.length;i<a;i++)n[i]=n[i-1],n[i]+=t[i-1].distanceTo(t[i])}return this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),bh.copy(n.boundingSphere),bh.applyMatrix4(i),bh.radius+=a,e.ray.intersectsSphere(bh)===!1)return;kM.getInverse(i),xh.copy(e.ray).applyMatrix4(kM);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,u=new D,h=new D,d=new D,m=new D,p=this.isLineSegments?2:1;if(n.isBufferGeometry){const y=n.index,_=n.attributes.position;if(y!==null){const S=y.array;for(let w=0,M=S.length-1;w<M;w+=p){const b=S[w],T=S[w+1];if(u.fromBufferAttribute(_,b),h.fromBufferAttribute(_,T),xh.distanceSqToSegment(u,h,m,d)>c)continue;m.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(m);C<e.near||C>e.far||t.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else for(let S=0,w=_.count-1;S<w;S+=p){if(u.fromBufferAttribute(_,S),h.fromBufferAttribute(_,S+1),xh.distanceSqToSegment(u,h,m,d)>c)continue;m.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(m);b<e.near||b>e.far||t.push({distance:b,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const y=n.vertices,v=y.length;for(let _=0;_<v-1;_+=p){if(xh.distanceSqToSegment(y[_],y[_+1],m,d)>c)continue;m.applyMatrix4(this.matrixWorld);const w=e.ray.origin.distanceTo(m);w<e.near||w>e.far||t.push({distance:w,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const c=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const _h=new D,Mh=new D;function Vn(e,t){Ti.call(this,e,t),this.type="LineSegments"}Vn.prototype=Object.assign(Object.create(Ti.prototype),{constructor:Vn,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,a=t.count;i<a;i+=2)_h.fromBufferAttribute(t,i),Mh.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+_h.distanceTo(Mh);e.setAttribute("lineDistance",new wt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;for(let i=0,a=t.length;i<a;i+=2)_h.copy(t[i]),Mh.copy(t[i+1]),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+_h.distanceTo(Mh)}return this}});function cd(e,t){Ti.call(this,e,t),this.type="LineLoop"}cd.prototype=Object.assign(Object.create(Ti.prototype),{constructor:cd,isLineLoop:!0});function Vi(e){Qt.call(this),this.type="PointsMaterial",this.color=new Ct(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Vi.prototype=Object.create(Qt.prototype);Vi.prototype.constructor=Vi;Vi.prototype.isPointsMaterial=!0;Vi.prototype.copy=function(e){return Qt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const WM=new re,yy=new yl,wh=new Hs,Sh=new D;function il(e,t){zt.call(this),this.type="Points",this.geometry=e!==void 0?e:new Ft,this.material=t!==void 0?t:new Vi,this.updateMorphTargets()}il.prototype=Object.assign(Object.create(zt.prototype),{constructor:il,isPoints:!0,copy:function(e){return zt.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),wh.copy(n.boundingSphere),wh.applyMatrix4(i),wh.radius+=a,e.ray.intersectsSphere(wh)===!1)return;WM.getInverse(i),yy.copy(e.ray).applyMatrix4(WM);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o;if(n.isBufferGeometry){const u=n.index,d=n.attributes.position;if(u!==null){const m=u.array;for(let p=0,y=m.length;p<y;p++){const v=m[p];Sh.fromBufferAttribute(d,v),Eg(Sh,v,c,i,e,t,this)}}else for(let m=0,p=d.count;m<p;m++)Sh.fromBufferAttribute(d,m),Eg(Sh,m,c,i,e,t,this)}else{const u=n.vertices;for(let h=0,d=u.length;h<d;h++)Eg(u[h],h,c,i,e,t,this)}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const c=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});function Eg(e,t,n,i,a,o,c){const u=yy.distanceSqToPoint(e);if(u<n){const h=new D;yy.closestPointToPoint(e,h),h.applyMatrix4(i);const d=a.ray.origin.distanceTo(h);if(d<a.near||d>a.far)return;o.push({distance:d,distanceToRay:Math.sqrt(u),point:h,index:t,face:null,object:c})}}function vy(e,t,n,i,a,o,c,u,h){Re.call(this,e,t,n,i,a,o,c,u,h),this.format=c!==void 0?c:wr,this.minFilter=o!==void 0?o:dn,this.magFilter=a!==void 0?a:dn,this.generateMipmaps=!1;const d=this;function m(){d.needsUpdate=!0,e.requestVideoFrameCallback(m)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(m)}vy.prototype=Object.assign(Object.create(Re.prototype),{constructor:vy,isVideoTexture:!0,update:function(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function sl(e,t,n,i,a,o,c,u,h,d,m,p){Re.call(this,null,o,c,u,h,d,i,a,m,p),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}sl.prototype=Object.create(Re.prototype);sl.prototype.constructor=sl;sl.prototype.isCompressedTexture=!0;function lu(e,t,n,i,a,o,c,u,h){Re.call(this,e,t,n,i,a,o,c,u,h),this.needsUpdate=!0}lu.prototype=Object.create(Re.prototype);lu.prototype.constructor=lu;lu.prototype.isCanvasTexture=!0;function cu(e,t,n,i,a,o,c,u,h,d){if(d=d!==void 0?d:ba,d!==ba&&d!==Ko)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&d===ba&&(n=Zc),n===void 0&&d===Ko&&(n=Qo),Re.call(this,null,i,a,o,c,u,d,n,h),this.image={width:e,height:t},this.magFilter=c!==void 0?c:ln,this.minFilter=u!==void 0?u:ln,this.flipY=!1,this.generateMipmaps=!1}cu.prototype=Object.create(Re.prototype);cu.prototype.constructor=cu;cu.prototype.isDepthTexture=!0;let lP=0;const Qi=new re,Ag=new zt,Th=new D;function Ae(){Object.defineProperty(this,"id",{value:lP+=2}),this.uuid=ne.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Ae.prototype=Object.assign(Object.create(ls.prototype),{constructor:Ae,isGeometry:!0,applyMatrix4:function(e){const t=new Nn().getNormalMatrix(e);for(let n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(let n=0,i=this.faces.length;n<i;n++){const a=this.faces[n];a.normal.applyMatrix3(t).normalize();for(let o=0,c=a.vertexNormals.length;o<c;o++)a.vertexNormals[o].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Qi.makeRotationX(e),this.applyMatrix4(Qi),this},rotateY:function(e){return Qi.makeRotationY(e),this.applyMatrix4(Qi),this},rotateZ:function(e){return Qi.makeRotationZ(e),this.applyMatrix4(Qi),this},translate:function(e,t,n){return Qi.makeTranslation(e,t,n),this.applyMatrix4(Qi),this},scale:function(e,t,n){return Qi.makeScale(e,t,n),this.applyMatrix4(Qi),this},lookAt:function(e){return Ag.lookAt(e),Ag.updateMatrix(),this.applyMatrix4(Ag.matrix),this},fromBufferGeometry:function(e){const t=this,n=e.index!==null?e.index:void 0,i=e.attributes;if(i.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const a=i.position,o=i.normal,c=i.color,u=i.uv,h=i.uv2;h!==void 0&&(this.faceVertexUvs[1]=[]);for(let p=0;p<a.count;p++)t.vertices.push(new D().fromBufferAttribute(a,p)),c!==void 0&&t.colors.push(new Ct().fromBufferAttribute(c,p));function d(p,y,v,_){const S=c===void 0?[]:[t.colors[p].clone(),t.colors[y].clone(),t.colors[v].clone()],w=o===void 0?[]:[new D().fromBufferAttribute(o,p),new D().fromBufferAttribute(o,y),new D().fromBufferAttribute(o,v)],M=new $c(p,y,v,w,S,_);t.faces.push(M),u!==void 0&&t.faceVertexUvs[0].push([new ct().fromBufferAttribute(u,p),new ct().fromBufferAttribute(u,y),new ct().fromBufferAttribute(u,v)]),h!==void 0&&t.faceVertexUvs[1].push([new ct().fromBufferAttribute(h,p),new ct().fromBufferAttribute(h,y),new ct().fromBufferAttribute(h,v)])}const m=e.groups;if(m.length>0)for(let p=0;p<m.length;p++){const y=m[p],v=y.start,_=y.count;for(let S=v,w=v+_;S<w;S+=3)n!==void 0?d(n.getX(S),n.getX(S+1),n.getX(S+2),y.materialIndex):d(S,S+1,S+2,y.materialIndex)}else if(n!==void 0)for(let p=0;p<n.count;p+=3)d(n.getX(p),n.getX(p+1),n.getX(p+2));else for(let p=0;p<a.count;p+=3)d(p,p+1,p+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Th).negate(),this.translate(Th.x,Th.y,Th.z),this},normalize:function(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,n=t===0?1:1/t,i=new re;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const e=new D,t=new D;for(let n=0,i=this.faces.length;n<i;n++){const a=this.faces[n],o=this.vertices[a.a],c=this.vertices[a.b],u=this.vertices[a.c];e.subVectors(u,c),t.subVectors(o,c),e.cross(t),e.normalize(),a.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);const t=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)t[n]=new D;if(e){const n=new D,i=new D;for(let a=0,o=this.faces.length;a<o;a++){const c=this.faces[a],u=this.vertices[c.a],h=this.vertices[c.b],d=this.vertices[c.c];n.subVectors(d,h),i.subVectors(u,h),n.cross(i),t[c.a].add(n),t[c.b].add(n),t[c.c].add(n)}}else{this.computeFaceNormals();for(let n=0,i=this.faces.length;n<i;n++){const a=this.faces[n];t[a.a].add(a.normal),t[a.b].add(a.normal),t[a.c].add(a.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)t[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){const a=this.faces[n],o=a.vertexNormals;o.length===3?(o[0].copy(t[a.a]),o[1].copy(t[a.b]),o[2].copy(t[a.c])):(o[0]=t[a.a].clone(),o[1]=t[a.b].clone(),o[2]=t[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const n=this.faces[e],i=n.vertexNormals;i.length===3?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let a=0,o=i.vertexNormals.length;a<o;a++)i.__originalVertexNormals[a]?i.__originalVertexNormals[a].copy(i.vertexNormals[a]):i.__originalVertexNormals[a]=i.vertexNormals[a].clone()}const e=new Ae;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const a=this.morphNormals[t].faceNormals,o=this.morphNormals[t].vertexNormals;for(let c=0,u=this.faces.length;c<u;c++){const h=new D,d={a:new D,b:new D,c:new D};a.push(h),o.push(d)}}const i=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let a=0,o=this.faces.length;a<o;a++){const c=this.faces[a],u=i.faceNormals[a],h=i.vertexNormals[a];u.copy(c.normal),h.a.copy(c.vertexNormals[0]),h.b.copy(c.vertexNormals[1]),h.c.copy(c.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new cs),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Hs),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let i;const a=this.vertices.length,o=this.vertices,c=e.vertices,u=this.faces,h=e.faces,d=this.colors,m=e.colors;n===void 0&&(n=0),t!==void 0&&(i=new Nn().getNormalMatrix(t));for(let p=0,y=c.length;p<y;p++){const _=c[p].clone();t!==void 0&&_.applyMatrix4(t),o.push(_)}for(let p=0,y=m.length;p<y;p++)d.push(m[p].clone());for(let p=0,y=h.length;p<y;p++){const v=h[p];let _,S;const w=v.vertexNormals,M=v.vertexColors,b=new $c(v.a+a,v.b+a,v.c+a);b.normal.copy(v.normal),i!==void 0&&b.normal.applyMatrix3(i).normalize();for(let T=0,R=w.length;T<R;T++)_=w[T].clone(),i!==void 0&&_.applyMatrix3(i).normalize(),b.vertexNormals.push(_);b.color.copy(v.color);for(let T=0,R=M.length;T<R;T++)S=M[T],b.vertexColors.push(S.clone());b.materialIndex=v.materialIndex+n,u.push(b)}for(let p=0,y=e.faceVertexUvs.length;p<y;p++){const v=e.faceVertexUvs[p];this.faceVertexUvs[p]===void 0&&(this.faceVertexUvs[p]=[]);for(let _=0,S=v.length;_<S;_++){const w=v[_],M=[];for(let b=0,T=w.length;b<T;b++)M.push(w[b].clone());this.faceVertexUvs[p].push(M)}}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){const e={},t=[],n=[],a=Math.pow(10,4);for(let u=0,h=this.vertices.length;u<h;u++){const d=this.vertices[u],m=Math.round(d.x*a)+"_"+Math.round(d.y*a)+"_"+Math.round(d.z*a);e[m]===void 0?(e[m]=u,t.push(this.vertices[u]),n[u]=t.length-1):n[u]=n[e[m]]}const o=[];for(let u=0,h=this.faces.length;u<h;u++){const d=this.faces[u];d.a=n[d.a],d.b=n[d.b],d.c=n[d.c];const m=[d.a,d.b,d.c];for(let p=0;p<3;p++)if(m[p]===m[(p+1)%3]){o.push(u);break}}for(let u=o.length-1;u>=0;u--){const h=o[u];this.faces.splice(h,1);for(let d=0,m=this.faceVertexUvs.length;d<m;d++)this.faceVertexUvs[d].splice(h,1)}const c=this.vertices.length-t.length;return this.vertices=t,c},setFromPoints:function(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){const i=e[t];this.vertices.push(new D(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){const e=this.faces,t=e.length;for(let u=0;u<t;u++)e[u]._id=u;function n(u,h){return u.materialIndex-h.materialIndex}e.sort(n);const i=this.faceVertexUvs[0],a=this.faceVertexUvs[1];let o,c;i&&i.length===t&&(o=[]),a&&a.length===t&&(c=[]);for(let u=0;u<t;u++){const h=e[u]._id;o&&o.push(i[h]),c&&c.push(a[h])}o&&(this.faceVertexUvs[0]=o),c&&(this.faceVertexUvs[1]=c)},toJSON:function(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){const v=this.parameters;for(const _ in v)v[_]!==void 0&&(e[_]=v[_]);return e}const t=[];for(let v=0;v<this.vertices.length;v++){const _=this.vertices[v];t.push(_.x,_.y,_.z)}const n=[],i=[],a={},o=[],c={},u=[],h={};for(let v=0;v<this.faces.length;v++){const _=this.faces[v],S=!0,w=!1,M=this.faceVertexUvs[0][v]!==void 0,b=_.normal.length()>0,T=_.vertexNormals.length>0,R=_.color.r!==1||_.color.g!==1||_.color.b!==1,C=_.vertexColors.length>0;let A=0;if(A=d(A,0,0),A=d(A,1,S),A=d(A,2,w),A=d(A,3,M),A=d(A,4,b),A=d(A,5,T),A=d(A,6,R),A=d(A,7,C),n.push(A),n.push(_.a,_.b,_.c),n.push(_.materialIndex),M){const O=this.faceVertexUvs[0][v];n.push(y(O[0]),y(O[1]),y(O[2]))}if(b&&n.push(m(_.normal)),T){const O=_.vertexNormals;n.push(m(O[0]),m(O[1]),m(O[2]))}if(R&&n.push(p(_.color)),C){const O=_.vertexColors;n.push(p(O[0]),p(O[1]),p(O[2]))}}function d(v,_,S){return S?v|1<<_:v&~(1<<_)}function m(v){const _=v.x.toString()+v.y.toString()+v.z.toString();return a[_]!==void 0||(a[_]=i.length/3,i.push(v.x,v.y,v.z)),a[_]}function p(v){const _=v.r.toString()+v.g.toString()+v.b.toString();return c[_]!==void 0||(c[_]=o.length,o.push(v.getHex())),c[_]}function y(v){const _=v.x.toString()+v.y.toString();return h[_]!==void 0||(h[_]=u.length/2,u.push(v.x,v.y)),h[_]}return e.data={},e.data.vertices=t,e.data.normals=i,o.length>0&&(e.data.colors=o),u.length>0&&(e.data.uvs=[u]),e.data.faces=n,e},clone:function(){return new Ae().copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let p=0,y=t.length;p<y;p++)this.vertices.push(t[p].clone());const n=e.colors;for(let p=0,y=n.length;p<y;p++)this.colors.push(n[p].clone());const i=e.faces;for(let p=0,y=i.length;p<y;p++)this.faces.push(i[p].clone());for(let p=0,y=e.faceVertexUvs.length;p<y;p++){const v=e.faceVertexUvs[p];this.faceVertexUvs[p]===void 0&&(this.faceVertexUvs[p]=[]);for(let _=0,S=v.length;_<S;_++){const w=v[_],M=[];for(let b=0,T=w.length;b<T;b++){const R=w[b];M.push(R.clone())}this.faceVertexUvs[p].push(M)}}const a=e.morphTargets;for(let p=0,y=a.length;p<y;p++){const v={};if(v.name=a[p].name,a[p].vertices!==void 0){v.vertices=[];for(let _=0,S=a[p].vertices.length;_<S;_++)v.vertices.push(a[p].vertices[_].clone())}if(a[p].normals!==void 0){v.normals=[];for(let _=0,S=a[p].normals.length;_<S;_++)v.normals.push(a[p].normals[_].clone())}this.morphTargets.push(v)}const o=e.morphNormals;for(let p=0,y=o.length;p<y;p++){const v={};if(o[p].vertexNormals!==void 0){v.vertexNormals=[];for(let _=0,S=o[p].vertexNormals.length;_<S;_++){const w=o[p].vertexNormals[_],M={};M.a=w.a.clone(),M.b=w.b.clone(),M.c=w.c.clone(),v.vertexNormals.push(M)}}if(o[p].faceNormals!==void 0){v.faceNormals=[];for(let _=0,S=o[p].faceNormals.length;_<S;_++)v.faceNormals.push(o[p].faceNormals[_].clone())}this.morphNormals.push(v)}const c=e.skinWeights;for(let p=0,y=c.length;p<y;p++)this.skinWeights.push(c[p].clone());const u=e.skinIndices;for(let p=0,y=u.length;p<y;p++)this.skinIndices.push(u[p].clone());const h=e.lineDistances;for(let p=0,y=h.length;p<y;p++)this.lineDistances.push(h[p]);const d=e.boundingBox;d!==null&&(this.boundingBox=d.clone());const m=e.boundingSphere;return m!==null&&(this.boundingSphere=m.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class xy extends Ae{constructor(t,n,i,a,o,c){super(),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:a,heightSegments:o,depthSegments:c},this.fromBufferGeometry(new Ou(t,n,i,a,o,c)),this.mergeVertices()}}class mv extends Ft{constructor(t,n,i,a){super(),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:n,thetaStart:i,thetaLength:a},t=t||1,n=n!==void 0?Math.max(3,n):8,i=i!==void 0?i:0,a=a!==void 0?a:Math.PI*2;const o=[],c=[],u=[],h=[],d=new D,m=new ct;c.push(0,0,0),u.push(0,0,1),h.push(.5,.5);for(let p=0,y=3;p<=n;p++,y+=3){const v=i+p/n*a;d.x=t*Math.cos(v),d.y=t*Math.sin(v),c.push(d.x,d.y,d.z),u.push(0,0,1),m.x=(c[y]/t+1)/2,m.y=(c[y+1]/t+1)/2,h.push(m.x,m.y)}for(let p=1;p<=n;p++)o.push(p,p+1,0);this.setIndex(o),this.setAttribute("position",new wt(c,3)),this.setAttribute("normal",new wt(u,3)),this.setAttribute("uv",new wt(h,2))}}class ET extends Ae{constructor(t,n,i,a){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:n,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new mv(t,n,i,a)),this.mergeVertices()}}class Bu extends Ft{constructor(t,n,i,a,o,c,u,h){super(),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:n,height:i,radialSegments:a,heightSegments:o,openEnded:c,thetaStart:u,thetaLength:h};const d=this;t=t!==void 0?t:1,n=n!==void 0?n:1,i=i||1,a=Math.floor(a)||8,o=Math.floor(o)||1,c=c!==void 0?c:!1,u=u!==void 0?u:0,h=h!==void 0?h:Math.PI*2;const m=[],p=[],y=[],v=[];let _=0;const S=[],w=i/2;let M=0;b(),c===!1&&(t>0&&T(!0),n>0&&T(!1)),this.setIndex(m),this.setAttribute("position",new wt(p,3)),this.setAttribute("normal",new wt(y,3)),this.setAttribute("uv",new wt(v,2));function b(){const R=new D,C=new D;let A=0;const O=(n-t)/i;for(let P=0;P<=o;P++){const G=[],J=P/o,j=J*(n-t)+t;for(let I=0;I<=a;I++){const K=I/a,F=K*h+u,k=Math.sin(F),z=Math.cos(F);C.x=j*k,C.y=-J*i+w,C.z=j*z,p.push(C.x,C.y,C.z),R.set(k,O,z).normalize(),y.push(R.x,R.y,R.z),v.push(K,1-J),G.push(_++)}S.push(G)}for(let P=0;P<a;P++)for(let G=0;G<o;G++){const J=S[G][P],j=S[G+1][P],I=S[G+1][P+1],K=S[G][P+1];m.push(J,j,K),m.push(j,I,K),A+=6}d.addGroup(M,A,0),M+=A}function T(R){const C=_,A=new ct,O=new D;let P=0;const G=R===!0?t:n,J=R===!0?1:-1;for(let I=1;I<=a;I++)p.push(0,w*J,0),y.push(0,J,0),v.push(.5,.5),_++;const j=_;for(let I=0;I<=a;I++){const F=I/a*h+u,k=Math.cos(F),z=Math.sin(F);O.x=G*z,O.y=w*J,O.z=G*k,p.push(O.x,O.y,O.z),y.push(0,J,0),A.x=k*.5+.5,A.y=z*.5*J+.5,v.push(A.x,A.y),_++}for(let I=0;I<a;I++){const K=C+I,F=j+I;R===!0?m.push(F,F+1,K):m.push(F+1,F,K),P+=3}d.addGroup(M,P,R===!0?1:2),M+=P}}}class gv extends Ae{constructor(t,n,i,a,o,c,u,h){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:n,height:i,radialSegments:a,heightSegments:o,openEnded:c,thetaStart:u,thetaLength:h},this.fromBufferGeometry(new Bu(t,n,i,a,o,c,u,h)),this.mergeVertices()}}class AT extends gv{constructor(t,n,i,a,o,c,u){super(0,t,n,i,a,o,c,u),this.type="ConeGeometry",this.parameters={radius:t,height:n,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:c,thetaLength:u}}}class RT extends Bu{constructor(t,n,i,a,o,c,u){super(0,t,n,i,a,o,c,u),this.type="ConeBufferGeometry",this.parameters={radius:t,height:n,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:c,thetaLength:u}}}class Ba extends Ft{constructor(t,n,i,a){super(),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:n,radius:i,detail:a},i=i||1,a=a||0;const o=[],c=[];u(a),d(i),m(),this.setAttribute("position",new wt(o,3)),this.setAttribute("normal",new wt(o.slice(),3)),this.setAttribute("uv",new wt(c,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function u(b){const T=new D,R=new D,C=new D;for(let A=0;A<n.length;A+=3)v(n[A+0],T),v(n[A+1],R),v(n[A+2],C),h(T,R,C,b)}function h(b,T,R,C){const A=C+1,O=[];for(let P=0;P<=A;P++){O[P]=[];const G=b.clone().lerp(R,P/A),J=T.clone().lerp(R,P/A),j=A-P;for(let I=0;I<=j;I++)I===0&&P===A?O[P][I]=G:O[P][I]=G.clone().lerp(J,I/j)}for(let P=0;P<A;P++)for(let G=0;G<2*(A-P)-1;G++){const J=Math.floor(G/2);G%2===0?(y(O[P][J+1]),y(O[P+1][J]),y(O[P][J])):(y(O[P][J+1]),y(O[P+1][J+1]),y(O[P+1][J]))}}function d(b){const T=new D;for(let R=0;R<o.length;R+=3)T.x=o[R+0],T.y=o[R+1],T.z=o[R+2],T.normalize().multiplyScalar(b),o[R+0]=T.x,o[R+1]=T.y,o[R+2]=T.z}function m(){const b=new D;for(let T=0;T<o.length;T+=3){b.x=o[T+0],b.y=o[T+1],b.z=o[T+2];const R=w(b)/2/Math.PI+.5,C=M(b)/Math.PI+.5;c.push(R,1-C)}_(),p()}function p(){for(let b=0;b<c.length;b+=6){const T=c[b+0],R=c[b+2],C=c[b+4],A=Math.max(T,R,C),O=Math.min(T,R,C);A>.9&&O<.1&&(T<.2&&(c[b+0]+=1),R<.2&&(c[b+2]+=1),C<.2&&(c[b+4]+=1))}}function y(b){o.push(b.x,b.y,b.z)}function v(b,T){const R=b*3;T.x=t[R+0],T.y=t[R+1],T.z=t[R+2]}function _(){const b=new D,T=new D,R=new D,C=new D,A=new ct,O=new ct,P=new ct;for(let G=0,J=0;G<o.length;G+=9,J+=6){b.set(o[G+0],o[G+1],o[G+2]),T.set(o[G+3],o[G+4],o[G+5]),R.set(o[G+6],o[G+7],o[G+8]),A.set(c[J+0],c[J+1]),O.set(c[J+2],c[J+3]),P.set(c[J+4],c[J+5]),C.copy(b).add(T).add(R).divideScalar(3);const j=w(C);S(A,J+0,b,j),S(O,J+2,T,j),S(P,J+4,R,j)}}function S(b,T,R,C){C<0&&b.x===1&&(c[T]=b.x-1),R.x===0&&R.z===0&&(c[T]=C/2/Math.PI+.5)}function w(b){return Math.atan2(b.z,-b.x)}function M(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}}class yv extends Ba{constructor(t,n){const i=(1+Math.sqrt(5))/2,a=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-i,0,-a,i,0,a,-i,0,a,i,-a,-i,0,-a,i,0,a,-i,0,a,i,0,-i,0,-a,i,0,-a,-i,0,a,i,0,a],c=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,c,t,n),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class CT extends Ae{constructor(t,n){super(),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new yv(t,n)),this.mergeVertices()}}const Eh=new D,Ah=new D,Rg=new D,Rh=new bn;class vv extends Ft{constructor(t,n){super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:n},n=n!==void 0?n:1,t.isGeometry&&(t=new Ft().fromGeometry(t));const a=Math.pow(10,4),o=Math.cos(ne.DEG2RAD*n),c=t.getIndex(),u=t.getAttribute("position"),h=c?c.count:u.count,d=[0,0,0],m=["a","b","c"],p=new Array(3),y={},v=[];for(let _=0;_<h;_+=3){c?(d[0]=c.getX(_),d[1]=c.getX(_+1),d[2]=c.getX(_+2)):(d[0]=_,d[1]=_+1,d[2]=_+2);const{a:S,b:w,c:M}=Rh;if(S.fromBufferAttribute(u,d[0]),w.fromBufferAttribute(u,d[1]),M.fromBufferAttribute(u,d[2]),Rh.getNormal(Rg),p[0]=`${Math.round(S.x*a)},${Math.round(S.y*a)},${Math.round(S.z*a)}`,p[1]=`${Math.round(w.x*a)},${Math.round(w.y*a)},${Math.round(w.z*a)}`,p[2]=`${Math.round(M.x*a)},${Math.round(M.y*a)},${Math.round(M.z*a)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let b=0;b<3;b++){const T=(b+1)%3,R=p[b],C=p[T],A=Rh[m[b]],O=Rh[m[T]],P=`${R}_${C}`,G=`${C}_${R}`;G in y&&y[G]?(Rg.dot(y[G].normal)<=o&&(v.push(A.x,A.y,A.z),v.push(O.x,O.y,O.z)),y[G]=null):P in y||(y[P]={index0:d[b],index1:d[T],normal:Rg.clone()})}}for(const _ in y)if(y[_]){const{index0:S,index1:w}=y[_];Eh.fromBufferAttribute(u,S),Ah.fromBufferAttribute(u,w),v.push(Eh.x,Eh.y,Eh.z),v.push(Ah.x,Ah.y,Ah.z)}this.setAttribute("position",new wt(v,3))}}const cP={triangulate:function(e,t,n){n=n||2;const i=t&&t.length,a=i?t[0]*n:e.length;let o=LT(e,0,a,n,!0);const c=[];if(!o||o.next===o.prev)return c;let u,h,d,m,p,y,v;if(i&&(o=pP(e,t,o,n)),e.length>80*n){u=d=e[0],h=m=e[1];for(let _=n;_<a;_+=n)p=e[_],y=e[_+1],p<u&&(u=p),y<h&&(h=y),p>d&&(d=p),y>m&&(m=y);v=Math.max(d-u,m-h),v=v!==0?1/v:0}return uu(o,c,n,u,h,v),c}};function LT(e,t,n,i,a){let o,c;if(a===TP(e,t,n,i)>0)for(o=t;o<n;o+=i)c=jM(o,e[o],e[o+1],c);else for(o=n-i;o>=t;o-=i)c=jM(o,e[o],e[o+1],c);return c&&Id(c,c.next)&&(hu(c),c=c.next),c}function Pr(e,t){if(!e)return e;t||(t=e);let n=e,i;do if(i=!1,!n.steiner&&(Id(n,n.next)||Ie(n.prev,n,n.next)===0)){if(hu(n),n=t=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==t);return t}function uu(e,t,n,i,a,o,c){if(!e)return;!c&&o&&xP(e,i,a,o);let u=e,h,d;for(;e.prev!==e.next;){if(h=e.prev,d=e.next,o?fP(e,i,a,o):uP(e)){t.push(h.i/n),t.push(e.i/n),t.push(d.i/n),hu(e),e=d.next,u=d.next;continue}if(e=d,e===u){c?c===1?(e=hP(Pr(e),t,n),uu(e,t,n,i,a,o,2)):c===2&&dP(e,t,n,i,a,o):uu(Pr(e),t,n,i,a,o,1);break}}}function uP(e){const t=e.prev,n=e,i=e.next;if(Ie(t,n,i)>=0)return!1;let a=e.next.next;for(;a!==e.prev;){if(ko(t.x,t.y,n.x,n.y,i.x,i.y,a.x,a.y)&&Ie(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function fP(e,t,n,i){const a=e.prev,o=e,c=e.next;if(Ie(a,o,c)>=0)return!1;const u=a.x<o.x?a.x<c.x?a.x:c.x:o.x<c.x?o.x:c.x,h=a.y<o.y?a.y<c.y?a.y:c.y:o.y<c.y?o.y:c.y,d=a.x>o.x?a.x>c.x?a.x:c.x:o.x>c.x?o.x:c.x,m=a.y>o.y?a.y>c.y?a.y:c.y:o.y>c.y?o.y:c.y,p=by(u,h,t,n,i),y=by(d,m,t,n,i);let v=e.prevZ,_=e.nextZ;for(;v&&v.z>=p&&_&&_.z<=y;){if(v!==e.prev&&v!==e.next&&ko(a.x,a.y,o.x,o.y,c.x,c.y,v.x,v.y)&&Ie(v.prev,v,v.next)>=0||(v=v.prevZ,_!==e.prev&&_!==e.next&&ko(a.x,a.y,o.x,o.y,c.x,c.y,_.x,_.y)&&Ie(_.prev,_,_.next)>=0))return!1;_=_.nextZ}for(;v&&v.z>=p;){if(v!==e.prev&&v!==e.next&&ko(a.x,a.y,o.x,o.y,c.x,c.y,v.x,v.y)&&Ie(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;_&&_.z<=y;){if(_!==e.prev&&_!==e.next&&ko(a.x,a.y,o.x,o.y,c.x,c.y,_.x,_.y)&&Ie(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function hP(e,t,n){let i=e;do{const a=i.prev,o=i.next.next;!Id(a,o)&&DT(a,i,i.next,o)&&fu(a,o)&&fu(o,a)&&(t.push(a.i/n),t.push(i.i/n),t.push(o.i/n),hu(i),hu(i.next),i=e=o),i=i.next}while(i!==e);return Pr(i)}function dP(e,t,n,i,a,o){let c=e;do{let u=c.next.next;for(;u!==c.prev;){if(c.i!==u.i&&MP(c,u)){let h=OT(c,u);c=Pr(c,c.next),h=Pr(h,h.next),uu(c,t,n,i,a,o),uu(h,t,n,i,a,o);return}u=u.next}c=c.next}while(c!==e)}function pP(e,t,n,i){const a=[];let o,c,u,h,d;for(o=0,c=t.length;o<c;o++)u=t[o]*i,h=o<c-1?t[o+1]*i:e.length,d=LT(e,u,h,i,!1),d===d.next&&(d.steiner=!0),a.push(_P(d));for(a.sort(mP),o=0;o<a.length;o++)gP(a[o],n),n=Pr(n,n.next);return n}function mP(e,t){return e.x-t.x}function gP(e,t){if(t=yP(e,t),t){const n=OT(t,e);Pr(t,t.next),Pr(n,n.next)}}function yP(e,t){let n=t;const i=e.x,a=e.y;let o=-1/0,c;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const y=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(y<=i&&y>o){if(o=y,y===i){if(a===n.y)return n;if(a===n.next.y)return n.next}c=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!c)return null;if(i===o)return c;const u=c,h=c.x,d=c.y;let m=1/0,p;n=c;do i>=n.x&&n.x>=h&&i!==n.x&&ko(a<d?i:o,a,h,d,a<d?o:i,a,n.x,n.y)&&(p=Math.abs(a-n.y)/(i-n.x),fu(n,e)&&(p<m||p===m&&(n.x>c.x||n.x===c.x&&vP(c,n)))&&(c=n,m=p)),n=n.next;while(n!==u);return c}function vP(e,t){return Ie(e.prev,e,t.prev)<0&&Ie(t.next,e,e.next)<0}function xP(e,t,n,i){let a=e;do a.z===null&&(a.z=by(a.x,a.y,t,n,i)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,bP(a)}function bP(e){let t,n,i,a,o,c,u,h,d=1;do{for(n=e,e=null,o=null,c=0;n;){for(c++,i=n,u=0,t=0;t<d&&(u++,i=i.nextZ,!!i);t++);for(h=d;u>0||h>0&&i;)u!==0&&(h===0||!i||n.z<=i.z)?(a=n,n=n.nextZ,u--):(a=i,i=i.nextZ,h--),o?o.nextZ=a:e=a,a.prevZ=o,o=a;n=i}o.nextZ=null,d*=2}while(c>1);return e}function by(e,t,n,i,a){return e=32767*(e-n)*a,t=32767*(t-i)*a,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function _P(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function ko(e,t,n,i,a,o,c,u){return(a-c)*(t-u)-(e-c)*(o-u)>=0&&(e-c)*(i-u)-(n-c)*(t-u)>=0&&(n-c)*(o-u)-(a-c)*(i-u)>=0}function MP(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!wP(e,t)&&(fu(e,t)&&fu(t,e)&&SP(e,t)&&(Ie(e.prev,e,t.prev)||Ie(e,t.prev,t))||Id(e,t)&&Ie(e.prev,e,e.next)>0&&Ie(t.prev,t,t.next)>0)}function Ie(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Id(e,t){return e.x===t.x&&e.y===t.y}function DT(e,t,n,i){const a=Lh(Ie(e,t,n)),o=Lh(Ie(e,t,i)),c=Lh(Ie(n,i,e)),u=Lh(Ie(n,i,t));return!!(a!==o&&c!==u||a===0&&Ch(e,n,t)||o===0&&Ch(e,i,t)||c===0&&Ch(n,e,i)||u===0&&Ch(n,t,i))}function Ch(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Lh(e){return e>0?1:e<0?-1:0}function wP(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&DT(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function fu(e,t){return Ie(e.prev,e,e.next)<0?Ie(e,t,e.next)>=0&&Ie(e,e.prev,t)>=0:Ie(e,t,e.prev)<0||Ie(e,e.next,t)<0}function SP(e,t){let n=e,i=!1;const a=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&a<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==e);return i}function OT(e,t){const n=new _y(e.i,e.x,e.y),i=new _y(t.i,t.x,t.y),a=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=a,a.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function jM(e,t,n,i){const a=new _y(e,t,n);return i?(a.next=i.next,a.prev=i,i.next.prev=a,i.next=a):(a.prev=a,a.next=a),a}function hu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function _y(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function TP(e,t,n,i){let a=0;for(let o=t,c=n-i;o<n;o+=i)a+=(e[c]-e[o])*(e[o+1]+e[c+1]),c=o;return a}const Bs={area:function(e){const t=e.length;let n=0;for(let i=t-1,a=0;a<t;i=a++)n+=e[i].x*e[a].y-e[a].x*e[i].y;return n*.5},isClockWise:function(e){return Bs.area(e)<0},triangulateShape:function(e,t){const n=[],i=[],a=[];qM(e),XM(n,e);let o=e.length;t.forEach(qM);for(let u=0;u<t.length;u++)i.push(o),o+=t[u].length,XM(n,t[u]);const c=cP.triangulate(n,i);for(let u=0;u<c.length;u+=3)a.push(c.slice(u,u+3));return a}};function qM(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function XM(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class zu extends Ft{constructor(t,n){super(),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:n},t=Array.isArray(t)?t:[t];const i=this,a=[],o=[];for(let u=0,h=t.length;u<h;u++){const d=t[u];c(d)}this.setAttribute("position",new wt(a,3)),this.setAttribute("uv",new wt(o,2)),this.computeVertexNormals();function c(u){const h=[],d=n.curveSegments!==void 0?n.curveSegments:12,m=n.steps!==void 0?n.steps:1;let p=n.depth!==void 0?n.depth:100,y=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:6,_=n.bevelSize!==void 0?n.bevelSize:v-2,S=n.bevelOffset!==void 0?n.bevelOffset:0,w=n.bevelSegments!==void 0?n.bevelSegments:3;const M=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:EP;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),p=n.amount);let T,R=!1,C,A,O,P;M&&(T=M.getSpacedPoints(m),R=!0,y=!1,C=M.computeFrenetFrames(m,!1),A=new D,O=new D,P=new D),y||(w=0,v=0,_=0,S=0);const G=u.extractPoints(d);let J=G.shape;const j=G.holes;if(!Bs.isClockWise(J)){J=J.reverse();for(let ft=0,vt=j.length;ft<vt;ft++){const xt=j[ft];Bs.isClockWise(xt)&&(j[ft]=xt.reverse())}}const K=Bs.triangulateShape(J,j),F=J;for(let ft=0,vt=j.length;ft<vt;ft++){const xt=j[ft];J=J.concat(xt)}function k(ft,vt,xt){return vt||console.error("THREE.ExtrudeGeometry: vec does not exist"),vt.clone().multiplyScalar(xt).add(ft)}const z=J.length,q=K.length;function X(ft,vt,xt){let It,Et,U;const B=ft.x-vt.x,dt=ft.y-vt.y,ut=xt.x-ft.x,W=xt.y-ft.y,mt=B*B+dt*dt,_t=B*W-dt*ut;if(Math.abs(_t)>Number.EPSILON){const Ut=Math.sqrt(mt),bt=Math.sqrt(ut*ut+W*W),Dt=vt.x-dt/Ut,Lt=vt.y+B/Ut,Xt=xt.x-W/bt,Mt=xt.y+ut/bt,Zt=((Xt-Dt)*W-(Mt-Lt)*ut)/(B*W-dt*ut);It=Dt+B*Zt-ft.x,Et=Lt+dt*Zt-ft.y;const Pe=It*It+Et*Et;if(Pe<=2)return new ct(It,Et);U=Math.sqrt(Pe/2)}else{let Ut=!1;B>Number.EPSILON?ut>Number.EPSILON&&(Ut=!0):B<-Number.EPSILON?ut<-Number.EPSILON&&(Ut=!0):Math.sign(dt)===Math.sign(W)&&(Ut=!0),Ut?(It=-dt,Et=B,U=Math.sqrt(mt)):(It=B,Et=dt,U=Math.sqrt(mt/2))}return new ct(It/U,Et/U)}const lt=[];for(let ft=0,vt=F.length,xt=vt-1,It=ft+1;ft<vt;ft++,xt++,It++)xt===vt&&(xt=0),It===vt&&(It=0),lt[ft]=X(F[ft],F[xt],F[It]);const ht=[];let gt,At=lt.concat();for(let ft=0,vt=j.length;ft<vt;ft++){const xt=j[ft];gt=[];for(let It=0,Et=xt.length,U=Et-1,B=It+1;It<Et;It++,U++,B++)U===Et&&(U=0),B===Et&&(B=0),gt[It]=X(xt[It],xt[U],xt[B]);ht.push(gt),At=At.concat(gt)}for(let ft=0;ft<w;ft++){const vt=ft/w,xt=v*Math.cos(vt*Math.PI/2),It=_*Math.sin(vt*Math.PI/2)+S;for(let Et=0,U=F.length;Et<U;Et++){const B=k(F[Et],lt[Et],It);St(B.x,B.y,-xt)}for(let Et=0,U=j.length;Et<U;Et++){const B=j[Et];gt=ht[Et];for(let dt=0,ut=B.length;dt<ut;dt++){const W=k(B[dt],gt[dt],It);St(W.x,W.y,-xt)}}}const yt=_+S;for(let ft=0;ft<z;ft++){const vt=y?k(J[ft],At[ft],yt):J[ft];R?(O.copy(C.normals[0]).multiplyScalar(vt.x),A.copy(C.binormals[0]).multiplyScalar(vt.y),P.copy(T[0]).add(O).add(A),St(P.x,P.y,P.z)):St(vt.x,vt.y,0)}for(let ft=1;ft<=m;ft++)for(let vt=0;vt<z;vt++){const xt=y?k(J[vt],At[vt],yt):J[vt];R?(O.copy(C.normals[ft]).multiplyScalar(xt.x),A.copy(C.binormals[ft]).multiplyScalar(xt.y),P.copy(T[ft]).add(O).add(A),St(P.x,P.y,P.z)):St(xt.x,xt.y,p/m*ft)}for(let ft=w-1;ft>=0;ft--){const vt=ft/w,xt=v*Math.cos(vt*Math.PI/2),It=_*Math.sin(vt*Math.PI/2)+S;for(let Et=0,U=F.length;Et<U;Et++){const B=k(F[Et],lt[Et],It);St(B.x,B.y,p+xt)}for(let Et=0,U=j.length;Et<U;Et++){const B=j[Et];gt=ht[Et];for(let dt=0,ut=B.length;dt<ut;dt++){const W=k(B[dt],gt[dt],It);R?St(W.x,W.y+T[m-1].y,T[m-1].x+xt):St(W.x,W.y,p+xt)}}}Gt(),st();function Gt(){const ft=a.length/3;if(y){let vt=0,xt=z*vt;for(let It=0;It<q;It++){const Et=K[It];ie(Et[2]+xt,Et[1]+xt,Et[0]+xt)}vt=m+w*2,xt=z*vt;for(let It=0;It<q;It++){const Et=K[It];ie(Et[0]+xt,Et[1]+xt,Et[2]+xt)}}else{for(let vt=0;vt<q;vt++){const xt=K[vt];ie(xt[2],xt[1],xt[0])}for(let vt=0;vt<q;vt++){const xt=K[vt];ie(xt[0]+z*m,xt[1]+z*m,xt[2]+z*m)}}i.addGroup(ft,a.length/3-ft,0)}function st(){const ft=a.length/3;let vt=0;Me(F,vt),vt+=F.length;for(let xt=0,It=j.length;xt<It;xt++){const Et=j[xt];Me(Et,vt),vt+=Et.length}i.addGroup(ft,a.length/3-ft,1)}function Me(ft,vt){let xt=ft.length;for(;--xt>=0;){const It=xt;let Et=xt-1;Et<0&&(Et=ft.length-1);for(let U=0,B=m+w*2;U<B;U++){const dt=z*U,ut=z*(U+1),W=vt+It+dt,mt=vt+Et+dt,_t=vt+Et+ut,Ut=vt+It+ut;kt(W,mt,_t,Ut)}}}function St(ft,vt,xt){h.push(ft),h.push(vt),h.push(xt)}function ie(ft,vt,xt){ce(ft),ce(vt),ce(xt);const It=a.length/3,Et=b.generateTopUV(i,a,It-3,It-2,It-1);$t(Et[0]),$t(Et[1]),$t(Et[2])}function kt(ft,vt,xt,It){ce(ft),ce(vt),ce(It),ce(vt),ce(xt),ce(It);const Et=a.length/3,U=b.generateSideWallUV(i,a,Et-6,Et-3,Et-2,Et-1);$t(U[0]),$t(U[1]),$t(U[3]),$t(U[1]),$t(U[2]),$t(U[3])}function ce(ft){a.push(h[ft*3+0]),a.push(h[ft*3+1]),a.push(h[ft*3+2])}function $t(ft){o.push(ft.x),o.push(ft.y)}}}toJSON(){const t=Ft.prototype.toJSON.call(this),n=this.parameters.shapes,i=this.parameters.options;return AP(n,i,t)}}const EP={generateTopUV:function(e,t,n,i,a){const o=t[n*3],c=t[n*3+1],u=t[i*3],h=t[i*3+1],d=t[a*3],m=t[a*3+1];return[new ct(o,c),new ct(u,h),new ct(d,m)]},generateSideWallUV:function(e,t,n,i,a,o){const c=t[n*3],u=t[n*3+1],h=t[n*3+2],d=t[i*3],m=t[i*3+1],p=t[i*3+2],y=t[a*3],v=t[a*3+1],_=t[a*3+2],S=t[o*3],w=t[o*3+1],M=t[o*3+2];return Math.abs(u-m)<.01?[new ct(c,1-h),new ct(d,1-p),new ct(y,1-_),new ct(S,1-M)]:[new ct(u,1-h),new ct(m,1-p),new ct(v,1-_),new ct(w,1-M)]}};function AP(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,a=e.length;i<a;i++){const o=e[i];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}class xv extends Ae{constructor(t,n){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:n},this.fromBufferGeometry(new zu(t,n)),this.mergeVertices()}toJSON(){const t=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return RP(n,i,t)}}function RP(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,a=e.length;i<a;i++){const o=e[i];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}class bv extends Ba{constructor(t,n){const i=(1+Math.sqrt(5))/2,a=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,o,t,n),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class PT extends Ae{constructor(t,n){super(),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new bv(t,n)),this.mergeVertices()}}class _v extends Ft{constructor(t,n,i,a){super(),this.type="LatheBufferGeometry",this.parameters={points:t,segments:n,phiStart:i,phiLength:a},n=Math.floor(n)||12,i=i||0,a=a||Math.PI*2,a=ne.clamp(a,0,Math.PI*2);const o=[],c=[],u=[],h=1/n,d=new D,m=new ct;for(let p=0;p<=n;p++){const y=i+p*h*a,v=Math.sin(y),_=Math.cos(y);for(let S=0;S<=t.length-1;S++)d.x=t[S].x*v,d.y=t[S].y,d.z=t[S].x*_,c.push(d.x,d.y,d.z),m.x=p/n,m.y=S/(t.length-1),u.push(m.x,m.y)}for(let p=0;p<n;p++)for(let y=0;y<t.length-1;y++){const v=y+p*t.length,_=v,S=v+t.length,w=v+t.length+1,M=v+1;o.push(_,S,M),o.push(S,w,M)}if(this.setIndex(o),this.setAttribute("position",new wt(c,3)),this.setAttribute("uv",new wt(u,2)),this.computeVertexNormals(),a===Math.PI*2){const p=this.attributes.normal.array,y=new D,v=new D,_=new D,S=n*t.length*3;for(let w=0,M=0;w<t.length;w++,M+=3)y.x=p[M+0],y.y=p[M+1],y.z=p[M+2],v.x=p[S+M+0],v.y=p[S+M+1],v.z=p[S+M+2],_.addVectors(y,v).normalize(),p[M+0]=p[S+M+0]=_.x,p[M+1]=p[S+M+1]=_.y,p[M+2]=p[S+M+2]=_.z}}}class NT extends Ae{constructor(t,n,i,a){super(),this.type="LatheGeometry",this.parameters={points:t,segments:n,phiStart:i,phiLength:a},this.fromBufferGeometry(new _v(t,n,i,a)),this.mergeVertices()}}class Fd extends Ba{constructor(t,n){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,a,t,n),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class BT extends Ae{constructor(t,n){super(),this.type="OctahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new Fd(t,n)),this.mergeVertices()}}function rl(e,t,n){Ft.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};const i=[],a=[],o=[],c=[],u=1e-5,h=new D,d=new D,m=new D,p=new D,y=new D;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const v=t+1;for(let _=0;_<=n;_++){const S=_/n;for(let w=0;w<=t;w++){const M=w/t;e(M,S,d),a.push(d.x,d.y,d.z),M-u>=0?(e(M-u,S,m),p.subVectors(d,m)):(e(M+u,S,m),p.subVectors(m,d)),S-u>=0?(e(M,S-u,m),y.subVectors(d,m)):(e(M,S+u,m),y.subVectors(m,d)),h.crossVectors(p,y).normalize(),o.push(h.x,h.y,h.z),c.push(M,S)}}for(let _=0;_<n;_++)for(let S=0;S<t;S++){const w=_*v+S,M=_*v+S+1,b=(_+1)*v+S+1,T=(_+1)*v+S;i.push(w,M,T),i.push(M,b,T)}this.setIndex(i),this.setAttribute("position",new wt(a,3)),this.setAttribute("normal",new wt(o,3)),this.setAttribute("uv",new wt(c,2))}rl.prototype=Object.create(Ft.prototype);rl.prototype.constructor=rl;function du(e,t,n){Ae.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new rl(e,t,n)),this.mergeVertices()}du.prototype=Object.create(Ae.prototype);du.prototype.constructor=du;class zT extends Ae{constructor(t,n,i,a){super(),this.type="PlaneGeometry",this.parameters={width:t,height:n,widthSegments:i,heightSegments:a},this.fromBufferGeometry(new Vd(t,n,i,a)),this.mergeVertices()}}class UT extends Ae{constructor(t,n,i,a){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:n,radius:i,detail:a},this.fromBufferGeometry(new Ba(t,n,i,a)),this.mergeVertices()}}class Mv extends Ft{constructor(t,n,i,a,o,c){super(),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:n,thetaSegments:i,phiSegments:a,thetaStart:o,thetaLength:c},t=t||.5,n=n||1,o=o!==void 0?o:0,c=c!==void 0?c:Math.PI*2,i=i!==void 0?Math.max(3,i):8,a=a!==void 0?Math.max(1,a):1;const u=[],h=[],d=[],m=[];let p=t;const y=(n-t)/a,v=new D,_=new ct;for(let S=0;S<=a;S++){for(let w=0;w<=i;w++){const M=o+w/i*c;v.x=p*Math.cos(M),v.y=p*Math.sin(M),h.push(v.x,v.y,v.z),d.push(0,0,1),_.x=(v.x/n+1)/2,_.y=(v.y/n+1)/2,m.push(_.x,_.y)}p+=y}for(let S=0;S<a;S++){const w=S*(i+1);for(let M=0;M<i;M++){const b=M+w,T=b,R=b+i+1,C=b+i+2,A=b+1;u.push(T,R,A),u.push(R,C,A)}}this.setIndex(u),this.setAttribute("position",new wt(h,3)),this.setAttribute("normal",new wt(d,3)),this.setAttribute("uv",new wt(m,2))}}class VT extends Ae{constructor(t,n,i,a,o,c){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:n,thetaSegments:i,phiSegments:a,thetaStart:o,thetaLength:c},this.fromBufferGeometry(new Mv(t,n,i,a,o,c)),this.mergeVertices()}}class wv extends Ft{constructor(t,n){super(),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:n},n=n||12;const i=[],a=[],o=[],c=[];let u=0,h=0;if(Array.isArray(t)===!1)d(t);else for(let m=0;m<t.length;m++)d(t[m]),this.addGroup(u,h,m),u+=h,h=0;this.setIndex(i),this.setAttribute("position",new wt(a,3)),this.setAttribute("normal",new wt(o,3)),this.setAttribute("uv",new wt(c,2));function d(m){const p=a.length/3,y=m.extractPoints(n);let v=y.shape;const _=y.holes;Bs.isClockWise(v)===!1&&(v=v.reverse());for(let w=0,M=_.length;w<M;w++){const b=_[w];Bs.isClockWise(b)===!0&&(_[w]=b.reverse())}const S=Bs.triangulateShape(v,_);for(let w=0,M=_.length;w<M;w++){const b=_[w];v=v.concat(b)}for(let w=0,M=v.length;w<M;w++){const b=v[w];a.push(b.x,b.y,0),o.push(0,0,1),c.push(b.x,b.y)}for(let w=0,M=S.length;w<M;w++){const b=S[w],T=b[0]+p,R=b[1]+p,C=b[2]+p;i.push(T,R,C),h+=3}}}toJSON(){const t=Ft.prototype.toJSON.call(this),n=this.parameters.shapes;return CP(n,t)}}function CP(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const a=e[n];t.shapes.push(a.uuid)}else t.shapes.push(e.uuid);return t}class Sv extends Ae{constructor(t,n){super(),this.type="ShapeGeometry",typeof n=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),n=n.curveSegments),this.parameters={shapes:t,curveSegments:n},this.fromBufferGeometry(new wv(t,n)),this.mergeVertices()}toJSON(){const t=Ae.prototype.toJSON.call(this),n=this.parameters.shapes;return LP(n,t)}}function LP(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const a=e[n];t.shapes.push(a.uuid)}else t.shapes.push(e.uuid);return t}class kd extends Ft{constructor(t,n,i,a,o,c,u){super(),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:n,heightSegments:i,phiStart:a,phiLength:o,thetaStart:c,thetaLength:u},t=t||1,n=Math.max(3,Math.floor(n)||8),i=Math.max(2,Math.floor(i)||6),a=a!==void 0?a:0,o=o!==void 0?o:Math.PI*2,c=c!==void 0?c:0,u=u!==void 0?u:Math.PI;const h=Math.min(c+u,Math.PI);let d=0;const m=[],p=new D,y=new D,v=[],_=[],S=[],w=[];for(let M=0;M<=i;M++){const b=[],T=M/i;let R=0;M==0&&c==0?R=.5/n:M==i&&h==Math.PI&&(R=-.5/n);for(let C=0;C<=n;C++){const A=C/n;p.x=-t*Math.cos(a+A*o)*Math.sin(c+T*u),p.y=t*Math.cos(c+T*u),p.z=t*Math.sin(a+A*o)*Math.sin(c+T*u),_.push(p.x,p.y,p.z),y.copy(p).normalize(),S.push(y.x,y.y,y.z),w.push(A+R,1-T),b.push(d++)}m.push(b)}for(let M=0;M<i;M++)for(let b=0;b<n;b++){const T=m[M][b+1],R=m[M][b],C=m[M+1][b],A=m[M+1][b+1];(M!==0||c>0)&&v.push(T,R,A),(M!==i-1||h<Math.PI)&&v.push(R,C,A)}this.setIndex(v),this.setAttribute("position",new wt(_,3)),this.setAttribute("normal",new wt(S,3)),this.setAttribute("uv",new wt(w,2))}}class GT extends Ae{constructor(t,n,i,a,o,c,u){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:n,heightSegments:i,phiStart:a,phiLength:o,thetaStart:c,thetaLength:u},this.fromBufferGeometry(new kd(t,n,i,a,o,c,u)),this.mergeVertices()}}class Tv extends Ba{constructor(t,n){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,a,t,n),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:n}}}class HT extends Ae{constructor(t,n){super(),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:n},this.fromBufferGeometry(new Tv(t,n)),this.mergeVertices()}}class Ev extends zu{constructor(t,n){n=n||{};const i=n.font;if(!(i&&i.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Ft;const a=i.generateShapes(t,n.size);n.depth=n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(a,n),this.type="TextBufferGeometry"}}class IT extends Ae{constructor(t,n){super(),this.type="TextGeometry",this.parameters={text:t,parameters:n},this.fromBufferGeometry(new Ev(t,n)),this.mergeVertices()}}class Av extends Ft{constructor(t,n,i,a,o){super(),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:n,radialSegments:i,tubularSegments:a,arc:o},t=t||1,n=n||.4,i=Math.floor(i)||8,a=Math.floor(a)||6,o=o||Math.PI*2;const c=[],u=[],h=[],d=[],m=new D,p=new D,y=new D;for(let v=0;v<=i;v++)for(let _=0;_<=a;_++){const S=_/a*o,w=v/i*Math.PI*2;p.x=(t+n*Math.cos(w))*Math.cos(S),p.y=(t+n*Math.cos(w))*Math.sin(S),p.z=n*Math.sin(w),u.push(p.x,p.y,p.z),m.x=t*Math.cos(S),m.y=t*Math.sin(S),y.subVectors(p,m).normalize(),h.push(y.x,y.y,y.z),d.push(_/a),d.push(v/i)}for(let v=1;v<=i;v++)for(let _=1;_<=a;_++){const S=(a+1)*v+_-1,w=(a+1)*(v-1)+_-1,M=(a+1)*(v-1)+_,b=(a+1)*v+_;c.push(S,w,b),c.push(w,M,b)}this.setIndex(c),this.setAttribute("position",new wt(u,3)),this.setAttribute("normal",new wt(h,3)),this.setAttribute("uv",new wt(d,2))}}class FT extends Ae{constructor(t,n,i,a,o){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:n,radialSegments:i,tubularSegments:a,arc:o},this.fromBufferGeometry(new Av(t,n,i,a,o)),this.mergeVertices()}}class Rv extends Ft{constructor(t,n,i,a,o,c){super(),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:n,tubularSegments:i,radialSegments:a,p:o,q:c},t=t||1,n=n||.4,i=Math.floor(i)||64,a=Math.floor(a)||8,o=o||2,c=c||3;const u=[],h=[],d=[],m=[],p=new D,y=new D,v=new D,_=new D,S=new D,w=new D,M=new D;for(let T=0;T<=i;++T){const R=T/i*o*Math.PI*2;b(R,o,c,t,v),b(R+.01,o,c,t,_),w.subVectors(_,v),M.addVectors(_,v),S.crossVectors(w,M),M.crossVectors(S,w),S.normalize(),M.normalize();for(let C=0;C<=a;++C){const A=C/a*Math.PI*2,O=-n*Math.cos(A),P=n*Math.sin(A);p.x=v.x+(O*M.x+P*S.x),p.y=v.y+(O*M.y+P*S.y),p.z=v.z+(O*M.z+P*S.z),h.push(p.x,p.y,p.z),y.subVectors(p,v).normalize(),d.push(y.x,y.y,y.z),m.push(T/i),m.push(C/a)}}for(let T=1;T<=i;T++)for(let R=1;R<=a;R++){const C=(a+1)*(T-1)+(R-1),A=(a+1)*T+(R-1),O=(a+1)*T+R,P=(a+1)*(T-1)+R;u.push(C,A,P),u.push(A,O,P)}this.setIndex(u),this.setAttribute("position",new wt(h,3)),this.setAttribute("normal",new wt(d,3)),this.setAttribute("uv",new wt(m,2));function b(T,R,C,A,O){const P=Math.cos(T),G=Math.sin(T),J=C/R*T,j=Math.cos(J);O.x=A*(2+j)*.5*P,O.y=A*(2+j)*G*.5,O.z=A*Math.sin(J)*.5}}}class kT extends Ae{constructor(t,n,i,a,o,c,u){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:n,tubularSegments:i,radialSegments:a,p:o,q:c},u!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Rv(t,n,i,a,o,c)),this.mergeVertices()}}class Cv extends Ft{constructor(t,n,i,a,o){super(),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:n,radius:i,radialSegments:a,closed:o},n=n||64,i=i||1,a=a||8,o=o||!1;const c=t.computeFrenetFrames(n,o);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;const u=new D,h=new D,d=new ct;let m=new D;const p=[],y=[],v=[],_=[];S(),this.setIndex(_),this.setAttribute("position",new wt(p,3)),this.setAttribute("normal",new wt(y,3)),this.setAttribute("uv",new wt(v,2));function S(){for(let T=0;T<n;T++)w(T);w(o===!1?n:0),b(),M()}function w(T){m=t.getPointAt(T/n,m);const R=c.normals[T],C=c.binormals[T];for(let A=0;A<=a;A++){const O=A/a*Math.PI*2,P=Math.sin(O),G=-Math.cos(O);h.x=G*R.x+P*C.x,h.y=G*R.y+P*C.y,h.z=G*R.z+P*C.z,h.normalize(),y.push(h.x,h.y,h.z),u.x=m.x+i*h.x,u.y=m.y+i*h.y,u.z=m.z+i*h.z,p.push(u.x,u.y,u.z)}}function M(){for(let T=1;T<=n;T++)for(let R=1;R<=a;R++){const C=(a+1)*(T-1)+(R-1),A=(a+1)*T+(R-1),O=(a+1)*T+R,P=(a+1)*(T-1)+R;_.push(C,A,P),_.push(A,O,P)}}function b(){for(let T=0;T<=n;T++)for(let R=0;R<=a;R++)d.x=T/n,d.y=R/a,v.push(d.x,d.y)}}toJSON(){const t=Ft.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t}}class WT extends Ae{constructor(t,n,i,a,o,c){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:n,radius:i,radialSegments:a,closed:o},c!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");const u=new Cv(t,n,i,a,o);this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals,this.fromBufferGeometry(u),this.mergeVertices()}}class Lv extends Ft{constructor(t){super(),this.type="WireframeGeometry";const n=[],i=[0,0],a={},o=["a","b","c"];if(t&&t.isGeometry){const c=t.faces;for(let u=0,h=c.length;u<h;u++){const d=c[u];for(let m=0;m<3;m++){const p=d[o[m]],y=d[o[(m+1)%3]];i[0]=Math.min(p,y),i[1]=Math.max(p,y);const v=i[0]+","+i[1];a[v]===void 0&&(a[v]={index1:i[0],index2:i[1]})}}for(const u in a){const h=a[u];let d=t.vertices[h.index1];n.push(d.x,d.y,d.z),d=t.vertices[h.index2],n.push(d.x,d.y,d.z)}}else if(t&&t.isBufferGeometry){const c=new D;if(t.index!==null){const u=t.attributes.position,h=t.index;let d=t.groups;d.length===0&&(d=[{start:0,count:h.count,materialIndex:0}]);for(let m=0,p=d.length;m<p;++m){const y=d[m],v=y.start,_=y.count;for(let S=v,w=v+_;S<w;S+=3)for(let M=0;M<3;M++){const b=h.getX(S+M),T=h.getX(S+(M+1)%3);i[0]=Math.min(b,T),i[1]=Math.max(b,T);const R=i[0]+","+i[1];a[R]===void 0&&(a[R]={index1:i[0],index2:i[1]})}}for(const m in a){const p=a[m];c.fromBufferAttribute(u,p.index1),n.push(c.x,c.y,c.z),c.fromBufferAttribute(u,p.index2),n.push(c.x,c.y,c.z)}}else{const u=t.attributes.position;for(let h=0,d=u.count/3;h<d;h++)for(let m=0;m<3;m++){const p=3*h+m;c.fromBufferAttribute(u,p),n.push(c.x,c.y,c.z);const y=3*h+(m+1)%3;c.fromBufferAttribute(u,y),n.push(c.x,c.y,c.z)}}}this.setAttribute("position",new wt(n,3))}}var On=Object.freeze({__proto__:null,BoxGeometry:xy,BoxBufferGeometry:Ou,CircleGeometry:ET,CircleBufferGeometry:mv,ConeGeometry:AT,ConeBufferGeometry:RT,CylinderGeometry:gv,CylinderBufferGeometry:Bu,DodecahedronGeometry:CT,DodecahedronBufferGeometry:yv,EdgesGeometry:vv,ExtrudeGeometry:xv,ExtrudeBufferGeometry:zu,IcosahedronGeometry:PT,IcosahedronBufferGeometry:bv,LatheGeometry:NT,LatheBufferGeometry:_v,OctahedronGeometry:BT,OctahedronBufferGeometry:Fd,ParametricGeometry:du,ParametricBufferGeometry:rl,PlaneGeometry:zT,PlaneBufferGeometry:Vd,PolyhedronGeometry:UT,PolyhedronBufferGeometry:Ba,RingGeometry:VT,RingBufferGeometry:Mv,ShapeGeometry:Sv,ShapeBufferGeometry:wv,SphereGeometry:GT,SphereBufferGeometry:kd,TetrahedronGeometry:HT,TetrahedronBufferGeometry:Tv,TextGeometry:IT,TextBufferGeometry:Ev,TorusGeometry:FT,TorusBufferGeometry:Av,TorusKnotGeometry:kT,TorusKnotBufferGeometry:Rv,TubeGeometry:WT,TubeBufferGeometry:Cv,WireframeGeometry:Lv});function Aa(e){Qt.call(this),this.type="ShadowMaterial",this.color=new Ct(0),this.transparent=!0,this.setValues(e)}Aa.prototype=Object.create(Qt.prototype);Aa.prototype.constructor=Aa;Aa.prototype.isShadowMaterial=!0;Aa.prototype.copy=function(e){return Qt.prototype.copy.call(this,e),this.color.copy(e.color),this};function zs(e){Un.call(this,e),this.type="RawShaderMaterial"}zs.prototype=Object.create(Un.prototype);zs.prototype.constructor=zs;zs.prototype.isRawShaderMaterial=!0;function rs(e){Qt.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ct(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Na,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}rs.prototype=Object.create(Qt.prototype);rs.prototype.constructor=rs;rs.prototype.isMeshStandardMaterial=!0;rs.prototype.copy=function(e){return Qt.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this};function Nr(e){rs.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ct(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=ne.clamp(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}Nr.prototype=Object.create(rs.prototype);Nr.prototype.constructor=Nr;Nr.prototype.isMeshPhysicalMaterial=!0;Nr.prototype.copy=function(e){return rs.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Ct).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this};function Br(e){Qt.call(this),this.type="MeshPhongMaterial",this.color=new Ct(16777215),this.specular=new Ct(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Na,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Eu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Br.prototype=Object.create(Qt.prototype);Br.prototype.constructor=Br;Br.prototype.isMeshPhongMaterial=!0;Br.prototype.copy=function(e){return Qt.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Ra(e){Qt.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ct(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Na,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Ra.prototype=Object.create(Qt.prototype);Ra.prototype.constructor=Ra;Ra.prototype.isMeshToonMaterial=!0;Ra.prototype.copy=function(e){return Qt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Ca(e){Qt.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Na,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Ca.prototype=Object.create(Qt.prototype);Ca.prototype.constructor=Ca;Ca.prototype.isMeshNormalMaterial=!0;Ca.prototype.copy=function(e){return Qt.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function La(e){Qt.call(this),this.type="MeshLambertMaterial",this.color=new Ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Eu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}La.prototype=Object.create(Qt.prototype);La.prototype.constructor=La;La.prototype.isMeshLambertMaterial=!0;La.prototype.copy=function(e){return Qt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Da(e){Qt.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ct(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Na,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Da.prototype=Object.create(Qt.prototype);Da.prototype.constructor=Da;Da.prototype.isMeshMatcapMaterial=!0;Da.prototype.copy=function(e){return Qt.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Oa(e){Ge.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Oa.prototype=Object.create(Ge.prototype);Oa.prototype.constructor=Oa;Oa.prototype.isLineDashedMaterial=!0;Oa.prototype.copy=function(e){return Ge.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var DP=Object.freeze({__proto__:null,ShadowMaterial:Aa,SpriteMaterial:Or,RawShaderMaterial:zs,ShaderMaterial:Un,PointsMaterial:Vi,MeshPhysicalMaterial:Nr,MeshStandardMaterial:rs,MeshPhongMaterial:Br,MeshToonMaterial:Ra,MeshNormalMaterial:Ca,MeshLambertMaterial:La,MeshDepthMaterial:Cr,MeshDistanceMaterial:Lr,MeshBasicMaterial:wi,MeshMatcapMaterial:Da,LineDashedMaterial:Oa,LineBasicMaterial:Ge,Material:Qt});const Be={arraySlice:function(e,t,n){return Be.isTypedArray(e)?new e.constructor(e.subarray(t,n!==void 0?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(a,o){return e[a]-e[o]}const n=e.length,i=new Array(n);for(let a=0;a!==n;++a)i[a]=a;return i.sort(t),i},sortedArray:function(e,t,n){const i=e.length,a=new e.constructor(i);for(let o=0,c=0;c!==i;++o){const u=n[o]*t;for(let h=0;h!==t;++h)a[c++]=e[u+h]}return a},flattenJSON:function(e,t,n,i){let a=1,o=e[0];for(;o!==void 0&&o[i]===void 0;)o=e[a++];if(o===void 0)return;let c=o[i];if(c!==void 0)if(Array.isArray(c))do c=o[i],c!==void 0&&(t.push(o.time),n.push.apply(n,c)),o=e[a++];while(o!==void 0);else if(c.toArray!==void 0)do c=o[i],c!==void 0&&(t.push(o.time),c.toArray(n,n.length)),o=e[a++];while(o!==void 0);else do c=o[i],c!==void 0&&(t.push(o.time),n.push(c)),o=e[a++];while(o!==void 0)},subclip:function(e,t,n,i,a){a=a||30;const o=e.clone();o.name=t;const c=[];for(let h=0;h<o.tracks.length;++h){const d=o.tracks[h],m=d.getValueSize(),p=[],y=[];for(let v=0;v<d.times.length;++v){const _=d.times[v]*a;if(!(_<n||_>=i)){p.push(d.times[v]);for(let S=0;S<m;++S)y.push(d.values[v*m+S])}}p.length!==0&&(d.times=Be.convertArray(p,d.times.constructor),d.values=Be.convertArray(y,d.values.constructor),c.push(d))}o.tracks=c;let u=1/0;for(let h=0;h<o.tracks.length;++h)u>o.tracks[h].times[0]&&(u=o.tracks[h].times[0]);for(let h=0;h<o.tracks.length;++h)o.tracks[h].shift(-1*u);return o.resetDuration(),o},makeClipAdditive:function(e,t,n,i){t===void 0&&(t=0),n===void 0&&(n=e),(i===void 0||i<=0)&&(i=30);const a=n.tracks.length,o=t/i;for(let c=0;c<a;++c){const u=n.tracks[c],h=u.ValueTypeName;if(h==="bool"||h==="string")continue;const d=e.tracks.find(function(M){return M.name===u.name&&M.ValueTypeName===h});if(d===void 0)continue;let m=0;const p=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=p/3);let y=0;const v=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=v/3);const _=u.times.length-1;let S;if(o<=u.times[0]){const M=m,b=p-m;S=Be.arraySlice(u.values,M,b)}else if(o>=u.times[_]){const M=_*p+m,b=M+p-m;S=Be.arraySlice(u.values,M,b)}else{const M=u.createInterpolant(),b=m,T=p-m;M.evaluate(o),S=Be.arraySlice(M.resultBuffer,b,T)}h==="quaternion"&&new Rn().fromArray(S).normalize().conjugate().toArray(S);const w=d.times.length;for(let M=0;M<w;++M){const b=M*v+y;if(h==="quaternion")Rn.multiplyQuaternionsFlat(d.values,b,S,0,d.values,b);else{const T=v-y*2;for(let R=0;R<T;++R)d.values[b+R]-=S[R]}}}return e.blendMode=cv,e}};function ri(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}Object.assign(ri.prototype,{evaluate:function(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],a=t[n-1];t:{e:{let o;n:{i:if(!(e<i)){for(let c=n+2;;){if(i===void 0){if(e<a)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,a)}if(n===c)break;if(a=i,i=t[++n],e<i)break e}o=t.length;break n}if(!(e>=a)){const c=t[1];e<c&&(n=2,a=c);for(let u=n-2;;){if(a===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===u)break;if(i=a,a=t[--n-1],e>=a)break e}o=n,n=0;break n}break t}for(;n<o;){const c=n+o>>>1;e<t[c]?o=c:n=c+1}if(i=t[n],a=t[n-1],a===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,a,e)}this._cachedIndex=n,this.intervalChanged_(n,a,i)}return this.interpolate_(n,a,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)t[o]=n[a+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(ri.prototype,{beforeStart_:ri.prototype.copySampleValue_,afterEnd_:ri.prototype.copySampleValue_});function ud(e,t,n,i){ri.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}ud.prototype=Object.assign(Object.create(ri.prototype),{constructor:ud,DefaultSettings_:{endingStart:ma,endingEnd:ma},intervalChanged_:function(e,t,n){const i=this.parameterPositions;let a=e-2,o=e+1,c=i[a],u=i[o];if(c===void 0)switch(this.getSettings_().endingStart){case ga:a=e,c=2*t-n;break;case Kc:a=i.length-2,c=t+i[a]-i[a+1];break;default:a=e,c=n}if(u===void 0)switch(this.getSettings_().endingEnd){case ga:o=e,u=2*n-t;break;case Kc:o=1,u=n+i[1]-i[0];break;default:o=e-1,u=t}const h=(n-t)*.5,d=this.valueSize;this._weightPrev=h/(t-c),this._weightNext=h/(u-n),this._offsetPrev=a*d,this._offsetNext=o*d},interpolate_:function(e,t,n,i){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,u=e*c,h=u-c,d=this._offsetPrev,m=this._offsetNext,p=this._weightPrev,y=this._weightNext,v=(n-t)/(i-t),_=v*v,S=_*v,w=-p*S+2*p*_-p*v,M=(1+p)*S+(-1.5-2*p)*_+(-.5+p)*v+1,b=(-1-y)*S+(1.5+y)*_+.5*v,T=y*S-y*_;for(let R=0;R!==c;++R)a[R]=w*o[d+R]+M*o[h+R]+b*o[u+R]+T*o[m+R];return a}});function pu(e,t,n,i){ri.call(this,e,t,n,i)}pu.prototype=Object.assign(Object.create(ri.prototype),{constructor:pu,interpolate_:function(e,t,n,i){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,u=e*c,h=u-c,d=(n-t)/(i-t),m=1-d;for(let p=0;p!==c;++p)a[p]=o[h+p]*m+o[u+p]*d;return a}});function fd(e,t,n,i){ri.call(this,e,t,n,i)}fd.prototype=Object.assign(Object.create(ri.prototype),{constructor:fd,interpolate_:function(e){return this.copySampleValue_(e-1)}});function _n(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Be.convertArray(t,this.TimeBufferType),this.values=Be.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}Object.assign(_n,{toJSON:function(e){const t=e.constructor;let n;if(t.toJSON!==void 0)n=t.toJSON(e);else{n={name:e.name,times:Be.convertArray(e.times,Array),values:Be.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}});Object.assign(_n.prototype,{constructor:_n,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Uc,InterpolantFactoryMethodDiscrete:function(e){return new fd(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new pu(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new ud(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case Jc:t=this.InterpolantFactoryMethodDiscrete;break;case Uc:t=this.InterpolantFactoryMethodLinear;break;case Xh:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Jc;case this.InterpolantFactoryMethodLinear:return Uc;case this.InterpolantFactoryMethodSmooth:return Xh}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this},scale:function(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this},trim:function(e,t){const n=this.times,i=n.length;let a=0,o=i-1;for(;a!==i&&n[a]<e;)++a;for(;o!==-1&&n[o]>t;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);const c=this.getValueSize();this.times=Be.arraySlice(n,a,o),this.values=Be.arraySlice(this.values,a*c,o*c)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,a=n.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let c=0;c!==a;c++){const u=n[c];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,u),e=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,u,o),e=!1;break}o=u}if(i!==void 0&&Be.isTypedArray(i))for(let c=0,u=i.length;c!==u;++c){const h=i[c];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,h),e=!1;break}}return e},optimize:function(){const e=Be.arraySlice(this.times),t=Be.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===Xh,a=e.length-1;let o=1;for(let c=1;c<a;++c){let u=!1;const h=e[c],d=e[c+1];if(h!==d&&(c!==1||h!==h[0]))if(i)u=!0;else{const m=c*n,p=m-n,y=m+n;for(let v=0;v!==n;++v){const _=t[m+v];if(_!==t[p+v]||_!==t[y+v]){u=!0;break}}}if(u){if(c!==o){e[o]=e[c];const m=c*n,p=o*n;for(let y=0;y!==n;++y)t[p+y]=t[m+y]}++o}}if(a>0){e[o]=e[a];for(let c=a*n,u=o*n,h=0;h!==n;++h)t[u+h]=t[c+h];++o}return o!==e.length?(this.times=Be.arraySlice(e,0,o),this.values=Be.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this},clone:function(){const e=Be.arraySlice(this.times,0),t=Be.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}});function hd(e,t,n){_n.call(this,e,t,n)}hd.prototype=Object.assign(Object.create(_n.prototype),{constructor:hd,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Jc,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function dd(e,t,n,i){_n.call(this,e,t,n,i)}dd.prototype=Object.assign(Object.create(_n.prototype),{constructor:dd,ValueTypeName:"color"});function al(e,t,n,i){_n.call(this,e,t,n,i)}al.prototype=Object.assign(Object.create(_n.prototype),{constructor:al,ValueTypeName:"number"});function pd(e,t,n,i){ri.call(this,e,t,n,i)}pd.prototype=Object.assign(Object.create(ri.prototype),{constructor:pd,interpolate_:function(e,t,n,i){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,u=(n-t)/(i-t);let h=e*c;for(let d=h+c;h!==d;h+=4)Rn.slerpFlat(a,0,o,h-c,o,h,u);return a}});function mu(e,t,n,i){_n.call(this,e,t,n,i)}mu.prototype=Object.assign(Object.create(_n.prototype),{constructor:mu,ValueTypeName:"quaternion",DefaultInterpolation:Uc,InterpolantFactoryMethodLinear:function(e){return new pd(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0});function md(e,t,n,i){_n.call(this,e,t,n,i)}md.prototype=Object.assign(Object.create(_n.prototype),{constructor:md,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Jc,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function ol(e,t,n,i){_n.call(this,e,t,n,i)}ol.prototype=Object.assign(Object.create(_n.prototype),{constructor:ol,ValueTypeName:"vector"});function bi(e,t,n,i){this.name=e,this.tracks=n,this.duration=t!==void 0?t:-1,this.blendMode=i!==void 0?i:Bd,this.uuid=ne.generateUUID(),this.duration<0&&this.resetDuration()}function OP(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return al;case"vector":case"vector2":case"vector3":case"vector4":return ol;case"color":return dd;case"quaternion":return mu;case"bool":case"boolean":return hd;case"string":return md}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function PP(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=OP(e.type);if(e.times===void 0){const n=[],i=[];Be.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(bi,{parse:function(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let a=0,o=n.length;a!==o;++a)t.push(PP(n[a]).scale(i));return new bi(e.name,e.duration,t,e.blendMode)},toJSON:function(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=n.length;a!==o;++a)t.push(_n.toJSON(n[a]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){const a=t.length,o=[];for(let c=0;c<a;c++){let u=[],h=[];u.push((c+a-1)%a,c,(c+1)%a),h.push(0,1,0);const d=Be.getKeyframeOrder(u);u=Be.sortedArray(u,1,d),h=Be.sortedArray(h,1,d),!i&&u[0]===0&&(u.push(a),h.push(h[0])),o.push(new al(".morphTargetInfluences["+t[c].name+"]",u,h).scale(1/n))}return new bi(e,-1,o)},findByName:function(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){const i={},a=/^([\w-]*?)([\d]+)$/;for(let c=0,u=e.length;c<u;c++){const h=e[c],d=h.name.match(a);if(d&&d.length>1){const m=d[1];let p=i[m];p||(i[m]=p=[]),p.push(h)}}const o=[];for(const c in i)o.push(bi.CreateFromMorphTargetSequence(c,i[c],t,n));return o},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(m,p,y,v,_){if(y.length!==0){const S=[],w=[];Be.flattenJSON(y,S,w,v),S.length!==0&&_.push(new m(p,S,w))}},i=[],a=e.name||"default",o=e.fps||30,c=e.blendMode;let u=e.length||-1;const h=e.hierarchy||[];for(let m=0;m<h.length;m++){const p=h[m].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const y={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let _=0;_<p[v].morphTargets.length;_++)y[p[v].morphTargets[_]]=-1;for(const _ in y){const S=[],w=[];for(let M=0;M!==p[v].morphTargets.length;++M){const b=p[v];S.push(b.time),w.push(b.morphTarget===_?1:0)}i.push(new al(".morphTargetInfluence["+_+"]",S,w))}u=y.length*o}else{const y=".bones["+t[m].name+"]";n(ol,y+".position",p,"pos",i),n(mu,y+".quaternion",p,"rot",i),n(ol,y+".scale",p,"scl",i)}}return i.length===0?null:new bi(a,u,i,c)}});Object.assign(bi.prototype,{resetDuration:function(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new bi(this.name,this.duration,e,this.blendMode)}});const Pa={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Dv(e,t,n){const i=this;let a=!1,o=0,c=0,u;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(d){c++,a===!1&&i.onStart!==void 0&&i.onStart(d,o,c),a=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,c),o===c&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return u?u(d):d},this.setURLModifier=function(d){return u=d,this},this.addHandler=function(d,m){return h.push(d,m),this},this.removeHandler=function(d){const m=h.indexOf(d);return m!==-1&&h.splice(m,2),this},this.getHandler=function(d){for(let m=0,p=h.length;m<p;m+=2){const y=h[m],v=h[m+1];if(y.global&&(y.lastIndex=0),y.test(d))return v}return null}}const jT=new Dv;function _e(e){this.manager=e!==void 0?e:jT,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(_e.prototype,{load:function(){},loadAsync:function(e,t){const n=this;return new Promise(function(i,a){n.load(e,i,t,a)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const Ni={};function Ei(e){_e.call(this,e)}Ei.prototype=Object.assign(Object.create(_e.prototype),{constructor:Ei,load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Pa.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;if(Ni[e]!==void 0){Ni[e].push({onLoad:t,onProgress:n,onError:i});return}const c=/^data:(.*?)(;base64)?,(.*)$/,u=e.match(c);let h;if(u){const d=u[1],m=!!u[2];let p=u[3];p=decodeURIComponent(p),m&&(p=atob(p));try{let y;const v=(this.responseType||"").toLowerCase();switch(v){case"arraybuffer":case"blob":const _=new Uint8Array(p.length);for(let w=0;w<p.length;w++)_[w]=p.charCodeAt(w);v==="blob"?y=new Blob([_.buffer],{type:d}):y=_.buffer;break;case"document":y=new DOMParser().parseFromString(p,d);break;case"json":y=JSON.parse(p);break;default:y=p;break}setTimeout(function(){t&&t(y),a.manager.itemEnd(e)},0)}catch(y){setTimeout(function(){i&&i(y),a.manager.itemError(e),a.manager.itemEnd(e)},0)}}else{Ni[e]=[],Ni[e].push({onLoad:t,onProgress:n,onError:i}),h=new XMLHttpRequest,h.open("GET",e,!0),h.addEventListener("load",function(d){const m=this.response,p=Ni[e];if(delete Ni[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Pa.add(e,m);for(let y=0,v=p.length;y<v;y++){const _=p[y];_.onLoad&&_.onLoad(m)}a.manager.itemEnd(e)}else{for(let y=0,v=p.length;y<v;y++){const _=p[y];_.onError&&_.onError(d)}a.manager.itemError(e),a.manager.itemEnd(e)}},!1),h.addEventListener("progress",function(d){const m=Ni[e];for(let p=0,y=m.length;p<y;p++){const v=m[p];v.onProgress&&v.onProgress(d)}},!1),h.addEventListener("error",function(d){const m=Ni[e];delete Ni[e];for(let p=0,y=m.length;p<y;p++){const v=m[p];v.onError&&v.onError(d)}a.manager.itemError(e),a.manager.itemEnd(e)},!1),h.addEventListener("abort",function(d){const m=Ni[e];delete Ni[e];for(let p=0,y=m.length;p<y;p++){const v=m[p];v.onError&&v.onError(d)}a.manager.itemError(e),a.manager.itemEnd(e)},!1),this.responseType!==void 0&&(h.responseType=this.responseType),this.withCredentials!==void 0&&(h.withCredentials=this.withCredentials),h.overrideMimeType&&h.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const d in this.requestHeader)h.setRequestHeader(d,this.requestHeader[d]);h.send(null)}return a.manager.itemStart(e),h},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}});function My(e){_e.call(this,e)}My.prototype=Object.assign(Object.create(_e.prototype),{constructor:My,load:function(e,t,n,i){const a=this,o=new Ei(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(u){i?i(u):console.error(u),a.manager.itemError(e)}},n,i)},parse:function(e){const t=[];for(let n=0;n<e.length;n++){const i=bi.parse(e[n]);t.push(i)}return t}});function wy(e){_e.call(this,e)}wy.prototype=Object.assign(Object.create(_e.prototype),{constructor:wy,load:function(e,t,n,i){const a=this,o=[],c=new sl;c.image=o;const u=new Ei(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(a.withCredentials);let h=0;function d(m){u.load(e[m],function(p){const y=a.parse(p,!0);o[m]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},h+=1,h===6&&(y.mipmapCount===1&&(c.minFilter=dn),c.format=y.format,c.needsUpdate=!0,t&&t(c))},n,i)}if(Array.isArray(e))for(let m=0,p=e.length;m<p;++m)d(m);else u.load(e,function(m){const p=a.parse(m,!0);if(p.isCubemap){const y=p.mipmaps.length/p.mipmapCount;for(let v=0;v<y;v++){o[v]={mipmaps:[]};for(let _=0;_<p.mipmapCount;_++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+_]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}}else c.image.width=p.width,c.image.height=p.height,c.mipmaps=p.mipmaps;p.mipmapCount===1&&(c.minFilter=dn),c.format=p.format,c.needsUpdate=!0,t&&t(c)},n,i);return c}});function ll(e){_e.call(this,e)}ll.prototype=Object.assign(Object.create(_e.prototype),{constructor:ll,load:function(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Pa.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;const c=document.createElementNS("http://www.w3.org/1999/xhtml","img");function u(){c.removeEventListener("load",u,!1),c.removeEventListener("error",h,!1),Pa.add(e,this),t&&t(this),a.manager.itemEnd(e)}function h(d){c.removeEventListener("load",u,!1),c.removeEventListener("error",h,!1),i&&i(d),a.manager.itemError(e),a.manager.itemEnd(e)}return c.addEventListener("load",u,!1),c.addEventListener("error",h,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),a.manager.itemStart(e),c.src=e,c}});function gd(e){_e.call(this,e)}gd.prototype=Object.assign(Object.create(_e.prototype),{constructor:gd,load:function(e,t,n,i){const a=new ss,o=new ll(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let c=0;function u(h){o.load(e[h],function(d){a.images[h]=d,c++,c===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let h=0;h<e.length;++h)u(h);return a}});function yd(e){_e.call(this,e)}yd.prototype=Object.assign(Object.create(_e.prototype),{constructor:yd,load:function(e,t,n,i){const a=this,o=new Ea,c=new Ei(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(a.withCredentials),c.load(e,function(u){const h=a.parse(u);h&&(h.image!==void 0?o.image=h.image:h.data!==void 0&&(o.image.width=h.width,o.image.height=h.height,o.image.data=h.data),o.wrapS=h.wrapS!==void 0?h.wrapS:Pn,o.wrapT=h.wrapT!==void 0?h.wrapT:Pn,o.magFilter=h.magFilter!==void 0?h.magFilter:dn,o.minFilter=h.minFilter!==void 0?h.minFilter:dn,o.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.format!==void 0&&(o.format=h.format),h.type!==void 0&&(o.type=h.type),h.mipmaps!==void 0&&(o.mipmaps=h.mipmaps,o.minFilter=ml),h.mipmapCount===1&&(o.minFilter=dn),o.needsUpdate=!0,t&&t(o,h))},n,i),o}});function vd(e){_e.call(this,e)}vd.prototype=Object.assign(Object.create(_e.prototype),{constructor:vd,load:function(e,t,n,i){const a=new Re,o=new ll(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(c){a.image=c;const u=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;a.format=u?wr:ii,a.needsUpdate=!0,t!==void 0&&t(a)},n,i),a}});function Ht(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Ht.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){e===void 0&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){e===void 0&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),a+=n.distanceTo(i),t.push(a),i=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const n=this.getLengths();let i=0;const a=n.length;let o;t?o=t:o=e*n[a-1];let c=0,u=a-1,h;for(;c<=u;)if(i=Math.floor(c+(u-c)/2),h=n[i]-o,h<0)c=i+1;else if(h>0)u=i-1;else{u=i;break}if(i=u,n[i]===o)return i/(a-1);const d=n[i],p=n[i+1]-d,y=(o-d)/p;return(i+y)/(a-1)},getTangent:function(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const o=this.getPoint(i),c=this.getPoint(a),u=t||(o.isVector2?new ct:new D);return u.copy(c).sub(o).normalize(),u},getTangentAt:function(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){const n=new D,i=[],a=[],o=[],c=new D,u=new re;for(let y=0;y<=e;y++){const v=y/e;i[y]=this.getTangentAt(v,new D),i[y].normalize()}a[0]=new D,o[0]=new D;let h=Number.MAX_VALUE;const d=Math.abs(i[0].x),m=Math.abs(i[0].y),p=Math.abs(i[0].z);d<=h&&(h=d,n.set(1,0,0)),m<=h&&(h=m,n.set(0,1,0)),p<=h&&n.set(0,0,1),c.crossVectors(i[0],n).normalize(),a[0].crossVectors(i[0],c),o[0].crossVectors(i[0],a[0]);for(let y=1;y<=e;y++){if(a[y]=a[y-1].clone(),o[y]=o[y-1].clone(),c.crossVectors(i[y-1],i[y]),c.length()>Number.EPSILON){c.normalize();const v=Math.acos(ne.clamp(i[y-1].dot(i[y]),-1,1));a[y].applyMatrix4(u.makeRotationAxis(c,v))}o[y].crossVectors(i[y],a[y])}if(t===!0){let y=Math.acos(ne.clamp(a[0].dot(a[e]),-1,1));y/=e,i[0].dot(c.crossVectors(a[0],a[e]))>0&&(y=-y);for(let v=1;v<=e;v++)a[v].applyMatrix4(u.makeRotationAxis(i[v],y*v)),o[v].crossVectors(i[v],a[v])}return{tangents:i,normals:a,binormals:o}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});function oi(e,t,n,i,a,o,c,u){Ht.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=a||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=c||!1,this.aRotation=u||0}oi.prototype=Object.create(Ht.prototype);oi.prototype.constructor=oi;oi.prototype.isEllipseCurve=!0;oi.prototype.getPoint=function(e,t){const n=t||new ct,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(o?a=0:a=i),this.aClockwise===!0&&!o&&(a===i?a=-i:a=a-i);const c=this.aStartAngle+e*a;let u=this.aX+this.xRadius*Math.cos(c),h=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const d=Math.cos(this.aRotation),m=Math.sin(this.aRotation),p=u-this.aX,y=h-this.aY;u=p*d-y*m+this.aX,h=p*m+y*d+this.aY}return n.set(u,h)};oi.prototype.copy=function(e){return Ht.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};oi.prototype.toJSON=function(){const e=Ht.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e};oi.prototype.fromJSON=function(e){return Ht.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};function cl(e,t,n,i,a,o){oi.call(this,e,t,n,n,i,a,o),this.type="ArcCurve"}cl.prototype=Object.create(oi.prototype);cl.prototype.constructor=cl;cl.prototype.isArcCurve=!0;function Ov(){let e=0,t=0,n=0,i=0;function a(o,c,u,h){e=o,t=u,n=-3*o+3*c-2*u-h,i=2*o-2*c+u+h}return{initCatmullRom:function(o,c,u,h,d){a(c,u,d*(u-o),d*(h-c))},initNonuniformCatmullRom:function(o,c,u,h,d,m,p){let y=(c-o)/d-(u-o)/(d+m)+(u-c)/m,v=(u-c)/m-(h-c)/(m+p)+(h-u)/p;y*=m,v*=m,a(c,u,y,v)},calc:function(o){const c=o*o,u=c*o;return e+t*o+n*c+i*u}}}const Dh=new D,Cg=new Ov,Lg=new Ov,Dg=new Ov;function Ln(e,t,n,i){Ht.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i!==void 0?i:.5}Ln.prototype=Object.create(Ht.prototype);Ln.prototype.constructor=Ln;Ln.prototype.isCatmullRomCurve3=!0;Ln.prototype.getPoint=function(e,t){const n=t||new D,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e;let c=Math.floor(o),u=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/a)+1)*a:u===0&&c===a-1&&(c=a-2,u=1);let h,d;this.closed||c>0?h=i[(c-1)%a]:(Dh.subVectors(i[0],i[1]).add(i[0]),h=Dh);const m=i[c%a],p=i[(c+1)%a];if(this.closed||c+2<a?d=i[(c+2)%a]:(Dh.subVectors(i[a-1],i[a-2]).add(i[a-1]),d=Dh),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let v=Math.pow(h.distanceToSquared(m),y),_=Math.pow(m.distanceToSquared(p),y),S=Math.pow(p.distanceToSquared(d),y);_<1e-4&&(_=1),v<1e-4&&(v=_),S<1e-4&&(S=_),Cg.initNonuniformCatmullRom(h.x,m.x,p.x,d.x,v,_,S),Lg.initNonuniformCatmullRom(h.y,m.y,p.y,d.y,v,_,S),Dg.initNonuniformCatmullRom(h.z,m.z,p.z,d.z,v,_,S)}else this.curveType==="catmullrom"&&(Cg.initCatmullRom(h.x,m.x,p.x,d.x,this.tension),Lg.initCatmullRom(h.y,m.y,p.y,d.y,this.tension),Dg.initCatmullRom(h.z,m.z,p.z,d.z,this.tension));return n.set(Cg.calc(u),Lg.calc(u),Dg.calc(u)),n};Ln.prototype.copy=function(e){Ht.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};Ln.prototype.toJSON=function(){const e=Ht.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e};Ln.prototype.fromJSON=function(e){Ht.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new D().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};function YM(e,t,n,i,a){const o=(i-t)*.5,c=(a-n)*.5,u=e*e,h=e*u;return(2*n-2*i+o+c)*h+(-3*n+3*i-2*o-c)*u+o*e+n}function NP(e,t){const n=1-e;return n*n*t}function BP(e,t){return 2*(1-e)*e*t}function zP(e,t){return e*e*t}function Hc(e,t,n,i){return NP(e,t)+BP(e,n)+zP(e,i)}function UP(e,t){const n=1-e;return n*n*n*t}function VP(e,t){const n=1-e;return 3*n*n*e*t}function GP(e,t){return 3*(1-e)*e*e*t}function HP(e,t){return e*e*e*t}function Ic(e,t,n,i,a){return UP(e,t)+VP(e,n)+GP(e,i)+HP(e,a)}function Gi(e,t,n,i){Ht.call(this),this.type="CubicBezierCurve",this.v0=e||new ct,this.v1=t||new ct,this.v2=n||new ct,this.v3=i||new ct}Gi.prototype=Object.create(Ht.prototype);Gi.prototype.constructor=Gi;Gi.prototype.isCubicBezierCurve=!0;Gi.prototype.getPoint=function(e,t){const n=t||new ct,i=this.v0,a=this.v1,o=this.v2,c=this.v3;return n.set(Ic(e,i.x,a.x,o.x,c.x),Ic(e,i.y,a.y,o.y,c.y)),n};Gi.prototype.copy=function(e){return Ht.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};Gi.prototype.toJSON=function(){const e=Ht.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};Gi.prototype.fromJSON=function(e){return Ht.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function as(e,t,n,i){Ht.call(this),this.type="CubicBezierCurve3",this.v0=e||new D,this.v1=t||new D,this.v2=n||new D,this.v3=i||new D}as.prototype=Object.create(Ht.prototype);as.prototype.constructor=as;as.prototype.isCubicBezierCurve3=!0;as.prototype.getPoint=function(e,t){const n=t||new D,i=this.v0,a=this.v1,o=this.v2,c=this.v3;return n.set(Ic(e,i.x,a.x,o.x,c.x),Ic(e,i.y,a.y,o.y,c.y),Ic(e,i.z,a.z,o.z,c.z)),n};as.prototype.copy=function(e){return Ht.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};as.prototype.toJSON=function(){const e=Ht.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};as.prototype.fromJSON=function(e){return Ht.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function jn(e,t){Ht.call(this),this.type="LineCurve",this.v1=e||new ct,this.v2=t||new ct}jn.prototype=Object.create(Ht.prototype);jn.prototype.constructor=jn;jn.prototype.isLineCurve=!0;jn.prototype.getPoint=function(e,t){const n=t||new ct;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};jn.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};jn.prototype.getTangent=function(e,t){const n=t||new ct;return n.copy(this.v2).sub(this.v1).normalize(),n};jn.prototype.copy=function(e){return Ht.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};jn.prototype.toJSON=function(){const e=Ht.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};jn.prototype.fromJSON=function(e){return Ht.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Hi(e,t){Ht.call(this),this.type="LineCurve3",this.v1=e||new D,this.v2=t||new D}Hi.prototype=Object.create(Ht.prototype);Hi.prototype.constructor=Hi;Hi.prototype.isLineCurve3=!0;Hi.prototype.getPoint=function(e,t){const n=t||new D;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};Hi.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Hi.prototype.copy=function(e){return Ht.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Hi.prototype.toJSON=function(){const e=Ht.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Hi.prototype.fromJSON=function(e){return Ht.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Ii(e,t,n){Ht.call(this),this.type="QuadraticBezierCurve",this.v0=e||new ct,this.v1=t||new ct,this.v2=n||new ct}Ii.prototype=Object.create(Ht.prototype);Ii.prototype.constructor=Ii;Ii.prototype.isQuadraticBezierCurve=!0;Ii.prototype.getPoint=function(e,t){const n=t||new ct,i=this.v0,a=this.v1,o=this.v2;return n.set(Hc(e,i.x,a.x,o.x),Hc(e,i.y,a.y,o.y)),n};Ii.prototype.copy=function(e){return Ht.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Ii.prototype.toJSON=function(){const e=Ht.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Ii.prototype.fromJSON=function(e){return Ht.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function os(e,t,n){Ht.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new D,this.v1=t||new D,this.v2=n||new D}os.prototype=Object.create(Ht.prototype);os.prototype.constructor=os;os.prototype.isQuadraticBezierCurve3=!0;os.prototype.getPoint=function(e,t){const n=t||new D,i=this.v0,a=this.v1,o=this.v2;return n.set(Hc(e,i.x,a.x,o.x),Hc(e,i.y,a.y,o.y),Hc(e,i.z,a.z,o.z)),n};os.prototype.copy=function(e){return Ht.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};os.prototype.toJSON=function(){const e=Ht.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};os.prototype.fromJSON=function(e){return Ht.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Fi(e){Ht.call(this),this.type="SplineCurve",this.points=e||[]}Fi.prototype=Object.create(Ht.prototype);Fi.prototype.constructor=Fi;Fi.prototype.isSplineCurve=!0;Fi.prototype.getPoint=function(e,t){const n=t||new ct,i=this.points,a=(i.length-1)*e,o=Math.floor(a),c=a-o,u=i[o===0?o:o-1],h=i[o],d=i[o>i.length-2?i.length-1:o+1],m=i[o>i.length-3?i.length-1:o+2];return n.set(YM(c,u.x,h.x,d.x,m.x),YM(c,u.y,h.y,d.y,m.y)),n};Fi.prototype.copy=function(e){Ht.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this};Fi.prototype.toJSON=function(){const e=Ht.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e};Fi.prototype.fromJSON=function(e){Ht.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new ct().fromArray(i))}return this};var Sy=Object.freeze({__proto__:null,ArcCurve:cl,CatmullRomCurve3:Ln,CubicBezierCurve:Gi,CubicBezierCurve3:as,EllipseCurve:oi,LineCurve:jn,LineCurve3:Hi,QuadraticBezierCurve:Ii,QuadraticBezierCurve3:os,SplineCurve:Fi});function Ps(){Ht.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}Ps.prototype=Object.assign(Object.create(Ht.prototype),{constructor:Ps,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new jn(t,e))},getPoint:function(e){const t=e*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=t){const a=n[i]-t,o=this.curves[i],c=o.getLength(),u=c===0?0:1-a/c;return o.getPointAt(u)}i++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){e===void 0&&(e=40);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;const t=[];let n;for(let i=0,a=this.curves;i<a.length;i++){const o=a[i],c=o&&o.isEllipseCurve?e*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,u=o.getPoints(c);for(let h=0;h<u.length;h++){const d=u[h];n&&n.equals(d)||(t.push(d),n=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){Ht.prototype.copy.call(this,e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=Ht.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){Ht.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new Sy[i.type]().fromJSON(i))}return this}});function Ui(e){Ps.call(this),this.type="Path",this.currentPoint=new ct,e&&this.setFromPoints(e)}Ui.prototype=Object.assign(Object.create(Ps.prototype),{constructor:Ui,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const n=new jn(this.currentPoint.clone(),new ct(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,i){const a=new Ii(this.currentPoint.clone(),new ct(e,t),new ct(n,i));return this.curves.push(a),this.currentPoint.set(n,i),this},bezierCurveTo:function(e,t,n,i,a,o){const c=new Gi(this.currentPoint.clone(),new ct(e,t),new ct(n,i),new ct(a,o));return this.curves.push(c),this.currentPoint.set(a,o),this},splineThru:function(e){const t=[this.currentPoint.clone()].concat(e),n=new Fi(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,i,a,o){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+c,t+u,n,i,a,o),this},absarc:function(e,t,n,i,a,o){return this.absellipse(e,t,n,n,i,a,o),this},ellipse:function(e,t,n,i,a,o,c,u){const h=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+h,t+d,n,i,a,o,c,u),this},absellipse:function(e,t,n,i,a,o,c,u){const h=new oi(e,t,n,i,a,o,c,u);if(this.curves.length>0){const m=h.getPoint(0);m.equals(this.currentPoint)||this.lineTo(m.x,m.y)}this.curves.push(h);const d=h.getPoint(1);return this.currentPoint.copy(d),this},copy:function(e){return Ps.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=Ps.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Ps.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}});function Tr(e){Ui.call(this,e),this.uuid=ne.generateUUID(),this.type="Shape",this.holes=[]}Tr.prototype=Object.assign(Object.create(Ui.prototype),{constructor:Tr,getPointsHoles:function(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Ui.prototype.copy.call(this,e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){const e=Ui.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){Ui.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new Ui().fromJSON(i))}return this}});function Oe(e,t){zt.call(this),this.type="Light",this.color=new Ct(e),this.intensity=t!==void 0?t:1}Oe.prototype=Object.assign(Object.create(zt.prototype),{constructor:Oe,isLight:!0,copy:function(e){return zt.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=zt.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}});function xd(e,t,n){Oe.call(this,e,n),this.type="HemisphereLight",this.position.copy(zt.DefaultUp),this.updateMatrix(),this.groundColor=new Ct(t)}xd.prototype=Object.assign(Object.create(Oe.prototype),{constructor:xd,isHemisphereLight:!0,copy:function(e){return Oe.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}});function Us(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new ct(512,512),this.map=null,this.mapPass=null,this.matrix=new re,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Pu,this._frameExtents=new ct(1,1),this._viewportCount=1,this._viewports=[new Ee(0,0,1,1)]}Object.assign(Us.prototype,{_projScreenMatrix:new re,_lightPositionWorld:new D,_lookTarget:new D,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,n=this.matrix,i=this._projScreenMatrix,a=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),a.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(a),t.updateMatrixWorld(),i.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}});function Ty(){Us.call(this,new nn(50,1,.5,500)),this.focus=1}Ty.prototype=Object.assign(Object.create(Us.prototype),{constructor:Ty,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,n=ne.RAD2DEG*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(n!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=i,t.far=a,t.updateProjectionMatrix()),Us.prototype.updateMatrices.call(this,e)}});function bd(e,t,n,i,a,o){Oe.call(this,e,t),this.type="SpotLight",this.position.copy(zt.DefaultUp),this.updateMatrix(),this.target=new zt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(c){this.intensity=c/Math.PI}}),this.distance=n!==void 0?n:0,this.angle=i!==void 0?i:Math.PI/3,this.penumbra=a!==void 0?a:0,this.decay=o!==void 0?o:1,this.shadow=new Ty}bd.prototype=Object.assign(Object.create(Oe.prototype),{constructor:bd,isSpotLight:!0,copy:function(e){return Oe.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function Ey(){Us.call(this,new nn(90,1,.5,500)),this._frameExtents=new ct(4,2),this._viewportCount=6,this._viewports=[new Ee(2,1,1,1),new Ee(0,1,1,1),new Ee(3,1,1,1),new Ee(1,1,1,1),new Ee(3,0,1,1),new Ee(1,0,1,1)],this._cubeDirections=[new D(1,0,0),new D(-1,0,0),new D(0,0,1),new D(0,0,-1),new D(0,1,0),new D(0,-1,0)],this._cubeUps=[new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,0,1),new D(0,0,-1)]}Ey.prototype=Object.assign(Object.create(Us.prototype),{constructor:Ey,isPointLightShadow:!0,updateMatrices:function(e,t){t===void 0&&(t=0);const n=this.camera,i=this.matrix,a=this._lightPositionWorld,o=this._lookTarget,c=this._projScreenMatrix;a.setFromMatrixPosition(e.matrixWorld),n.position.copy(a),o.copy(n.position),o.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(o),n.updateMatrixWorld(),i.makeTranslation(-a.x,-a.y,-a.z),c.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(c)}});function _d(e,t,n,i){Oe.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(a){this.intensity=a/(4*Math.PI)}}),this.distance=n!==void 0?n:0,this.decay=i!==void 0?i:1,this.shadow=new Ey}_d.prototype=Object.assign(Object.create(Oe.prototype),{constructor:_d,isPointLight:!0,copy:function(e){return Oe.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}});function ul(e,t,n,i,a,o){is.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e!==void 0?e:-1,this.right=t!==void 0?t:1,this.top=n!==void 0?n:1,this.bottom=i!==void 0?i:-1,this.near=a!==void 0?a:.1,this.far=o!==void 0?o:2e3,this.updateProjectionMatrix()}ul.prototype=Object.assign(Object.create(is.prototype),{constructor:ul,isOrthographicCamera:!0,copy:function(e,t){return is.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=n-e,o=n+e,c=i+t,u=i-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=h*this.view.offsetX,o=a+h*this.view.width,c-=d*this.view.offsetY,u=c-d*this.view.height}this.projectionMatrix.makeOrthographic(a,o,c,u,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=zt.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}});function Ay(){Us.call(this,new ul(-5,5,5,-5,.5,500))}Ay.prototype=Object.assign(Object.create(Us.prototype),{constructor:Ay,isDirectionalLightShadow:!0,updateMatrices:function(e){Us.prototype.updateMatrices.call(this,e)}});function Md(e,t){Oe.call(this,e,t),this.type="DirectionalLight",this.position.copy(zt.DefaultUp),this.updateMatrix(),this.target=new zt,this.shadow=new Ay}Md.prototype=Object.assign(Object.create(Oe.prototype),{constructor:Md,isDirectionalLight:!0,copy:function(e){return Oe.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function wd(e,t){Oe.call(this,e,t),this.type="AmbientLight"}wd.prototype=Object.assign(Object.create(Oe.prototype),{constructor:wd,isAmbientLight:!0});function Sd(e,t,n,i){Oe.call(this,e,t),this.type="RectAreaLight",this.width=n!==void 0?n:10,this.height=i!==void 0?i:10}Sd.prototype=Object.assign(Object.create(Oe.prototype),{constructor:Sd,isRectAreaLight:!0,copy:function(e){return Oe.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=Oe.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});class qT{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new D)}set(t){for(let n=0;n<9;n++)this.coefficients[n].copy(t[n]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,n){const i=t.x,a=t.y,o=t.z,c=this.coefficients;return n.copy(c[0]).multiplyScalar(.282095),n.addScaledVector(c[1],.488603*a),n.addScaledVector(c[2],.488603*o),n.addScaledVector(c[3],.488603*i),n.addScaledVector(c[4],1.092548*(i*a)),n.addScaledVector(c[5],1.092548*(a*o)),n.addScaledVector(c[6],.315392*(3*o*o-1)),n.addScaledVector(c[7],1.092548*(i*o)),n.addScaledVector(c[8],.546274*(i*i-a*a)),n}getIrradianceAt(t,n){const i=t.x,a=t.y,o=t.z,c=this.coefficients;return n.copy(c[0]).multiplyScalar(.886227),n.addScaledVector(c[1],2*.511664*a),n.addScaledVector(c[2],2*.511664*o),n.addScaledVector(c[3],2*.511664*i),n.addScaledVector(c[4],2*.429043*i*a),n.addScaledVector(c[5],2*.429043*a*o),n.addScaledVector(c[6],.743125*o*o-.247708),n.addScaledVector(c[7],2*.429043*i*o),n.addScaledVector(c[8],.429043*(i*i-a*a)),n}add(t){for(let n=0;n<9;n++)this.coefficients[n].add(t.coefficients[n]);return this}addScaledSH(t,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],n);return this}scale(t){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(t);return this}lerp(t,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],n);return this}equals(t){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(t.coefficients[n]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,n){n===void 0&&(n=0);const i=this.coefficients;for(let a=0;a<9;a++)i[a].fromArray(t,n+a*3);return this}toArray(t,n){t===void 0&&(t=[]),n===void 0&&(n=0);const i=this.coefficients;for(let a=0;a<9;a++)i[a].toArray(t,n+a*3);return t}static getBasisAt(t,n){const i=t.x,a=t.y,o=t.z;n[0]=.282095,n[1]=.488603*a,n[2]=.488603*o,n[3]=.488603*i,n[4]=1.092548*i*a,n[5]=1.092548*a*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*i*o,n[8]=.546274*(i*i-a*a)}}function _i(e,t){Oe.call(this,void 0,t),this.type="LightProbe",this.sh=e!==void 0?e:new qT}_i.prototype=Object.assign(Object.create(Oe.prototype),{constructor:_i,isLightProbe:!0,copy:function(e){return Oe.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=Oe.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}});function Td(e){_e.call(this,e),this.textures={}}Td.prototype=Object.assign(Object.create(_e.prototype),{constructor:Td,load:function(e,t,n,i){const a=this,o=new Ei(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(u){i?i(u):console.error(u),a.manager.itemError(e)}},n,i)},parse:function(e){const t=this.textures;function n(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const i=new DP[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=new Ct().setHex(e.sheen)),e.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular.setHex(e.specular),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(i.skinning=e.skinning),e.morphTargets!==void 0&&(i.morphTargets=e.morphTargets),e.morphNormals!==void 0&&(i.morphNormals=e.morphNormals),e.dithering!==void 0&&(i.dithering=e.dithering),e.vertexTangents!==void 0&&(i.vertexTangents=e.vertexTangents),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=n(o.value);break;case"c":i.uniforms[a].value=new Ct().setHex(o.value);break;case"v2":i.uniforms[a].value=new ct().fromArray(o.value);break;case"v3":i.uniforms[a].value=new D().fromArray(o.value);break;case"v4":i.uniforms[a].value=new Ee().fromArray(o.value);break;case"m3":i.uniforms[a].value=new Nn().fromArray(o.value);break;case"m4":i.uniforms[a].value=new re().fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new ct().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ct().fromArray(e.clearcoatNormalScale)),e.transmission!==void 0&&(i.transmission=e.transmission),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),i},setTextures:function(e){return this.textures=e,this}});const Pv={decodeText:function(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}},extractUrlBase:function(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}};function gu(){Ft.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}gu.prototype=Object.assign(Object.create(Ft.prototype),{constructor:gu,isInstancedBufferGeometry:!0,copy:function(e){return Ft.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e=Ft.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}});function Ed(e,t,n,i){typeof n=="number"&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),qt.call(this,e,t,n),this.meshPerAttribute=i||1}Ed.prototype=Object.assign(Object.create(qt.prototype),{constructor:Ed,isInstancedBufferAttribute:!0,copy:function(e){return qt.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=qt.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}});function Ad(e){_e.call(this,e)}Ad.prototype=Object.assign(Object.create(_e.prototype),{constructor:Ad,load:function(e,t,n,i){const a=this,o=new Ei(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(u){i?i(u):console.error(u),a.manager.itemError(e)}},n,i)},parse:function(e){const t={},n={};function i(y,v){if(t[v]!==void 0)return t[v];const S=y.interleavedBuffers[v],w=a(y,S.buffer),M=new Oh[S.type](w),b=new ni(M,S.stride);return b.uuid=S.uuid,t[v]=b,b}function a(y,v){if(n[v]!==void 0)return n[v];const S=y.arrayBuffers[v],w=new Uint32Array(S).buffer;return n[v]=w,w}const o=e.isInstancedBufferGeometry?new gu:new Ft,c=e.data.index;if(c!==void 0){const y=new Oh[c.type](c.array);o.setIndex(new qt(y,1))}const u=e.data.attributes;for(const y in u){const v=u[y];let _;if(v.isInterleavedBufferAttribute){const S=i(e.data,v.data);_=new Dr(S,v.itemSize,v.offset,v.normalized)}else{const S=new Oh[v.type](v.array),w=v.isInstancedBufferAttribute?Ed:qt;_=new w(S,v.itemSize,v.normalized)}v.name!==void 0&&(_.name=v.name),o.setAttribute(y,_)}const h=e.data.morphAttributes;if(h)for(const y in h){const v=h[y],_=[];for(let S=0,w=v.length;S<w;S++){const M=v[S];let b;if(M.isInterleavedBufferAttribute){const T=i(e.data,M.data);b=new Dr(T,M.itemSize,M.offset,M.normalized)}else{const T=new Oh[M.type](M.array);b=new qt(T,M.itemSize,M.normalized)}M.name!==void 0&&(b.name=M.name),_.push(b)}o.morphAttributes[y]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const m=e.data.groups||e.data.drawcalls||e.data.offsets;if(m!==void 0)for(let y=0,v=m.length;y!==v;++y){const _=m[y];o.addGroup(_.start,_.count,_.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const y=new D;p.center!==void 0&&y.fromArray(p.center),o.boundingSphere=new Hs(y,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}});const Oh={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};class IP extends _e{constructor(t){super(t)}load(t,n,i,a){const o=this,c=this.path===""?Pv.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||c;const u=new Ei(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(t,function(h){let d=null;try{d=JSON.parse(h)}catch(p){a!==void 0&&a(p),console.error("THREE:ObjectLoader: Can't parse "+t+".",p.message);return}const m=d.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+t);return}o.parse(d,n)},i,a)}parse(t,n){const i=this.parseShape(t.shapes),a=this.parseGeometries(t.geometries,i),o=this.parseImages(t.images,function(){n!==void 0&&n(h)}),c=this.parseTextures(t.textures,o),u=this.parseMaterials(t.materials,c),h=this.parseObject(t.object,a,u);return t.animations&&(h.animations=this.parseAnimations(t.animations)),(t.images===void 0||t.images.length===0)&&n!==void 0&&n(h),h}parseShape(t){const n={};if(t!==void 0)for(let i=0,a=t.length;i<a;i++){const o=new Tr().fromJSON(t[i]);n[o.uuid]=o}return n}parseGeometries(t,n){const i={};let a;if(t!==void 0){const o=new Ad;for(let c=0,u=t.length;c<u;c++){let h;const d=t[c];switch(d.type){case"PlaneGeometry":case"PlaneBufferGeometry":h=new On[d.type](d.width,d.height,d.widthSegments,d.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":h=new On[d.type](d.width,d.height,d.depth,d.widthSegments,d.heightSegments,d.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":h=new On[d.type](d.radius,d.segments,d.thetaStart,d.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":h=new On[d.type](d.radiusTop,d.radiusBottom,d.height,d.radialSegments,d.heightSegments,d.openEnded,d.thetaStart,d.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":h=new On[d.type](d.radius,d.height,d.radialSegments,d.heightSegments,d.openEnded,d.thetaStart,d.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":h=new On[d.type](d.radius,d.widthSegments,d.heightSegments,d.phiStart,d.phiLength,d.thetaStart,d.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":h=new On[d.type](d.radius,d.detail);break;case"RingGeometry":case"RingBufferGeometry":h=new On[d.type](d.innerRadius,d.outerRadius,d.thetaSegments,d.phiSegments,d.thetaStart,d.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":h=new On[d.type](d.radius,d.tube,d.radialSegments,d.tubularSegments,d.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":h=new On[d.type](d.radius,d.tube,d.tubularSegments,d.radialSegments,d.p,d.q);break;case"TubeGeometry":case"TubeBufferGeometry":h=new On[d.type](new Sy[d.path.type]().fromJSON(d.path),d.tubularSegments,d.radius,d.radialSegments,d.closed);break;case"LatheGeometry":case"LatheBufferGeometry":h=new On[d.type](d.points,d.segments,d.phiStart,d.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":h=new On[d.type](d.vertices,d.indices,d.radius,d.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":a=[];for(let p=0,y=d.shapes.length;p<y;p++){const v=n[d.shapes[p]];a.push(v)}h=new On[d.type](a,d.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":a=[];for(let p=0,y=d.shapes.length;p<y;p++){const v=n[d.shapes[p]];a.push(v)}const m=d.options.extrudePath;m!==void 0&&(d.options.extrudePath=new Sy[m.type]().fromJSON(m)),h=new On[d.type](a,d.options);break;case"BufferGeometry":case"InstancedBufferGeometry":h=o.parse(d);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+d.type+'"');continue}h.uuid=d.uuid,d.name!==void 0&&(h.name=d.name),h.isBufferGeometry===!0&&d.userData!==void 0&&(h.userData=d.userData),i[d.uuid]=h}}return i}parseMaterials(t,n){const i={},a={};if(t!==void 0){const o=new Td;o.setTextures(n);for(let c=0,u=t.length;c<u;c++){const h=t[c];if(h.type==="MultiMaterial"){const d=[];for(let m=0;m<h.materials.length;m++){const p=h.materials[m];i[p.uuid]===void 0&&(i[p.uuid]=o.parse(p)),d.push(i[p.uuid])}a[h.uuid]=d}else i[h.uuid]===void 0&&(i[h.uuid]=o.parse(h)),a[h.uuid]=i[h.uuid]}}return a}parseAnimations(t){const n=[];for(let i=0;i<t.length;i++){const a=t[i],o=bi.parse(a);a.uuid!==void 0&&(o.uuid=a.uuid),n.push(o)}return n}parseImages(t,n){const i=this,a={};let o;function c(u){return i.manager.itemStart(u),o.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}if(t!==void 0&&t.length>0){const u=new Dv(n);o=new ll(u),o.setCrossOrigin(this.crossOrigin);for(let h=0,d=t.length;h<d;h++){const m=t[h],p=m.url;if(Array.isArray(p)){a[m.uuid]=[];for(let y=0,v=p.length;y<v;y++){const _=p[y],S=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(_)?_:i.resourcePath+_;a[m.uuid].push(c(S))}}else{const y=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(m.url)?m.url:i.resourcePath+m.url;a[m.uuid]=c(y)}}}return a}parseTextures(t,n){function i(o,c){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),c[o])}const a={};if(t!==void 0)for(let o=0,c=t.length;o<c;o++){const u=t[o];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),n[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);let h;Array.isArray(n[u.image])?h=new ss(n[u.image]):h=new Re(n[u.image]),h.needsUpdate=!0,h.uuid=u.uuid,u.name!==void 0&&(h.name=u.name),u.mapping!==void 0&&(h.mapping=i(u.mapping,FP)),u.offset!==void 0&&h.offset.fromArray(u.offset),u.repeat!==void 0&&h.repeat.fromArray(u.repeat),u.center!==void 0&&h.center.fromArray(u.center),u.rotation!==void 0&&(h.rotation=u.rotation),u.wrap!==void 0&&(h.wrapS=i(u.wrap[0],ZM),h.wrapT=i(u.wrap[1],ZM)),u.format!==void 0&&(h.format=u.format),u.type!==void 0&&(h.type=u.type),u.encoding!==void 0&&(h.encoding=u.encoding),u.minFilter!==void 0&&(h.minFilter=i(u.minFilter,QM)),u.magFilter!==void 0&&(h.magFilter=i(u.magFilter,QM)),u.anisotropy!==void 0&&(h.anisotropy=u.anisotropy),u.flipY!==void 0&&(h.flipY=u.flipY),u.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(h.unpackAlignment=u.unpackAlignment),a[u.uuid]=h}return a}parseObject(t,n,i){let a;function o(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function c(d){if(d!==void 0){if(Array.isArray(d)){const m=[];for(let p=0,y=d.length;p<y;p++){const v=d[p];i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),m.push(i[v])}return m}return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),i[d]}}let u,h;switch(t.type){case"Scene":a=new pv,t.background!==void 0&&Number.isInteger(t.background)&&(a.background=new Ct(t.background)),t.fog!==void 0&&(t.fog.type==="Fog"?a.fog=new Hd(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(a.fog=new Gd(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":a=new nn(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(a.focus=t.focus),t.zoom!==void 0&&(a.zoom=t.zoom),t.filmGauge!==void 0&&(a.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(a.filmOffset=t.filmOffset),t.view!==void 0&&(a.view=Object.assign({},t.view));break;case"OrthographicCamera":a=new ul(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(a.zoom=t.zoom),t.view!==void 0&&(a.view=Object.assign({},t.view));break;case"AmbientLight":a=new wd(t.color,t.intensity);break;case"DirectionalLight":a=new Md(t.color,t.intensity);break;case"PointLight":a=new _d(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":a=new Sd(t.color,t.intensity,t.width,t.height);break;case"SpotLight":a=new bd(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":a=new xd(t.color,t.groundColor,t.intensity);break;case"LightProbe":a=new _i().fromJSON(t);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":u=o(t.geometry),h=c(t.material),a=new ze(u,h);break;case"InstancedMesh":u=o(t.geometry),h=c(t.material);const d=t.count,m=t.instanceMatrix;a=new ld(u,h,d),a.instanceMatrix=new qt(new Float32Array(m.array),16);break;case"LOD":a=new ou;break;case"Line":a=new Ti(o(t.geometry),c(t.material),t.mode);break;case"LineLoop":a=new cd(o(t.geometry),c(t.material));break;case"LineSegments":a=new Vn(o(t.geometry),c(t.material));break;case"PointCloud":case"Points":a=new il(o(t.geometry),c(t.material));break;case"Sprite":a=new au(c(t.material));break;case"Group":a=new Mr;break;default:a=new zt}if(a.uuid=t.uuid,t.name!==void 0&&(a.name=t.name),t.matrix!==void 0?(a.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=t.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(t.position!==void 0&&a.position.fromArray(t.position),t.rotation!==void 0&&a.rotation.fromArray(t.rotation),t.quaternion!==void 0&&a.quaternion.fromArray(t.quaternion),t.scale!==void 0&&a.scale.fromArray(t.scale)),t.castShadow!==void 0&&(a.castShadow=t.castShadow),t.receiveShadow!==void 0&&(a.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.bias!==void 0&&(a.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(a.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(a.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(a.visible=t.visible),t.frustumCulled!==void 0&&(a.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(a.renderOrder=t.renderOrder),t.userData!==void 0&&(a.userData=t.userData),t.layers!==void 0&&(a.layers.mask=t.layers),t.children!==void 0){const d=t.children;for(let m=0;m<d.length;m++)a.add(this.parseObject(d[m],n,i))}if(t.type==="LOD"){t.autoUpdate!==void 0&&(a.autoUpdate=t.autoUpdate);const d=t.levels;for(let m=0;m<d.length;m++){const p=d[m],y=a.getObjectByProperty("uuid",p.object);y!==void 0&&a.addLevel(y,p.distance)}}return a}setTexturePath(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}const FP={UVMapping:Nd,CubeReflectionMapping:Au,CubeRefractionMapping:Ru,EquirectangularReflectionMapping:ed,EquirectangularRefractionMapping:nd,CubeUVReflectionMapping:pl,CubeUVRefractionMapping:Cu},ZM={RepeatWrapping:Xc,ClampToEdgeWrapping:Pn,MirroredRepeatWrapping:Yc},QM={NearestFilter:ln,NearestMipmapNearestFilter:id,NearestMipmapLinearFilter:sd,LinearFilter:dn,LinearMipmapNearestFilter:lv,LinearMipmapLinearFilter:ml};function Ry(e){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),_e.call(this,e),this.options={premultiplyAlpha:"none"}}Ry.prototype=Object.assign(Object.create(_e.prototype),{constructor:Ry,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Pa.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",fetch(e,c).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,a.options)}).then(function(u){Pa.add(e,u),t&&t(u),a.manager.itemEnd(e)}).catch(function(u){i&&i(u),a.manager.itemError(e),a.manager.itemEnd(e)}),a.manager.itemStart(e)}});function Nv(){this.type="ShapePath",this.color=new Ct,this.subPaths=[],this.currentPath=null}Object.assign(Nv.prototype,{moveTo:function(e,t){return this.currentPath=new Ui,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this},bezierCurveTo:function(e,t,n,i,a,o){return this.currentPath.bezierCurveTo(e,t,n,i,a,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(M){const b=[];for(let T=0,R=M.length;T<R;T++){const C=M[T],A=new Tr;A.curves=C.curves,b.push(A)}return b}function i(M,b){const T=b.length;let R=!1;for(let C=T-1,A=0;A<T;C=A++){let O=b[C],P=b[A],G=P.x-O.x,J=P.y-O.y;if(Math.abs(J)>Number.EPSILON){if(J<0&&(O=b[A],G=-G,P=b[C],J=-J),M.y<O.y||M.y>P.y)continue;if(M.y===O.y){if(M.x===O.x)return!0}else{const j=J*(M.x-O.x)-G*(M.y-O.y);if(j===0)return!0;if(j<0)continue;R=!R}}else{if(M.y!==O.y)continue;if(P.x<=M.x&&M.x<=O.x||O.x<=M.x&&M.x<=P.x)return!0}}return R}const a=Bs.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return n(o);let c,u,h;const d=[];if(o.length===1)return u=o[0],h=new Tr,h.curves=u.curves,d.push(h),d;let m=!a(o[0].getPoints());m=e?!m:m;const p=[],y=[];let v=[],_=0,S;y[_]=void 0,v[_]=[];for(let M=0,b=o.length;M<b;M++)u=o[M],S=u.getPoints(),c=a(S),c=e?!c:c,c?(!m&&y[_]&&_++,y[_]={s:new Tr,p:S},y[_].s.curves=u.curves,m&&_++,v[_]=[]):v[_].push({h:u,p:S[0]});if(!y[0])return n(o);if(y.length>1){let M=!1;const b=[];for(let T=0,R=y.length;T<R;T++)p[T]=[];for(let T=0,R=y.length;T<R;T++){const C=v[T];for(let A=0;A<C.length;A++){const O=C[A];let P=!0;for(let G=0;G<y.length;G++)i(O.p,y[G].p)&&(T!==G&&b.push({froms:T,tos:G,hole:A}),P?(P=!1,p[G].push(O)):M=!0);P&&p[T].push(O)}}b.length>0&&(M||(v=p))}let w;for(let M=0,b=y.length;M<b;M++){h=y[M].s,d.push(h),w=v[M];for(let T=0,R=w.length;T<R;T++)h.holes.push(w[T].h)}return d}});function Bv(e){this.type="Font",this.data=e}Object.assign(Bv.prototype,{isFont:!0,generateShapes:function(e,t){t===void 0&&(t=100);const n=[],i=kP(e,t,this.data);for(let a=0,o=i.length;a<o;a++)Array.prototype.push.apply(n,i[a].toShapes());return n}});function kP(e,t,n){const i=Array.from?Array.from(e):String(e).split(""),a=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*a,c=[];let u=0,h=0;for(let d=0;d<i.length;d++){const m=i[d];if(m===`
`)u=0,h-=o;else{const p=WP(m,a,u,h,n);u+=p.offsetX,c.push(p.path)}}return c}function WP(e,t,n,i,a){const o=a.glyphs[e]||a.glyphs["?"];if(!o){console.error('THREE.Font: character "'+e+'" does not exists in font family '+a.familyName+".");return}const c=new Nv;let u,h,d,m,p,y,v,_;if(o.o){const S=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let w=0,M=S.length;w<M;)switch(S[w++]){case"m":u=S[w++]*t+n,h=S[w++]*t+i,c.moveTo(u,h);break;case"l":u=S[w++]*t+n,h=S[w++]*t+i,c.lineTo(u,h);break;case"q":d=S[w++]*t+n,m=S[w++]*t+i,p=S[w++]*t+n,y=S[w++]*t+i,c.quadraticCurveTo(p,y,d,m);break;case"b":d=S[w++]*t+n,m=S[w++]*t+i,p=S[w++]*t+n,y=S[w++]*t+i,v=S[w++]*t+n,_=S[w++]*t+i,c.bezierCurveTo(p,y,v,_,d,m);break}}return{offsetX:o.ha*t,path:c}}function Cy(e){_e.call(this,e)}Cy.prototype=Object.assign(Object.create(_e.prototype),{constructor:Cy,load:function(e,t,n,i){const a=this,o=new Ei(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){let u;try{u=JSON.parse(c)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),u=JSON.parse(c.substring(65,c.length-2))}const h=a.parse(u);t&&t(h)},n,i)},parse:function(e){return new Bv(e)}});let Ph;const zv={getContext:function(){return Ph===void 0&&(Ph=new(window.AudioContext||window.webkitAudioContext)),Ph},setContext:function(e){Ph=e}};function Rd(e){_e.call(this,e)}Rd.prototype=Object.assign(Object.create(_e.prototype),{constructor:Rd,load:function(e,t,n,i){const a=this,o=new Ei(a.manager);o.setResponseType("arraybuffer"),o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{const u=c.slice(0);zv.getContext().decodeAudioData(u,function(d){t(d)})}catch(u){i?i(u):console.error(u),a.manager.itemError(e)}},n,i)}});function Ly(e,t,n){_i.call(this,void 0,n);const i=new Ct().set(e),a=new Ct().set(t),o=new D(i.r,i.g,i.b),c=new D(a.r,a.g,a.b),u=Math.sqrt(Math.PI),h=u*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(c).multiplyScalar(u),this.sh.coefficients[1].copy(o).sub(c).multiplyScalar(h)}Ly.prototype=Object.assign(Object.create(_i.prototype),{constructor:Ly,isHemisphereLightProbe:!0,copy:function(e){return _i.prototype.copy.call(this,e),this},toJSON:function(e){return _i.prototype.toJSON.call(this,e)}});function Dy(e,t){_i.call(this,void 0,t);const n=new Ct().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Dy.prototype=Object.assign(Object.create(_i.prototype),{constructor:Dy,isAmbientLightProbe:!0,copy:function(e){return _i.prototype.copy.call(this,e),this},toJSON:function(e){return _i.prototype.toJSON.call(this,e)}});const JM=new re,KM=new re;function XT(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new nn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new nn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(XT.prototype,{update:function(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const i=e.projectionMatrix.clone(),a=t.eyeSep/2,o=a*t.near/t.focus,c=t.near*Math.tan(ne.DEG2RAD*t.fov*.5)/t.zoom;let u,h;KM.elements[12]=-a,JM.elements[12]=a,u=-c*t.aspect+o,h=c*t.aspect+o,i.elements[0]=2*t.near/(h-u),i.elements[8]=(h+u)/(h-u),this.cameraL.projectionMatrix.copy(i),u=-c*t.aspect-o,h=c*t.aspect-o,i.elements[0]=2*t.near/(h-u),i.elements[8]=(h+u)/(h-u),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(KM),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(JM)}});class YT{constructor(t){this.autoStart=t!==void 0?t:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=(typeof performance>"u"?Date:performance).now();t=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=t}return t}}const aa=new D,$M=new Rn,jP=new D,oa=new D;class qP extends zt{constructor(){super(),this.type="AudioListener",this.context=zv.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new YT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(aa,$M,jP),oa.set(0,0,-1).applyQuaternion($M),n.positionX){const a=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(aa.x,a),n.positionY.linearRampToValueAtTime(aa.y,a),n.positionZ.linearRampToValueAtTime(aa.z,a),n.forwardX.linearRampToValueAtTime(oa.x,a),n.forwardY.linearRampToValueAtTime(oa.y,a),n.forwardZ.linearRampToValueAtTime(oa.z,a),n.upX.linearRampToValueAtTime(i.x,a),n.upY.linearRampToValueAtTime(i.y,a),n.upZ.linearRampToValueAtTime(i.z,a)}else n.setPosition(aa.x,aa.y,aa.z),n.setOrientation(oa.x,oa.y,oa.z,i.x,i.y,i.z)}}class Uv extends zt{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t){if(t===void 0&&(t=0),this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,n=this.filters.length;t<n;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,n=this.filters.length;t<n;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this}setDetune(t){if(this.detune=t,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}const la=new D,tw=new Rn,XP=new D,ca=new D;class YP extends Uv{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,n,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(la,tw,XP),ca.set(0,0,1).applyQuaternion(tw);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(la.x,i),n.positionY.linearRampToValueAtTime(la.y,i),n.positionZ.linearRampToValueAtTime(la.z,i),n.orientationX.linearRampToValueAtTime(ca.x,i),n.orientationY.linearRampToValueAtTime(ca.y,i),n.orientationZ.linearRampToValueAtTime(ca.z,i)}else n.setPosition(la.x,la.y,la.z),n.setOrientation(ca.x,ca.y,ca.z)}}class ZT{constructor(t,n){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n!==void 0?n:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)t+=n[i];return t/n.length}}function Vv(e,t,n){this.binding=e,this.valueSize=n;let i,a,o;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(Vv.prototype,{accumulate:function(e,t){const n=this.buffer,i=this.valueSize,a=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let c=0;c!==i;++c)n[a+c]=n[c];o=t}else{o+=t;const c=t/o;this._mixBufferRegion(n,a,0,c,i)}this.cumulativeWeight=o},accumulateAdditive:function(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,n=this.buffer,i=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const u=t*this._origIndex;this._mixBufferRegion(n,i,u,1-a,t)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let u=t,h=t+t;u!==h;++u)if(n[u]!==n[u+t]){c.setValue(n,i);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let a=n,o=i;a!==o;++a)t[a]=t[i+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,i,a){if(i>=.5)for(let o=0;o!==a;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,i){Rn.slerpFlat(e,t,e,t,e,n,i)},_slerpAdditive:function(e,t,n,i,a){const o=this._workIndex*a;Rn.multiplyQuaternionsFlat(e,o,e,t,e,n),Rn.slerpFlat(e,t,e,t,e,o,i)},_lerp:function(e,t,n,i,a){const o=1-i;for(let c=0;c!==a;++c){const u=t+c;e[u]=e[u]*o+e[n+c]*i}},_lerpAdditive:function(e,t,n,i,a){for(let o=0;o!==a;++o){const c=t+o;e[c]=e[c]+e[n+o]*i}}});const Gv="\\[\\]\\.:\\/",ZP=new RegExp("["+Gv+"]","g"),Hv="[^"+Gv+"]",QP="[^"+Gv.replace("\\.","")+"]",JP=/((?:WC+[\/:])*)/.source.replace("WC",Hv),KP=/(WCOD+)?/.source.replace("WCOD",QP),$P=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Hv),tN=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Hv),eN=new RegExp("^"+JP+KP+$P+tN+"$"),nN=["material","materials","bones"];function QT(e,t,n){const i=n||Cn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}Object.assign(QT.prototype,{getValue:function(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)},setValue:function(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=n.length;i!==a;++i)n[i].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}});function Cn(e,t,n){this.path=t,this.parsedPath=n||Cn.parseTrackName(t),this.node=Cn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(Cn,{Composite:QT,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Cn.Composite(e,t,n):new Cn(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(ZP,"")},parseTrackName:function(e){const t=eN.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=n.nodeName.substring(i+1);nN.indexOf(a)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=a)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(a){for(let o=0;o<a.length;o++){const c=a[o];if(c.name===t||c.uuid===t)return c;const u=n(c.children);if(u)return u}return null},i=n(e.children);if(i)return i}return null}});Object.assign(Cn.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,n){t[n]=this.node[this.propertyName]},function(t,n){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)t[n++]=i[a]},function(t,n){t[n]=this.resolvedProperty[this.propertyIndex]},function(t,n){this.resolvedProperty.toArray(t,n)}],SetterByBindingTypeAndVersioning:[[function(t,n){this.targetObject[this.propertyName]=t[n]},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)i[a]=t[n++]},function(t,n){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)i[a]=t[n++];this.targetObject.needsUpdate=!0},function(t,n){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)i[a]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty[this.propertyIndex]=t[n]},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty.fromArray(t,n)},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,n){this.bind(),this.getValue(t,n)},setValue:function(t,n){this.bind(),this.setValue(t,n)},bind:function(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=Cn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let h=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===h){h=d;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(h!==void 0){if(e[h]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const o=e[i];if(o===void 0){const h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+i+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?c=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][c]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});Object.assign(Cn.prototype,{_getValue_unbound:Cn.prototype.getValue,_setValue_unbound:Cn.prototype.setValue});function JT(){this.uuid=ne.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}Object.assign(JT.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length;let c,u=e.length,h=this.nCachedObjects_;for(let d=0,m=arguments.length;d!==m;++d){const p=arguments[d],y=p.uuid;let v=t[y];if(v===void 0){v=u++,t[y]=v,e.push(p);for(let _=0,S=o;_!==S;++_)a[_].push(new Cn(p,n[_],i[_]))}else if(v<h){c=e[v];const _=--h,S=e[_];t[S.uuid]=v,e[v]=S,t[y]=_,e[_]=p;for(let w=0,M=o;w!==M;++w){const b=a[w],T=b[_];let R=b[v];b[v]=T,R===void 0&&(R=new Cn(p,n[w],i[w])),b[_]=R}}else e[v]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h},remove:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let a=this.nCachedObjects_;for(let o=0,c=arguments.length;o!==c;++o){const u=arguments[o],h=u.uuid,d=t[h];if(d!==void 0&&d>=a){const m=a++,p=e[m];t[p.uuid]=d,e[d]=p,t[h]=m,e[m]=u;for(let y=0,v=i;y!==v;++y){const _=n[y],S=_[m],w=_[d];_[d]=S,_[m]=w}}}this.nCachedObjects_=a},uncache:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let a=this.nCachedObjects_,o=e.length;for(let c=0,u=arguments.length;c!==u;++c){const h=arguments[c],d=h.uuid,m=t[d];if(m!==void 0)if(delete t[d],m<a){const p=--a,y=e[p],v=--o,_=e[v];t[y.uuid]=m,e[m]=y,t[_.uuid]=p,e[p]=_,e.pop();for(let S=0,w=i;S!==w;++S){const M=n[S],b=M[p],T=M[v];M[m]=b,M[p]=T,M.pop()}}else{const p=--o,y=e[p];t[y.uuid]=m,e[m]=y,e.pop();for(let v=0,_=i;v!==_;++v){const S=n[v];S[m]=S[p],S.pop()}}}this.nCachedObjects_=a},subscribe_:function(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const a=this._bindings;if(i!==void 0)return a[i];const o=this._paths,c=this._parsedPaths,u=this._objects,h=u.length,d=this.nCachedObjects_,m=new Array(h);i=a.length,n[e]=i,o.push(e),c.push(t),a.push(m);for(let p=d,y=u.length;p!==y;++p){const v=u[p];m[p]=new Cn(v,e,t)}return m},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,a=this._parsedPaths,o=this._bindings,c=o.length-1,u=o[c],h=e[c];t[h]=n,o[n]=u,o.pop(),a[n]=a[c],a.pop(),i[n]=i[c],i.pop()}}});class iN{constructor(t,n,i,a){this._mixer=t,this._clip=n,this._localRoot=i||null,this.blendMode=a||n.blendMode;const o=n.tracks,c=o.length,u=new Array(c),h={endingStart:ma,endingEnd:ma};for(let d=0;d!==c;++d){const m=o[d].createInterpolant(null);u[d]=m,m.settings=h}this._interpolantSettings=h,this._interpolants=u,this._propertyBindings=new Array(c),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=nT,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,n){return this.loop=t,this.repetitions=n,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,n,i){if(t.fadeOut(n),this.fadeIn(n),i){const a=this._clip.duration,o=t._clip.duration,c=o/a,u=a/o;t.warp(1,c,n),this.warp(u,1,n)}return this}crossFadeTo(t,n,i){return t.crossFadeFrom(this,n,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,n,i){const a=this._mixer,o=a.time,c=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=a._lendControlInterpolant(),this._timeScaleInterpolant=u);const h=u.parameterPositions,d=u.sampleValues;return h[0]=o,h[1]=o+i,d[0]=t/c,d[1]=n/c,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,n,i,a){if(!this.enabled){this._updateWeight(t);return}const o=this._startTime;if(o!==null){const h=(t-o)*i;if(h<0||i===0)return;this._startTime=null,n=i*h}n*=this._updateTimeScale(t);const c=this._updateTime(n),u=this._updateWeight(t);if(u>0){const h=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case cv:for(let m=0,p=h.length;m!==p;++m)h[m].evaluate(c),d[m].accumulateAdditive(u);break;case Bd:default:for(let m=0,p=h.length;m!==p;++m)h[m].evaluate(c),d[m].accumulate(a,u)}}}_updateWeight(t){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const a=i.evaluate(t)[0];n*=a,t>i.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(t){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const a=i.evaluate(t)[0];n*=a,t>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(t){const n=this._clip.duration,i=this.loop;let a=this.time+t,o=this._loopCount;const c=i===iT;if(t===0)return o===-1?a:c&&(o&1)===1?n-a:a;if(i===eT){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(a>=n)a=n;else if(a<0)a=0;else{this.time=a;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(o===-1&&(t>=0?(o=0,this._setEndings(!0,this.repetitions===0,c)):this._setEndings(this.repetitions===0,!0,c)),a>=n||a<0){const u=Math.floor(a/n);a-=n*u,o+=Math.abs(u);const h=this.repetitions-o;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=t>0?n:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(h===1){const d=t<0;this._setEndings(d,!d,c)}else this._setEndings(!1,!1,c);this._loopCount=o,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=a;if(c&&(o&1)===1)return n-a}return a}_setEndings(t,n,i){const a=this._interpolantSettings;i?(a.endingStart=ga,a.endingEnd=ga):(t?a.endingStart=this.zeroSlopeAtStart?ga:ma:a.endingStart=Kc,n?a.endingEnd=this.zeroSlopeAtEnd?ga:ma:a.endingEnd=Kc)}_scheduleFading(t,n,i){const a=this._mixer,o=a.time;let c=this._weightInterpolant;c===null&&(c=a._lendControlInterpolant(),this._weightInterpolant=c);const u=c.parameterPositions,h=c.sampleValues;return u[0]=o,h[0]=n,u[1]=o+t,h[1]=i,this}}function Oy(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Oy.prototype=Object.assign(Object.create(ls.prototype),{constructor:Oy,_bindAction:function(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,a=i.length,o=e._propertyBindings,c=e._interpolants,u=n.uuid,h=this._bindingsByRootAndName;let d=h[u];d===void 0&&(d={},h[u]=d);for(let m=0;m!==a;++m){const p=i[m],y=p.name;let v=d[y];if(v!==void 0)o[m]=v;else{if(v=o[m],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,u,y));continue}const _=t&&t._propertyBindings[m].binding.parsedPath;v=new Vv(Cn.create(n,y,_),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,u,y),o[m]=v}c[m].resultBuffer=v.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){const i=this._actions,a=this._actionsByClip;let o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{const c=o.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,c=o[a],u=c.knownActions,h=u[u.length-1],d=e._byClipCacheIndex;h._byClipCacheIndex=d,u[d]=h,u.pop(),e._byClipCacheIndex=null;const m=c.actionByRoot,p=(e._localRoot||this._root).uuid;delete m[p],u.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];--a.referenceCount===0&&this._removeInactiveBinding(a)}},_lendAction:function(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a},_takeBackAction:function(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a},_addInactiveBinding:function(e,t,n){const i=this._bindingsByRootAndName,a=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[n]=e,e._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,a=n.path,o=this._bindingsByRootAndName,c=o[i],u=t[t.length-1],h=e._cacheIndex;u._cacheIndex=h,t[h]=u,t.pop(),delete c[a],Object.keys(c).length===0&&delete o[i]},_lendBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a},_takeBackBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new pu(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=n,t[n]=a},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){const i=t||this._root,a=i.uuid;let o=typeof e=="string"?bi.findByName(i,e):e;const c=o!==null?o.uuid:e,u=this._actionsByClip[c];let h=null;if(n===void 0&&(o!==null?n=o.blendMode:n=Bd),u!==void 0){const m=u.actionByRoot[a];if(m!==void 0&&m.blendMode===n)return m;h=u.knownActions[0],o===null&&(o=h._clip)}if(o===null)return null;const d=new iN(this,o,t,n);return this._bindAction(d,h),this._addInactiveAction(d,c,a),d},existingAction:function(e,t){const n=t||this._root,i=n.uuid,a=typeof e=="string"?bi.findByName(n,e):e,o=a?a.uuid:e,c=this._actionsByClip[o];return c!==void 0&&c.actionByRoot[i]||null},stopAllAction:function(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let h=0;h!==n;++h)t[h]._update(i,e,a,o);const c=this._bindings,u=this._nActiveBindings;for(let h=0;h!==u;++h)c[h].apply(o);return this},setTime:function(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,a=i[n];if(a!==void 0){const o=a.knownActions;for(let c=0,u=o.length;c!==u;++c){const h=o[c];this._deactivateAction(h);const d=h._cacheIndex,m=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,m._cacheIndex=d,t[d]=m,t.pop(),this._removeInactiveBindingsForAction(h)}delete i[n]}},uncacheRoot:function(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const c=n[o].actionByRoot,u=c[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const o in a){const c=a[o];c.restoreOriginalState(),this._removeInactiveBinding(c)}},uncacheAction:function(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}});class Wd{constructor(t){typeof t=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new Wd(this.value.clone===void 0?this.value:this.value.clone())}}function Py(e,t,n){ni.call(this,e,t),this.meshPerAttribute=n||1}Py.prototype=Object.assign(Object.create(ni.prototype),{constructor:Py,isInstancedInterleavedBuffer:!0,copy:function(e){return ni.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=ni.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=ni.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}});function Iv(e,t,n,i,a){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=a,this.version=0}Object.defineProperty(Iv.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Iv.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}});function Fv(e,t,n,i){this.ray=new yl(e,t),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new dv,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function ew(e,t){return e.distance-t.distance}function Ny(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),i===!0){const a=e.children;for(let o=0,c=a.length;o<c;o++)Ny(a[o],t,n,!0)}}Object.assign(Fv.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){const i=n||[];return Ny(e,this,i,t),i.sort(ew),i},intersectObjects:function(e,t,n){const i=n||[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let a=0,o=e.length;a<o;a++)Ny(e[a],this,i,t);return i.sort(ew),i}});class sN{constructor(t=1,n=0,i=0){return this.radius=t,this.phi=n,this.theta=i,this}set(t,n,i){return this.radius=t,this.phi=n,this.theta=i,this}clone(){return new this.constructor().copy(this)}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,n,i){return this.radius=Math.sqrt(t*t+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(ne.clamp(n/this.radius,-1,1))),this}}class rN{constructor(t,n,i){return this.radius=t!==void 0?t:1,this.theta=n!==void 0?n:0,this.y=i!==void 0?i:0,this}set(t,n,i){return this.radius=t,this.theta=n,this.y=i,this}clone(){return new this.constructor().copy(this)}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,n,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=n,this}}const nw=new ct;class KT{constructor(t,n){Object.defineProperty(this,"isBox2",{value:!0}),this.min=t!==void 0?t:new ct(1/0,1/0),this.max=n!==void 0?n:new ct(-1/0,-1/0)}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromPoints(t){this.makeEmpty();for(let n=0,i=t.length;n<i;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){const i=nw.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return t===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new ct),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return t===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new ct),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,n){return n===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),n=new ct),n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,n){return n===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),n=new ct),n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return nw.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const iw=new D,Nh=new D;class $T{constructor(t,n){this.start=t!==void 0?t:new D,this.end=n!==void 0?n:new D}set(t,n){return this.start.copy(t),this.end.copy(n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new D),t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),t=new D),t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,n){return n===void 0&&(console.warn("THREE.Line3: .at() target is now required"),n=new D),this.delta(n).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,n){iw.subVectors(t,this.start),Nh.subVectors(this.end,this.start);const i=Nh.dot(Nh);let o=Nh.dot(iw)/i;return n&&(o=ne.clamp(o,0,1)),o}closestPointToPoint(t,n,i){const a=this.closestPointToPointParameter(t,n);return i===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),i=new D),this.delta(i).multiplyScalar(a).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}function yu(e){zt.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}yu.prototype=Object.create(zt.prototype);yu.prototype.constructor=yu;yu.prototype.isImmediateRenderObject=!0;const sw=new D;class aN extends zt{constructor(t,n){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const i=new Ft,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let c=0,u=1,h=32;c<h;c++,u++){const d=c/h*Math.PI*2,m=u/h*Math.PI*2;a.push(Math.cos(d),Math.sin(d),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new wt(a,3));const o=new Ge({fog:!1,toneMapped:!1});this.cone=new Vn(i,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const t=this.light.distance?this.light.distance:1e3,n=t*Math.tan(this.light.angle);this.cone.scale.set(n,n,t),sw.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(sw),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const xr=new D,Bh=new re,Og=new re;class tE extends Vn{constructor(t){const n=eE(t),i=new Ft,a=[],o=[],c=new Ct(0,0,1),u=new Ct(0,1,0);for(let d=0;d<n.length;d++){const m=n[d];m.parent&&m.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),o.push(c.r,c.g,c.b),o.push(u.r,u.g,u.b))}i.setAttribute("position",new wt(a,3)),i.setAttribute("color",new wt(o,3));const h=new Ge({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,h),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=n,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const n=this.bones,i=this.geometry,a=i.getAttribute("position");Og.getInverse(this.root.matrixWorld);for(let o=0,c=0;o<n.length;o++){const u=n[o];u.parent&&u.parent.isBone&&(Bh.multiplyMatrices(Og,u.matrixWorld),xr.setFromMatrixPosition(Bh),a.setXYZ(c,xr.x,xr.y,xr.z),Bh.multiplyMatrices(Og,u.parent.matrixWorld),xr.setFromMatrixPosition(Bh),a.setXYZ(c+1,xr.x,xr.y,xr.z),c+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}function eE(e){const t=[];e&&e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,eE(e.children[n]));return t}class oN extends ze{constructor(t,n,i){const a=new kd(n,4,2),o=new wi({wireframe:!0,fog:!1,toneMapped:!1});super(a,o),this.light=t,this.light.updateMatrixWorld(),this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const lN=new D,rw=new Ct,aw=new Ct;class cN extends zt{constructor(t,n,i){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;const a=new Fd(n);a.rotateY(Math.PI*.5),this.material=new wi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=a.getAttribute("position"),c=new Float32Array(o.count*3);a.setAttribute("color",new qt(c,3)),this.add(new ze(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=t.geometry.getAttribute("color");rw.copy(this.light.color),aw.copy(this.light.groundColor);for(let i=0,a=n.count;i<a;i++){const o=i<a/2?rw:aw;n.setXYZ(i,o.r,o.g,o.b)}n.needsUpdate=!0}t.lookAt(lN.setFromMatrixPosition(this.light.matrixWorld).negate())}}class nE extends Vn{constructor(t,n,i,a){t=t||10,n=n||10,i=new Ct(i!==void 0?i:4473924),a=new Ct(a!==void 0?a:8947848);const o=n/2,c=t/n,u=t/2,h=[],d=[];for(let y=0,v=0,_=-u;y<=n;y++,_+=c){h.push(-u,0,_,u,0,_),h.push(_,0,-u,_,0,u);const S=y===o?i:a;S.toArray(d,v),v+=3,S.toArray(d,v),v+=3,S.toArray(d,v),v+=3,S.toArray(d,v),v+=3}const m=new Ft;m.setAttribute("position",new wt(h,3)),m.setAttribute("color",new wt(d,3));const p=new Ge({vertexColors:!0,toneMapped:!1});super(m,p),this.type="GridHelper"}}class uN extends Vn{constructor(t,n,i,a,o,c){t=t||10,n=n||16,i=i||8,a=a||64,o=new Ct(o!==void 0?o:4473924),c=new Ct(c!==void 0?c:8947848);const u=[],h=[];for(let p=0;p<=n;p++){const y=p/n*(Math.PI*2),v=Math.sin(y)*t,_=Math.cos(y)*t;u.push(0,0,0),u.push(v,0,_);const S=p&1?o:c;h.push(S.r,S.g,S.b),h.push(S.r,S.g,S.b)}for(let p=0;p<=i;p++){const y=p&1?o:c,v=t-t/i*p;for(let _=0;_<a;_++){let S=_/a*(Math.PI*2),w=Math.sin(S)*v,M=Math.cos(S)*v;u.push(w,0,M),h.push(y.r,y.g,y.b),S=(_+1)/a*(Math.PI*2),w=Math.sin(S)*v,M=Math.cos(S)*v,u.push(w,0,M),h.push(y.r,y.g,y.b)}}const d=new Ft;d.setAttribute("position",new wt(u,3)),d.setAttribute("color",new wt(h,3));const m=new Ge({vertexColors:!0,toneMapped:!1});super(d,m),this.type="PolarGridHelper"}}const ow=new D,zh=new D,lw=new D;class fN extends zt{constructor(t,n,i){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,n===void 0&&(n=1);let a=new Ft;a.setAttribute("position",new wt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Ge({fog:!1,toneMapped:!1});this.lightPlane=new Ti(a,o),this.add(this.lightPlane),a=new Ft,a.setAttribute("position",new wt([0,0,0,0,0,1],3)),this.targetLine=new Ti(a,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){ow.setFromMatrixPosition(this.light.matrixWorld),zh.setFromMatrixPosition(this.light.target.matrixWorld),lw.subVectors(zh,ow),this.lightPlane.lookAt(zh),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(zh),this.targetLine.scale.z=lw.length()}}const Uh=new D,Ye=new is;class hN extends Vn{constructor(t){const n=new Ft,i=new Ge({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],o=[],c={},u=new Ct(16755200),h=new Ct(16711680),d=new Ct(43775),m=new Ct(16777215),p=new Ct(3355443);y("n1","n2",u),y("n2","n4",u),y("n4","n3",u),y("n3","n1",u),y("f1","f2",u),y("f2","f4",u),y("f4","f3",u),y("f3","f1",u),y("n1","f1",u),y("n2","f2",u),y("n3","f3",u),y("n4","f4",u),y("p","n1",h),y("p","n2",h),y("p","n3",h),y("p","n4",h),y("u1","u2",d),y("u2","u3",d),y("u3","u1",d),y("c","t",m),y("p","c",p),y("cn1","cn2",p),y("cn3","cn4",p),y("cf1","cf2",p),y("cf3","cf4",p);function y(_,S,w){v(_,w),v(S,w)}function v(_,S){a.push(0,0,0),o.push(S.r,S.g,S.b),c[_]===void 0&&(c[_]=[]),c[_].push(a.length/3-1)}n.setAttribute("position",new wt(a,3)),n.setAttribute("color",new wt(o,3)),super(n,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=c,this.update()}update(){const t=this.geometry,n=this.pointMap,i=1,a=1;Ye.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ke("c",n,t,Ye,0,0,-1),Ke("t",n,t,Ye,0,0,1),Ke("n1",n,t,Ye,-1,-1,-1),Ke("n2",n,t,Ye,i,-1,-1),Ke("n3",n,t,Ye,-1,a,-1),Ke("n4",n,t,Ye,i,a,-1),Ke("f1",n,t,Ye,-1,-1,1),Ke("f2",n,t,Ye,i,-1,1),Ke("f3",n,t,Ye,-1,a,1),Ke("f4",n,t,Ye,i,a,1),Ke("u1",n,t,Ye,i*.7,a*1.1,-1),Ke("u2",n,t,Ye,-1*.7,a*1.1,-1),Ke("u3",n,t,Ye,0,a*2,-1),Ke("cf1",n,t,Ye,-1,0,1),Ke("cf2",n,t,Ye,i,0,1),Ke("cf3",n,t,Ye,0,-1,1),Ke("cf4",n,t,Ye,0,a,1),Ke("cn1",n,t,Ye,-1,0,-1),Ke("cn2",n,t,Ye,i,0,-1),Ke("cn3",n,t,Ye,0,-1,-1),Ke("cn4",n,t,Ye,0,a,-1),t.getAttribute("position").needsUpdate=!0}}function Ke(e,t,n,i,a,o,c){Uh.set(a,o,c).unproject(i);const u=t[e];if(u!==void 0){const h=n.getAttribute("position");for(let d=0,m=u.length;d<m;d++)h.setXYZ(u[d],Uh.x,Uh.y,Uh.z)}}const Vh=new cs;class iE extends Vn{constructor(t,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(8*3),o=new Ft;o.setIndex(new qt(i,1)),o.setAttribute("position",new qt(a,3)),super(o,new Ge({color:n,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(t!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Vh.setFromObject(this.object),Vh.isEmpty())return;const n=Vh.min,i=Vh.max,a=this.geometry.attributes.position,o=a.array;o[0]=i.x,o[1]=i.y,o[2]=i.z,o[3]=n.x,o[4]=i.y,o[5]=i.z,o[6]=n.x,o[7]=n.y,o[8]=i.z,o[9]=i.x,o[10]=n.y,o[11]=i.z,o[12]=i.x,o[13]=i.y,o[14]=n.z,o[15]=n.x,o[16]=i.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=i.x,o[22]=n.y,o[23]=n.z,a.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t){return Vn.prototype.copy.call(this,t),this.object=t.object,this}}class dN extends Vn{constructor(t,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Ft;o.setIndex(new qt(i,1)),o.setAttribute("position",new wt(a,3)),super(o,new Ge({color:n,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}}class pN extends Ti{constructor(t,n,i){const a=i!==void 0?i:16776960,o=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],c=new Ft;c.setAttribute("position",new wt(o,3)),c.computeBoundingSphere(),super(c,new Ge({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=n===void 0?1:n;const u=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],h=new Ft;h.setAttribute("position",new wt(u,3)),h.computeBoundingSphere(),this.add(new ze(h,new wi({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){let n=-this.plane.constant;Math.abs(n)<1e-8&&(n=1e-8),this.scale.set(.5*this.size,.5*this.size,n),this.children[0].material.side=n<0?on:dl,this.lookAt(this.plane.normal),super.updateMatrixWorld(t)}}const cw=new D;let Gh,Pg;class mN extends zt{constructor(t,n,i,a,o,c){super(),this.type="ArrowHelper",t===void 0&&(t=new D(0,0,1)),n===void 0&&(n=new D(0,0,0)),i===void 0&&(i=1),a===void 0&&(a=16776960),o===void 0&&(o=.2*i),c===void 0&&(c=.2*o),Gh===void 0&&(Gh=new Ft,Gh.setAttribute("position",new wt([0,0,0,0,1,0],3)),Pg=new Bu(0,.5,1,5,1),Pg.translate(0,-.5,0)),this.position.copy(n),this.line=new Ti(Gh,new Ge({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ze(Pg,new wi({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,o,c)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{cw.set(t.z,0,-t.x).normalize();const n=Math.acos(t.y);this.quaternion.setFromAxisAngle(cw,n)}}setLength(t,n,i){n===void 0&&(n=.2*t),i===void 0&&(i=.2*n),this.line.scale.set(1,Math.max(1e-4,t-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}}class sE extends Vn{constructor(t=1){const n=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new Ft;a.setAttribute("position",new wt(n,3)),a.setAttribute("color",new wt(i,3));const o=new Ge({vertexColors:!0,toneMapped:!1});super(a,o),this.type="AxesHelper"}}const Jo=4,Er=8,Ji=Math.pow(2,Er),rE=[.125,.215,.35,.446,.526,.582],aE=Er-Jo+1+rE.length,zo=20,$i={[zn]:0,[Lu]:1,[Ud]:2,[uv]:3,[fv]:4,[hv]:5,[zd]:6},Ng=new ul,{_lodPlanes:Dc,_sizeLods:uw,_sigmas:Hh}=vN();let Bg=null;const ha=(1+Math.sqrt(5))/2,Uo=1/ha,fw=[new D(1,1,1),new D(-1,1,1),new D(1,1,-1),new D(-1,1,-1),new D(0,ha,Uo),new D(0,ha,-Uo),new D(Uo,0,ha),new D(-Uo,0,ha),new D(ha,Uo,0),new D(-ha,Uo,0)];class gN{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=xN(zo),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(t,n=0,i=.1,a=100){Bg=this._renderer.getRenderTarget();const o=this._allocateTargets();return this._sceneToCubeUV(t,i,a,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(t){return this._fromTexture(t)}fromCubemap(t){return this._fromTexture(t)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=pw(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=dw(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let t=0;t<Dc.length;t++)Dc[t].dispose()}_cleanup(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Bg),t.scissorTest=!1,Ih(t,0,0,t.width,t.height)}_fromTexture(t){Bg=this._renderer.getRenderTarget();const n=this._allocateTargets(t);return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(t){const n={magFilter:ln,minFilter:ln,generateMipmaps:!1,type:gl,format:vS,encoding:yN(t)?t.encoding:Ud,depthBuffer:!1},i=hw(n);return i.depthBuffer=!t,this._pingPongRenderTarget=hw(n),i}_compileMaterial(t){const n=new ze(Dc[0],t);this._renderer.compile(n,Ng)}_sceneToCubeUV(t,n,i,a){const u=new nn(90,1,n,i),h=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],m=this._renderer,p=m.outputEncoding,y=m.toneMapping,v=m.getClearColor(),_=m.getClearAlpha();m.toneMapping=xa,m.outputEncoding=zn;let S=t.background;if(S&&S.isColor){S.convertSRGBToLinear();const w=Math.max(S.r,S.g,S.b),M=Math.min(Math.max(Math.ceil(Math.log2(w)),-128),127);S=S.multiplyScalar(Math.pow(2,-M));const b=(M+128)/255;m.setClearColor(S,b),t.background=null}for(let w=0;w<6;w++){const M=w%3;M==0?(u.up.set(0,h[w],0),u.lookAt(d[w],0,0)):M==1?(u.up.set(0,0,h[w]),u.lookAt(0,d[w],0)):(u.up.set(0,h[w],0),u.lookAt(0,0,d[w])),Ih(a,M*Ji,w>2?Ji:0,Ji,Ji),m.setRenderTarget(a),m.render(t,u)}m.toneMapping=y,m.outputEncoding=p,m.setClearColor(v,_)}_textureToCubeUV(t,n){const i=this._renderer;t.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=pw()):this._equirectShader==null&&(this._equirectShader=dw());const a=t.isCubeTexture?this._cubemapShader:this._equirectShader,o=new ze(Dc[0],a),c=a.uniforms;c.envMap.value=t,t.isCubeTexture||c.texelSize.value.set(1/t.image.width,1/t.image.height),c.inputEncoding.value=$i[t.encoding],c.outputEncoding.value=$i[n.texture.encoding],Ih(n,0,0,3*Ji,2*Ji),i.setRenderTarget(n),i.render(o,Ng)}_applyPMREM(t){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let a=1;a<aE;a++){const o=Math.sqrt(Hh[a]*Hh[a]-Hh[a-1]*Hh[a-1]),c=fw[(a-1)%fw.length];this._blur(t,a-1,a,o,c)}n.autoClear=i}_blur(t,n,i,a,o){const c=this._pingPongRenderTarget;this._halfBlur(t,c,n,i,a,"latitudinal",o),this._halfBlur(c,t,i,i,a,"longitudinal",o)}_halfBlur(t,n,i,a,o,c,u){const h=this._renderer,d=this._blurMaterial;c!=="latitudinal"&&c!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,p=new ze(Dc[a],d),y=d.uniforms,v=uw[i]-1,_=isFinite(o)?Math.PI/(2*v):2*Math.PI/(2*zo-1),S=o/_,w=isFinite(o)?1+Math.floor(m*S):zo;w>zo&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${zo}`);const M=[];let b=0;for(let A=0;A<zo;++A){const O=A/S,P=Math.exp(-O*O/2);M.push(P),A==0?b+=P:A<w&&(b+=2*P)}for(let A=0;A<M.length;A++)M[A]=M[A]/b;y.envMap.value=t.texture,y.samples.value=w,y.weights.value=M,y.latitudinal.value=c==="latitudinal",u&&(y.poleAxis.value=u),y.dTheta.value=_,y.mipInt.value=Er-i,y.inputEncoding.value=$i[t.texture.encoding],y.outputEncoding.value=$i[t.texture.encoding];const T=uw[a],R=3*Math.max(0,Ji-2*T),C=(a===0?0:2*Ji)+2*T*(a>Er-Jo?a-Er+Jo:0);Ih(n,R,C,3*T,2*T),h.setRenderTarget(n),h.render(p,Ng)}}function yN(e){return e===void 0||e.type!==gl?!1:e.encoding===zn||e.encoding===Lu||e.encoding===zd}function vN(){const e=[],t=[],n=[];let i=Er;for(let a=0;a<aE;a++){const o=Math.pow(2,i);t.push(o);let c=1/o;a>Er-Jo?c=rE[a-Er+Jo-1]:a==0&&(c=0),n.push(c);const u=1/(o-1),h=-u/2,d=1+u/2,m=[h,h,d,h,d,d,h,h,d,d,h,d],p=6,y=6,v=3,_=2,S=1,w=new Float32Array(v*y*p),M=new Float32Array(_*y*p),b=new Float32Array(S*y*p);for(let R=0;R<p;R++){const C=R%3*2/3-1,A=R>2?0:-1,O=[C,A,0,C+2/3,A,0,C+2/3,A+1,0,C,A,0,C+2/3,A+1,0,C,A+1,0];w.set(O,v*y*R),M.set(m,_*y*R);const P=[R,R,R,R,R,R];b.set(P,S*y*R)}const T=new Ft;T.setAttribute("position",new qt(w,v)),T.setAttribute("uv",new qt(M,_)),T.setAttribute("faceIndex",new qt(b,S)),e.push(T),i>Jo&&i--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function hw(e){const t=new si(3*Ji,3*Ji,e);return t.texture.mapping=pl,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function Ih(e,t,n,i,a){e.viewport.set(t,n,i,a),e.scissor.set(t,n,i,a)}function xN(e){const t=new Float32Array(e),n=new D(0,1,0);return new zs({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:$i[zn]},outputEncoding:{value:$i[zn]}},vertexShader:kv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${Wv()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Ns,depthTest:!1,depthWrite:!1})}function dw(){const e=new ct(1,1);return new zs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:$i[zn]},outputEncoding:{value:$i[zn]}},vertexShader:kv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${Wv()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Ns,depthTest:!1,depthWrite:!1})}function pw(){return new zs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:$i[zn]},outputEncoding:{value:$i[zn]}},vertexShader:kv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${Wv()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Ns,depthTest:!1,depthWrite:!1})}function kv(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Wv(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function bN(e,t,n,i,a,o,c){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new $c(e,t,n,a,o,c)}const _N=0,MN=1,wN=0,SN=1,TN=2;function EN(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function AN(e){return e===void 0&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function RN(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new il(e,t)}function CN(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new au(e)}function LN(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new il(e,t)}function DN(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Vi(e)}function ON(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Vi(e)}function PN(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Vi(e)}function NN(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new D(e,t,n)}function BN(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new qt(e,t).setUsage(wa)}function zN(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new tu(e,t)}function UN(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new eu(e,t)}function VN(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new nu(e,t)}function GN(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new iu(e,t)}function HN(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Sa(e,t)}function IN(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new su(e,t)}function FN(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Ta(e,t)}function kN(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new wt(e,t)}function WN(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new ru(e,t)}Ht.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Ht.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e};Object.assign(Ps.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=new Ae;for(let n=0,i=e.length;n<i;n++){const a=e[n];t.vertices.push(new D(a.x,a.y,a.z||0))}return t}});Object.assign(Ui.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}});function oE(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ln.call(this,e),this.type="catmullrom",this.closed=!0}oE.prototype=Object.create(Ln.prototype);function lE(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ln.call(this,e),this.type="catmullrom"}lE.prototype=Object.create(Ln.prototype);function jv(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Ln.call(this,e),this.type="catmullrom"}jv.prototype=Object.create(Ln.prototype);Object.assign(jv.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});function jN(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new sE(e)}function qN(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new iE(e,t)}function XN(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Vn(new vv(e.geometry),new Ge({color:t!==void 0?t:16777215}))}nE.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};tE.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function YN(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Vn(new Lv(e.geometry),new Ge({color:t!==void 0?t:16777215}))}Object.assign(_e.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Pv.extractUrlBase(e)}});_e.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function ZN(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Ei(e)}function QN(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new yd(e)}Object.assign(KT.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(cs.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(Hs.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}});Pu.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)};$T.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)};Object.assign(ne,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),ne.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),ne.ceilPowerOfTwo(e)}});Object.assign(Nn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(re.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new D().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,a,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,a,o)}});Ki.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)};Rn.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)};Object.assign(yl.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}});Object.assign(bn.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}});Object.assign(bn,{barycoordFromPoint:function(e,t,n,i,a){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),bn.getBarycoord(e,t,n,i,a)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),bn.getNormal(e,t,n,i)}});Object.assign(Tr.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new xv(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Sv(this,e)}});Object.assign(ct.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(D.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Ee.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Ae.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.assign(zt.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(zt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign(ze.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties(ze.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),sT},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(ou.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(od.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});ad.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(Ht.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}});nn.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(e)};Object.defineProperties(Oe.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}});Object.defineProperties(qt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===wa},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(wa)}}});Object.assign(qt.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?wa:Du),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(Ft.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new qt(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t)},addDrawCall:function(e,t,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(Ft.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(gu.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}});Object.defineProperties(Fv.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}});Object.defineProperties(ni.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===wa},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}});Object.assign(ni.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?wa:Du),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(zu.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.assign(pv.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}});Object.defineProperties(Wd.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(Qt.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Ct}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===rv}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}});Object.defineProperties(Br.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(Nr.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}});Object.defineProperties(Un.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}});Object.assign(Nu.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties(Nu.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?Lu:zn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(MT.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function JN(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Rr(e,n)}Object.defineProperties(si.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}});Object.defineProperties(Uv.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return new Rd().load(e,function(i){t.setBuffer(i)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});ZT.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};tl.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};const KN={merge:function(e,t,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");let i;t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),i=t.matrix,t=t.geometry),e.merge(t,i,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};Ar.crossOrigin=void 0;Ar.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const a=new vd;a.setCrossOrigin(this.crossOrigin);const o=a.load(e,n,void 0,i);return t&&(o.mapping=t),o};Ar.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const a=new gd;a.setCrossOrigin(this.crossOrigin);const o=a.load(e,n,void 0,i);return t&&(o.mapping=t),o};Ar.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Ar.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function $N(){console.error("THREE.CanvasRenderer has been removed")}function tB(){console.error("THREE.JSONLoader has been removed.")}const eB={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function nB(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:P1}}));const iB=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:oS,AddEquation:pa,AddOperation:iS,AdditiveAnimationBlendMode:cv,AdditiveBlending:Jg,AlphaFormat:mS,AlwaysDepth:Q1,AlwaysStencilFunc:cT,AmbientLight:wd,AmbientLightProbe:Dy,AnimationClip:bi,AnimationLoader:My,AnimationMixer:Oy,AnimationObjectGroup:JT,AnimationUtils:Be,ArcCurve:cl,ArrayCamera:rd,ArrowHelper:mN,Audio:Uv,AudioAnalyser:ZT,AudioContext:zv,AudioListener:qP,AudioLoader:Rd,AxesHelper:sE,AxisHelper:jN,BackSide:on,BasicDepthPacking:aT,BasicShadowMap:xR,BinaryTextureLoader:QN,Bone:gy,BooleanKeyframeTrack:hd,BoundingBoxHelper:qN,Box2:KT,Box3:cs,Box3Helper:dN,BoxBufferGeometry:Ou,BoxGeometry:xy,BoxHelper:iE,BufferAttribute:qt,BufferGeometry:Ft,BufferGeometryLoader:Ad,ByteType:cS,Cache:Pa,Camera:is,CameraHelper:hN,CanvasRenderer:$N,CanvasTexture:lu,CatmullRomCurve3:Ln,CineonToneMapping:aS,CircleBufferGeometry:mv,CircleGeometry:ET,ClampToEdgeWrapping:Pn,Clock:YT,ClosedSplineCurve3:oE,Color:Ct,ColorKeyframeTrack:dd,CompressedTexture:sl,CompressedTextureLoader:wy,ConeBufferGeometry:RT,ConeGeometry:AT,CubeCamera:tl,CubeGeometry:xy,CubeReflectionMapping:Au,CubeRefractionMapping:Ru,CubeTexture:ss,CubeTextureLoader:gd,CubeUVReflectionMapping:pl,CubeUVRefractionMapping:Cu,CubicBezierCurve:Gi,CubicBezierCurve3:as,CubicInterpolant:ud,CullFaceBack:Qg,CullFaceFront:B1,CullFaceFrontBack:vR,CullFaceNone:N1,Curve:Ht,CurvePath:Ps,CustomBlending:U1,CustomToneMapping:lS,CylinderBufferGeometry:Bu,CylinderGeometry:gv,Cylindrical:rN,DataTexture:Ea,DataTexture2DArray:el,DataTexture3D:nl,DataTextureLoader:yd,DecrementStencilOp:LR,DecrementWrapStencilOp:OR,DefaultLoadingManager:jT,DepthFormat:ba,DepthStencilFormat:Ko,DepthTexture:cu,DirectionalLight:Md,DirectionalLightHelper:fN,DiscreteInterpolant:fd,DodecahedronBufferGeometry:yv,DodecahedronGeometry:CT,DoubleSide:Tu,DstAlphaFactor:W1,DstColorFactor:q1,DynamicBufferAttribute:BN,DynamicCopyUsage:qR,DynamicDrawUsage:wa,DynamicReadUsage:kR,EdgesGeometry:vv,EdgesHelper:XN,EllipseCurve:oi,EqualDepth:K1,EqualStencilFunc:zR,EquirectangularReflectionMapping:ed,EquirectangularRefractionMapping:nd,Euler:vl,EventDispatcher:ls,ExtrudeBufferGeometry:zu,ExtrudeGeometry:xv,Face3:$c,Face4:bN,FaceColors:SN,FileLoader:Ei,FlatShading:rv,Float32Attribute:kN,Float32BufferAttribute:wt,Float64Attribute:WN,Float64BufferAttribute:ru,FloatType:Os,Fog:Hd,FogExp2:Gd,Font:Bv,FontLoader:Cy,FrontSide:dl,Frustum:Pu,GLBufferAttribute:Iv,GLSL1:YR,GLSL3:hy,GammaEncoding:zd,Geometry:Ae,GeometryUtils:KN,GreaterDepth:tS,GreaterEqualDepth:$1,GreaterEqualStencilFunc:HR,GreaterStencilFunc:VR,GridHelper:nE,Group:Mr,HalfFloatType:Qc,HemisphereLight:xd,HemisphereLightHelper:cN,HemisphereLightProbe:Ly,IcosahedronBufferGeometry:bv,IcosahedronGeometry:PT,ImageBitmapLoader:Ry,ImageLoader:ll,ImageUtils:Ar,ImmediateRenderObject:yu,IncrementStencilOp:CR,IncrementWrapStencilOp:DR,InstancedBufferAttribute:Ed,InstancedBufferGeometry:gu,InstancedInterleavedBuffer:Py,InstancedMesh:ld,Int16Attribute:GN,Int16BufferAttribute:iu,Int32Attribute:IN,Int32BufferAttribute:su,Int8Attribute:zN,Int8BufferAttribute:tu,IntType:fS,InterleavedBuffer:ni,InterleavedBufferAttribute:Dr,Interpolant:ri,InterpolateDiscrete:Jc,InterpolateLinear:Uc,InterpolateSmooth:Xh,InvertStencilOp:PR,JSONLoader:tB,KeepStencilOp:Yh,KeyframeTrack:_n,LOD:ou,LatheBufferGeometry:_v,LatheGeometry:NT,Layers:dv,LensFlare:nB,LessDepth:J1,LessEqualDepth:td,LessEqualStencilFunc:UR,LessStencilFunc:BR,Light:Oe,LightProbe:_i,Line:Ti,Line3:$T,LineBasicMaterial:Ge,LineCurve:jn,LineCurve3:Hi,LineDashedMaterial:Oa,LineLoop:cd,LinePieces:MN,LineSegments:Vn,LineStrip:_N,LinearEncoding:zn,LinearFilter:dn,LinearInterpolant:pu,LinearMipMapLinearFilter:SR,LinearMipMapNearestFilter:wR,LinearMipmapLinearFilter:ml,LinearMipmapNearestFilter:lv,LinearToneMapping:sS,Loader:_e,LoaderUtils:Pv,LoadingManager:Dv,LogLuvEncoding:rT,LoopOnce:eT,LoopPingPong:iT,LoopRepeat:nT,LuminanceAlphaFormat:yS,LuminanceFormat:gS,MOUSE:gR,Material:Qt,MaterialLoader:Td,Math:ne,MathUtils:ne,Matrix3:Nn,Matrix4:re,MaxEquation:ey,Mesh:ze,MeshBasicMaterial:wi,MeshDepthMaterial:Cr,MeshDistanceMaterial:Lr,MeshFaceMaterial:EN,MeshLambertMaterial:La,MeshMatcapMaterial:Da,MeshNormalMaterial:Ca,MeshPhongMaterial:Br,MeshPhysicalMaterial:Nr,MeshStandardMaterial:rs,MeshToonMaterial:Ra,MinEquation:ty,MirroredRepeatWrapping:Yc,MixOperation:nS,MultiMaterial:AN,MultiplyBlending:$g,MultiplyOperation:Eu,NearestFilter:ln,NearestMipMapLinearFilter:MR,NearestMipMapNearestFilter:_R,NearestMipmapLinearFilter:sd,NearestMipmapNearestFilter:id,NeverDepth:Z1,NeverStencilFunc:NR,NoBlending:Ns,NoColors:wN,NoToneMapping:xa,NormalAnimationBlendMode:Bd,NormalBlending:Zo,NotEqualDepth:eS,NotEqualStencilFunc:GR,NumberKeyframeTrack:al,Object3D:zt,ObjectLoader:IP,ObjectSpaceNormalMap:lT,OctahedronBufferGeometry:Fd,OctahedronGeometry:BT,OneFactor:I1,OneMinusDstAlphaFactor:j1,OneMinusDstColorFactor:X1,OneMinusSrcAlphaFactor:ov,OneMinusSrcColorFactor:k1,OrthographicCamera:ul,PCFShadowMap:sv,PCFSoftShadowMap:z1,PMREMGenerator:gN,ParametricBufferGeometry:rl,ParametricGeometry:du,Particle:CN,ParticleBasicMaterial:ON,ParticleSystem:LN,ParticleSystemMaterial:PN,Path:Ui,PerspectiveCamera:nn,Plane:Ki,PlaneBufferGeometry:Vd,PlaneGeometry:zT,PlaneHelper:pN,PointCloud:RN,PointCloudMaterial:DN,PointLight:_d,PointLightHelper:oN,Points:il,PointsMaterial:Vi,PolarGridHelper:uN,PolyhedronBufferGeometry:Ba,PolyhedronGeometry:UT,PositionalAudio:YP,PropertyBinding:Cn,PropertyMixer:Vv,QuadraticBezierCurve:Ii,QuadraticBezierCurve3:os,Quaternion:Rn,QuaternionKeyframeTrack:mu,QuaternionLinearInterpolant:pd,REVISION:P1,RGBADepthPacking:oT,RGBAFormat:ii,RGBAIntegerFormat:SS,RGBA_ASTC_10x10_Format:US,RGBA_ASTC_10x5_Format:NS,RGBA_ASTC_10x6_Format:BS,RGBA_ASTC_10x8_Format:zS,RGBA_ASTC_12x10_Format:VS,RGBA_ASTC_12x12_Format:GS,RGBA_ASTC_4x4_Format:ES,RGBA_ASTC_5x4_Format:AS,RGBA_ASTC_5x5_Format:RS,RGBA_ASTC_6x5_Format:CS,RGBA_ASTC_6x6_Format:LS,RGBA_ASTC_8x5_Format:DS,RGBA_ASTC_8x6_Format:OS,RGBA_ASTC_8x8_Format:PS,RGBA_BPTC_Format:HS,RGBA_ETC2_EAC_Format:fy,RGBA_PVRTC_2BPPV1_Format:cy,RGBA_PVRTC_4BPPV1_Format:ly,RGBA_S3TC_DXT1_Format:iy,RGBA_S3TC_DXT3_Format:sy,RGBA_S3TC_DXT5_Format:ry,RGBDEncoding:hv,RGBEEncoding:Ud,RGBEFormat:vS,RGBFormat:wr,RGBIntegerFormat:wS,RGBM16Encoding:fv,RGBM7Encoding:uv,RGB_ETC1_Format:TS,RGB_ETC2_Format:uy,RGB_PVRTC_2BPPV1_Format:oy,RGB_PVRTC_4BPPV1_Format:ay,RGB_S3TC_DXT1_Format:ny,RGFormat:_S,RGIntegerFormat:MS,RawShaderMaterial:zs,Ray:yl,Raycaster:Fv,RectAreaLight:Sd,RedFormat:xS,RedIntegerFormat:bS,ReinhardToneMapping:rS,RepeatWrapping:Xc,ReplaceStencilOp:RR,ReverseSubtractEquation:G1,RingBufferGeometry:Mv,RingGeometry:VT,SRGB8_ALPHA8_ASTC_10x10_Format:KS,SRGB8_ALPHA8_ASTC_10x5_Format:ZS,SRGB8_ALPHA8_ASTC_10x6_Format:QS,SRGB8_ALPHA8_ASTC_10x8_Format:JS,SRGB8_ALPHA8_ASTC_12x10_Format:$S,SRGB8_ALPHA8_ASTC_12x12_Format:tT,SRGB8_ALPHA8_ASTC_4x4_Format:IS,SRGB8_ALPHA8_ASTC_5x4_Format:FS,SRGB8_ALPHA8_ASTC_5x5_Format:kS,SRGB8_ALPHA8_ASTC_6x5_Format:WS,SRGB8_ALPHA8_ASTC_6x6_Format:jS,SRGB8_ALPHA8_ASTC_8x5_Format:qS,SRGB8_ALPHA8_ASTC_8x6_Format:XS,SRGB8_ALPHA8_ASTC_8x8_Format:YS,Scene:pv,SceneUtils:eB,ShaderChunk:fe,ShaderLib:zi,ShaderMaterial:Un,ShadowMaterial:Aa,Shape:Tr,ShapeBufferGeometry:wv,ShapeGeometry:Sv,ShapePath:Nv,ShapeUtils:Bs,ShortType:uS,Skeleton:od,SkeletonHelper:tE,SkinnedMesh:ad,SmoothShading:bR,Sphere:Hs,SphereBufferGeometry:kd,SphereGeometry:GT,Spherical:sN,SphericalHarmonics3:qT,Spline:jv,SplineCurve:Fi,SplineCurve3:lE,SpotLight:bd,SpotLightHelper:aN,Sprite:au,SpriteMaterial:Or,SrcAlphaFactor:av,SrcAlphaSaturateFactor:Y1,SrcColorFactor:F1,StaticCopyUsage:jR,StaticDrawUsage:Du,StaticReadUsage:FR,StereoCamera:XT,StreamCopyUsage:XR,StreamDrawUsage:IR,StreamReadUsage:WR,StringKeyframeTrack:md,SubtractEquation:V1,SubtractiveBlending:Kg,TOUCH:yR,TangentSpaceNormalMap:Na,TetrahedronBufferGeometry:Tv,TetrahedronGeometry:HT,TextBufferGeometry:Ev,TextGeometry:IT,Texture:Re,TextureLoader:vd,TorusBufferGeometry:Av,TorusGeometry:FT,TorusKnotBufferGeometry:Rv,TorusKnotGeometry:kT,Triangle:bn,TriangleFanDrawMode:ER,TriangleStripDrawMode:TR,TrianglesDrawMode:sT,TubeBufferGeometry:Cv,TubeGeometry:WT,UVMapping:Nd,Uint16Attribute:HN,Uint16BufferAttribute:Sa,Uint32Attribute:FN,Uint32BufferAttribute:Ta,Uint8Attribute:UN,Uint8BufferAttribute:eu,Uint8ClampedAttribute:VN,Uint8ClampedBufferAttribute:nu,Uniform:Wd,UniformsLib:Tt,UniformsUtils:dT,UnsignedByteType:gl,UnsignedInt248Type:Qo,UnsignedIntType:zc,UnsignedShort4444Type:hS,UnsignedShort5551Type:dS,UnsignedShort565Type:pS,UnsignedShortType:Zc,VSMShadowMap:Go,Vector2:ct,Vector3:D,Vector4:Ee,VectorKeyframeTrack:ol,Vertex:NN,VertexColors:TN,VideoTexture:vy,WebGL1Renderer:my,WebGLCubeRenderTarget:Rr,WebGLMultisampleRenderTarget:dy,WebGLRenderTarget:si,WebGLRenderTargetCube:JN,WebGLRenderer:Nu,WebGLUtils:wT,WireframeGeometry:Lv,WireframeHelper:YN,WrapAroundEnding:Kc,XHRLoader:ZN,ZeroCurvatureEnding:ma,ZeroFactor:H1,ZeroSlopeEnding:ga,ZeroStencilOp:AR,sRGBEncoding:Lu},Symbol.toStringTag,{value:"Module"}));var Zh={exports:{}},sB=Zh.exports,mw;function rB(){return mw||(mw=1,function(e,t){(function(n,i){e.exports=i()})(typeof self<"u"?self:sB,()=>(()=>{var n={d:(w,M)=>{for(var b in M)n.o(M,b)&&!n.o(w,b)&&Object.defineProperty(w,b,{enumerable:!0,get:M[b]})},o:(w,M)=>Object.prototype.hasOwnProperty.call(w,M),r:w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})}},i={};function a(){return typeof navigator<"u"?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<600:null}function o(w,M){return w==null&&(w=0),M==null&&(M=1),Math.floor(w+Math.random()*(M-w+1))}n.r(i),n.d(i,{default:()=>S}),Number.prototype.clamp=function(w,M){return Math.min(Math.max(this,w),M)};const c=w=>.299*w.r+.587*w.g+.114*w.b;function u(w){for(;w.children&&w.children.length>0;)u(w.children[0]),w.remove(w.children[0]);w.geometry&&w.geometry.dispose(),w.material&&(Object.keys(w.material).forEach(M=>{w.material[M]&&w.material[M]!==null&&typeof w.material[M].dispose=="function"&&w.material[M].dispose()}),w.material.dispose())}const h=typeof window=="object";let d=h&&window.THREE||{};h&&!window.VANTA&&(window.VANTA={});const m=h&&window.VANTA||{};m.register=(w,M)=>m[w]=b=>new M(b),m.version="0.5.24";const p=function(){return Array.prototype.unshift.call(arguments,"[VANTA]"),console.error.apply(this,arguments)};m.VantaBase=class{constructor(w={}){if(!h)return!1;m.current=this,this.windowMouseMoveWrapper=this.windowMouseMoveWrapper.bind(this),this.windowTouchWrapper=this.windowTouchWrapper.bind(this),this.windowGyroWrapper=this.windowGyroWrapper.bind(this),this.resize=this.resize.bind(this),this.animationLoop=this.animationLoop.bind(this),this.restart=this.restart.bind(this);const M=typeof this.getDefaultOptions=="function"?this.getDefaultOptions():this.defaultOptions;if(this.options=Object.assign({mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1},M),(w instanceof HTMLElement||typeof w=="string")&&(w={el:w}),Object.assign(this.options,w),this.options.THREE&&(d=this.options.THREE),this.el=this.options.el,this.el==null)p('Instance needs "el" param!');else if(!(this.options.el instanceof HTMLElement)){const C=this.el;if(this.el=(b=C,document.querySelector(b)),!this.el)return void p("Cannot find element",C)}var b,T;this.prepareEl(),this.initThree(),this.setSize();try{this.init()}catch(C){return p("Init error",C),this.renderer&&this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),void(this.options.backgroundColor&&(console.log("[VANTA] Falling back to backgroundColor"),this.el.style.background=(T=this.options.backgroundColor,typeof T=="number"?"#"+("00000"+T.toString(16)).slice(-6):T)))}this.initMouse(),this.resize(),this.animationLoop();const R=window.addEventListener;R("resize",this.resize),window.requestAnimationFrame(this.resize),this.options.mouseControls&&(R("scroll",this.windowMouseMoveWrapper),R("mousemove",this.windowMouseMoveWrapper)),this.options.touchControls&&(R("touchstart",this.windowTouchWrapper),R("touchmove",this.windowTouchWrapper)),this.options.gyroControls&&R("deviceorientation",this.windowGyroWrapper)}setOptions(w={}){Object.assign(this.options,w),this.triggerMouseMove()}prepareEl(){let w,M;if(typeof Node<"u"&&Node.TEXT_NODE)for(w=0;w<this.el.childNodes.length;w++){const b=this.el.childNodes[w];if(b.nodeType===Node.TEXT_NODE){const T=document.createElement("span");T.textContent=b.textContent,b.parentElement.insertBefore(T,b),b.remove()}}for(w=0;w<this.el.children.length;w++)M=this.el.children[w],getComputedStyle(M).position==="static"&&(M.style.position="relative"),getComputedStyle(M).zIndex==="auto"&&(M.style.zIndex=1);getComputedStyle(this.el).position==="static"&&(this.el.style.position="relative")}applyCanvasStyles(w,M={}){Object.assign(w.style,{position:"absolute",zIndex:0,top:0,left:0,background:""}),Object.assign(w.style,M),w.classList.add("vanta-canvas")}initThree(){d.WebGLRenderer?(this.renderer=new d.WebGLRenderer({alpha:!0,antialias:!0}),this.el.appendChild(this.renderer.domElement),this.applyCanvasStyles(this.renderer.domElement),isNaN(this.options.backgroundAlpha)&&(this.options.backgroundAlpha=1),this.scene=new d.Scene):console.warn("[VANTA] No THREE defined on window")}getCanvasElement(){return this.renderer?this.renderer.domElement:this.p5renderer?this.p5renderer.canvas:void 0}getCanvasRect(){const w=this.getCanvasElement();return!!w&&w.getBoundingClientRect()}windowMouseMoveWrapper(w){const M=this.getCanvasRect();if(!M)return!1;const b=w.clientX-M.left,T=w.clientY-M.top;b>=0&&T>=0&&b<=M.width&&T<=M.height&&(this.mouseX=b,this.mouseY=T,this.options.mouseEase||this.triggerMouseMove(b,T))}windowTouchWrapper(w){const M=this.getCanvasRect();if(!M)return!1;if(w.touches.length===1){const b=w.touches[0].clientX-M.left,T=w.touches[0].clientY-M.top;b>=0&&T>=0&&b<=M.width&&T<=M.height&&(this.mouseX=b,this.mouseY=T,this.options.mouseEase||this.triggerMouseMove(b,T))}}windowGyroWrapper(w){const M=this.getCanvasRect();if(!M)return!1;const b=Math.round(2*w.alpha)-M.left,T=Math.round(2*w.beta)-M.top;b>=0&&T>=0&&b<=M.width&&T<=M.height&&(this.mouseX=b,this.mouseY=T,this.options.mouseEase||this.triggerMouseMove(b,T))}triggerMouseMove(w,M){w===void 0&&M===void 0&&(this.options.mouseEase?(w=this.mouseEaseX,M=this.mouseEaseY):(w=this.mouseX,M=this.mouseY)),this.uniforms&&(this.uniforms.iMouse.value.x=w/this.scale,this.uniforms.iMouse.value.y=M/this.scale);const b=w/this.width,T=M/this.height;typeof this.onMouseMove=="function"&&this.onMouseMove(b,T)}setSize(){this.scale||(this.scale=1),a()&&this.options.scaleMobile?this.scale=this.options.scaleMobile:this.options.scale&&(this.scale=this.options.scale),this.width=Math.max(this.el.offsetWidth,this.options.minWidth),this.height=Math.max(this.el.offsetHeight,this.options.minHeight)}initMouse(){(!this.mouseX&&!this.mouseY||this.mouseX===this.options.minWidth/2&&this.mouseY===this.options.minHeight/2)&&(this.mouseX=this.width/2,this.mouseY=this.height/2,this.triggerMouseMove(this.mouseX,this.mouseY))}resize(){this.setSize(),this.camera&&(this.camera.aspect=this.width/this.height,typeof this.camera.updateProjectionMatrix=="function"&&this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(window.devicePixelRatio/this.scale)),typeof this.onResize=="function"&&this.onResize()}isOnScreen(){const w=this.el.offsetHeight,M=this.el.getBoundingClientRect(),b=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop,T=M.top+b;return T-window.innerHeight<=b&&b<=T+w}animationLoop(){this.t||(this.t=0),this.t2||(this.t2=0);const w=performance.now();if(this.prevNow){let M=(w-this.prevNow)/16.666666666666668;M=Math.max(.2,Math.min(M,5)),this.t+=M,this.t2+=(this.options.speed||1)*M,this.uniforms&&(this.uniforms.iTime.value=.016667*this.t2)}return this.prevNow=w,this.options.mouseEase&&(this.mouseEaseX=this.mouseEaseX||this.mouseX||0,this.mouseEaseY=this.mouseEaseY||this.mouseY||0,Math.abs(this.mouseEaseX-this.mouseX)+Math.abs(this.mouseEaseY-this.mouseY)>.1&&(this.mouseEaseX+=.05*(this.mouseX-this.mouseEaseX),this.mouseEaseY+=.05*(this.mouseY-this.mouseEaseY),this.triggerMouseMove(this.mouseEaseX,this.mouseEaseY))),(this.isOnScreen()||this.options.forceAnimate)&&(typeof this.onUpdate=="function"&&this.onUpdate(),this.scene&&this.camera&&(this.renderer.render(this.scene,this.camera),this.renderer.setClearColor(this.options.backgroundColor,this.options.backgroundAlpha)),this.fps&&this.fps.update&&this.fps.update(),typeof this.afterRender=="function"&&this.afterRender()),this.req=window.requestAnimationFrame(this.animationLoop)}restart(){if(this.scene)for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);typeof this.onRestart=="function"&&this.onRestart(),this.init()}init(){typeof this.onInit=="function"&&this.onInit()}destroy(){typeof this.onDestroy=="function"&&this.onDestroy();const w=window.removeEventListener;w("touchstart",this.windowTouchWrapper),w("touchmove",this.windowTouchWrapper),w("scroll",this.windowMouseMoveWrapper),w("mousemove",this.windowMouseMoveWrapper),w("deviceorientation",this.windowGyroWrapper),w("resize",this.resize),window.cancelAnimationFrame(this.req);const M=this.scene;M&&M.children&&u(M),this.renderer&&(this.renderer.domElement&&this.el.removeChild(this.renderer.domElement),this.renderer=null,this.scene=null),m.current===this&&(m.current=null)}};const y=m.VantaBase;let v=typeof window=="object"&&window.THREE;class _ extends y{static initClass(){this.prototype.defaultOptions={color:16727937,backgroundColor:2299196,points:10,maxDistance:20,spacing:15,showDots:!0}}constructor(M){v=M.THREE||v,super(M)}genPoint(M,b,T){let R;if(this.points||(this.points=[]),this.options.showDots){const O=new v.SphereGeometry(.25,12,12),P=new v.MeshLambertMaterial({color:this.options.color});R=new v.Mesh(O,P)}else R=new v.Object3D;var C,A;return this.cont.add(R),R.ox=M,R.oy=b,R.oz=T,R.position.set(M,b,T),R.r=((C=-2)==null&&(C=0),(A=2)==null&&(A=1),C+Math.random()*(A-C)),this.points.push(R)}onInit(){this.cont=new v.Group,this.cont.position.set(0,0,0),this.scene.add(this.cont);let M=this.options.points,{spacing:b}=this.options;a()&&(M=~~(.75*M),b=~~(.65*b));const T=M*M*2;this.linePositions=new Float32Array(T*T*3),this.lineColors=new Float32Array(T*T*3);const R=c(new v.Color(this.options.color)),C=c(new v.Color(this.options.backgroundColor));this.blending=R>C?"additive":"subtractive";const A=new v.BufferGeometry;A.setAttribute("position",new v.BufferAttribute(this.linePositions,3).setUsage(v.DynamicDrawUsage)),A.setAttribute("color",new v.BufferAttribute(this.lineColors,3).setUsage(v.DynamicDrawUsage)),A.computeBoundingSphere(),A.setDrawRange(0,0);const O=new v.LineBasicMaterial({vertexColors:v.VertexColors,blending:this.blending==="additive"?v.AdditiveBlending:null,transparent:!0});this.linesMesh=new v.LineSegments(A,O),this.cont.add(this.linesMesh);for(let G=0;G<=M;G++)for(let J=0;J<=M;J++){const j=o(-3,3),I=(G-M/2)*b+o(-5,5);let K=(J-M/2)*b+o(-5,5);G%2&&(K+=.5*b),this.genPoint(I,j-o(5,15),K),this.genPoint(I+o(-5,5),j+o(5,15),K+o(-5,5))}this.camera=new v.PerspectiveCamera(25,this.width/this.height,.01,1e4),this.camera.position.set(50,100,150),this.scene.add(this.camera);const P=new v.AmbientLight(16777215,.75);return this.scene.add(P),this.spot=new v.SpotLight(16777215,1),this.spot.position.set(0,200,0),this.spot.distance=400,this.spot.target=this.cont,this.scene.add(this.spot)}onDestroy(){this.scene&&this.scene.remove(this.linesMesh),this.spot=this.points=this.linesMesh=this.lineColors=this.linePositions=null}setOptions(M){super.setOptions(M),M.color&&this.points.forEach(b=>{b.material.color=new v.Color(M.color)})}onUpdate(){let M;const b=this.camera;Math.abs(b.tx-b.position.x)>.01&&(M=b.tx-b.position.x,b.position.x+=.02*M),Math.abs(b.ty-b.position.y)>.01&&(M=b.ty-b.position.y,b.position.y+=.02*M),b.lookAt(new v.Vector3(0,0,0));let T=0,R=0,C=0;const A=new v.Color(this.options.backgroundColor),O=new v.Color(this.options.color),P=O.clone().sub(A);this.rayCaster&&this.rayCaster.setFromCamera(new v.Vector2(this.rcMouseX,this.rcMouseY),this.camera);for(let G=0;G<this.points.length;G++){let J,j;const I=this.points[G];j=this.rayCaster?this.rayCaster.ray.distanceToPoint(I.position):1e3;const K=j.clamp(5,15);if(I.scale.x=I.scale.y=I.scale.z=(.25*(15-K)).clamp(1,100),I.r!==0){let F=Math.atan2(I.position.z,I.position.x);J=Math.sqrt(I.position.z*I.position.z+I.position.x*I.position.x),F+=25e-5*I.r,I.position.x=J*Math.cos(F),I.position.z=J*Math.sin(F)}for(let F=G;F<this.points.length;F++){const k=this.points[F],z=I.position.x-k.position.x,q=I.position.y-k.position.y,X=I.position.z-k.position.z;if(J=Math.sqrt(z*z+q*q+X*X),J<this.options.maxDistance){let lt;const ht=(2*(1-J/this.options.maxDistance)).clamp(0,1);lt=this.blending==="additive"?new v.Color(0).lerp(P,ht):A.clone().lerp(O,ht),this.linePositions[T++]=I.position.x,this.linePositions[T++]=I.position.y,this.linePositions[T++]=I.position.z,this.linePositions[T++]=k.position.x,this.linePositions[T++]=k.position.y,this.linePositions[T++]=k.position.z,this.lineColors[R++]=lt.r,this.lineColors[R++]=lt.g,this.lineColors[R++]=lt.b,this.lineColors[R++]=lt.r,this.lineColors[R++]=lt.g,this.lineColors[R++]=lt.b,C++}}}return this.linesMesh.geometry.setDrawRange(0,2*C),this.linesMesh.geometry.attributes.position.needsUpdate=!0,this.linesMesh.geometry.attributes.color.needsUpdate=!0,.001*this.t}onMouseMove(M,b){const T=this.camera;T.oy||(T.oy=T.position.y,T.ox=T.position.x,T.oz=T.position.z);const R=Math.atan2(T.oz,T.ox),C=Math.sqrt(T.oz*T.oz+T.ox*T.ox),A=R+2*(M-.5)*(this.options.mouseCoeffX||1);T.tz=C*Math.sin(A),T.tx=C*Math.cos(A),T.ty=T.oy+50*(b-.5)*(this.options.mouseCoeffY||1),this.rayCaster,this.rcMouseX=2*M-1,this.rcMouseY=2*-M+1}onRestart(){this.scene&&this.scene.remove(this.linesMesh),this.points=[]}}_.initClass();const S=m.register("NET",_);return i})())}(Zh)),Zh.exports}var aB=rB();const oB=lR(aB);function lB(){const[e,t]=Rt.useState(null),n=Rt.useRef(null);return Rt.useEffect(()=>{let i;const o=setTimeout(()=>{!e&&n.current&&(i=oB({el:n.current,THREE:iB,color:65280,backgroundColor:0,points:12,maxDistance:20}),t(i))},100);return()=>{clearTimeout(o),i&&(i.destroy(),t(null))}},[]),Bt.jsx("div",{ref:n,style:{width:"100%",height:"100%",position:"fixed",top:"0",left:"0",zIndex:"-1",transform:"scale(1.2)",transformOrigin:"center center"}})}const cE=Rt.createContext({});function cB(e){const t=Rt.useRef(null);return t.current===null&&(t.current=e()),t.current}const qv=typeof window<"u",uB=qv?Rt.useLayoutEffect:Rt.useEffect,Xv=Rt.createContext(null);function Yv(e,t){e.indexOf(t)===-1&&e.push(t)}function Zv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Vs=(e,t,n)=>n>t?t:n<e?e:n;let Qv=()=>{};const Gs={},uE=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function fE(e){return typeof e=="object"&&e!==null}const hE=e=>/^0[^.\s]+$/u.test(e);function Jv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Mi=e=>e,fB=(e,t)=>n=>t(e(n)),Uu=(...e)=>e.reduce(fB),vu=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class Kv{constructor(){this.subscriptions=[]}add(t){return Yv(this.subscriptions,t),()=>Zv(this.subscriptions,t)}notify(t,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,i);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ts=e=>e*1e3,es=e=>e/1e3;function dE(e,t){return t?e*(1e3/t):0}const pE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,hB=1e-7,dB=12;function pB(e,t,n,i,a){let o,c,u=0;do c=t+(n-t)/2,o=pE(c,i,a)-e,o>0?n=c:t=c;while(Math.abs(o)>hB&&++u<dB);return c}function Vu(e,t,n,i){if(e===t&&n===i)return Mi;const a=o=>pB(o,0,1,e,n);return o=>o===0||o===1?o:pE(a(o),t,i)}const mE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,gE=e=>t=>1-e(1-t),yE=Vu(.33,1.53,.69,.99),$v=gE(yE),vE=mE($v),xE=e=>(e*=2)<1?.5*$v(e):.5*(2-Math.pow(2,-10*(e-1))),t0=e=>1-Math.sin(Math.acos(e)),bE=gE(t0),_E=mE(t0),mB=Vu(.42,0,1,1),gB=Vu(0,0,.58,1),ME=Vu(.42,0,.58,1),yB=e=>Array.isArray(e)&&typeof e[0]!="number",wE=e=>Array.isArray(e)&&typeof e[0]=="number",vB={linear:Mi,easeIn:mB,easeInOut:ME,easeOut:gB,circIn:t0,circInOut:_E,circOut:bE,backIn:$v,backInOut:vE,backOut:yE,anticipate:xE},xB=e=>typeof e=="string",gw=e=>{if(wE(e)){Qv(e.length===4);const[t,n,i,a]=e;return Vu(t,n,i,a)}else if(xB(e))return vB[e];return e},Fh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],yw={value:null};function bB(e,t){let n=new Set,i=new Set,a=!1,o=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function d(p){c.has(p)&&(m.schedule(p),e()),h++,p(u)}const m={schedule:(p,y=!1,v=!1)=>{const S=v&&a?n:i;return y&&c.add(p),S.has(p)||S.add(p),p},cancel:p=>{i.delete(p),c.delete(p)},process:p=>{if(u=p,a){o=!0;return}a=!0,[n,i]=[i,n],n.forEach(d),t&&yw.value&&yw.value.frameloop[t].push(h),h=0,n.clear(),a=!1,o&&(o=!1,m.process(p))}};return m}const _B=40;function SE(e,t){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=Fh.reduce((T,R)=>(T[R]=bB(o,t?R:void 0),T),{}),{setup:u,read:h,resolveKeyframes:d,preUpdate:m,update:p,preRender:y,render:v,postRender:_}=c,S=()=>{const T=Gs.useManualTiming?a.timestamp:performance.now();n=!1,Gs.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(T-a.timestamp,_B),1)),a.timestamp=T,a.isProcessing=!0,u.process(a),h.process(a),d.process(a),m.process(a),p.process(a),y.process(a),v.process(a),_.process(a),a.isProcessing=!1,n&&t&&(i=!1,e(S))},w=()=>{n=!0,i=!0,a.isProcessing||e(S)};return{schedule:Fh.reduce((T,R)=>{const C=c[R];return T[R]=(A,O=!1,P=!1)=>(n||w(),C.schedule(A,O,P)),T},{}),cancel:T=>{for(let R=0;R<Fh.length;R++)c[Fh[R]].cancel(T)},state:a,steps:c}}const{schedule:ke,cancel:zr,state:xn,steps:zg}=SE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mi,!0);let Qh;function MB(){Qh=void 0}const Wn={now:()=>(Qh===void 0&&Wn.set(xn.isProcessing||Gs.useManualTiming?xn.timestamp:performance.now()),Qh),set:e=>{Qh=e,queueMicrotask(MB)}},TE=e=>t=>typeof t=="string"&&t.startsWith(e),e0=TE("--"),wB=TE("var(--"),n0=e=>wB(e)?SB.test(e.split("/*")[0].trim()):!1,SB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},xu={...bl,transform:e=>Vs(0,1,e)},kh={...bl,default:1},Fc=e=>Math.round(e*1e5)/1e5,i0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function TB(e){return e==null}const EB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,s0=(e,t)=>n=>!!(typeof n=="string"&&EB.test(n)&&n.startsWith(e)||t&&!TB(n)&&Object.prototype.hasOwnProperty.call(n,t)),EE=(e,t,n)=>i=>{if(typeof i!="string")return i;const[a,o,c,u]=i.match(i0);return{[e]:parseFloat(a),[t]:parseFloat(o),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},AB=e=>Vs(0,255,e),Ug={...bl,transform:e=>Math.round(AB(e))},ya={test:s0("rgb","red"),parse:EE("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Ug.transform(e)+", "+Ug.transform(t)+", "+Ug.transform(n)+", "+Fc(xu.transform(i))+")"};function RB(e){let t="",n="",i="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const By={test:s0("#"),parse:RB,transform:ya.transform},Gu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_r=Gu("deg"),ns=Gu("%"),Kt=Gu("px"),CB=Gu("vh"),LB=Gu("vw"),vw={...ns,parse:e=>ns.parse(e)/100,transform:e=>ns.transform(e*100)},Wo={test:s0("hsl","hue"),parse:EE("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+ns.transform(Fc(t))+", "+ns.transform(Fc(n))+", "+Fc(xu.transform(i))+")"},En={test:e=>ya.test(e)||By.test(e)||Wo.test(e),parse:e=>ya.test(e)?ya.parse(e):Wo.test(e)?Wo.parse(e):By.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ya.transform(e):Wo.transform(e)},DB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OB(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(i0))==null?void 0:t.length)||0)+(((n=e.match(DB))==null?void 0:n.length)||0)>0}const AE="number",RE="color",PB="var",NB="var(",xw="${}",BB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bu(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},a=[];let o=0;const u=t.replace(BB,h=>(En.test(h)?(i.color.push(o),a.push(RE),n.push(En.parse(h))):h.startsWith(NB)?(i.var.push(o),a.push(PB),n.push(h)):(i.number.push(o),a.push(AE),n.push(parseFloat(h))),++o,xw)).split(xw);return{values:n,split:u,indexes:i,types:a}}function CE(e){return bu(e).values}function LE(e){const{split:t,types:n}=bu(e),i=t.length;return a=>{let o="";for(let c=0;c<i;c++)if(o+=t[c],a[c]!==void 0){const u=n[c];u===AE?o+=Fc(a[c]):u===RE?o+=En.transform(a[c]):o+=a[c]}return o}}const zB=e=>typeof e=="number"?0:e;function UB(e){const t=CE(e);return LE(e)(t.map(zB))}const Ur={test:OB,parse:CE,createTransformer:LE,getAnimatableNone:UB};function Vg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function VB({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let a=0,o=0,c=0;if(!t)a=o=c=n;else{const u=n<.5?n*(1+t):n+t-n*t,h=2*n-u;a=Vg(h,u,e+1/3),o=Vg(h,u,e),c=Vg(h,u,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}function Cd(e,t){return n=>n>0?t:e}const Fe=(e,t,n)=>e+(t-e)*n,Gg=(e,t,n)=>{const i=e*e,a=n*(t*t-i)+i;return a<0?0:Math.sqrt(a)},GB=[By,ya,Wo],HB=e=>GB.find(t=>t.test(e));function bw(e){const t=HB(e);if(!t)return!1;let n=t.parse(e);return t===Wo&&(n=VB(n)),n}const _w=(e,t)=>{const n=bw(e),i=bw(t);if(!n||!i)return Cd(e,t);const a={...n};return o=>(a.red=Gg(n.red,i.red,o),a.green=Gg(n.green,i.green,o),a.blue=Gg(n.blue,i.blue,o),a.alpha=Fe(n.alpha,i.alpha,o),ya.transform(a))},zy=new Set(["none","hidden"]);function IB(e,t){return zy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function FB(e,t){return n=>Fe(e,t,n)}function r0(e){return typeof e=="number"?FB:typeof e=="string"?n0(e)?Cd:En.test(e)?_w:jB:Array.isArray(e)?DE:typeof e=="object"?En.test(e)?_w:kB:Cd}function DE(e,t){const n=[...e],i=n.length,a=e.map((o,c)=>r0(o)(o,t[c]));return o=>{for(let c=0;c<i;c++)n[c]=a[c](o);return n}}function kB(e,t){const n={...e,...t},i={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(i[a]=r0(e[a])(e[a],t[a]));return a=>{for(const o in i)n[o]=i[o](a);return n}}function WB(e,t){const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],c=e.indexes[o][i[o]],u=e.values[c]??0;n[a]=u,i[o]++}return n}const jB=(e,t)=>{const n=Ur.createTransformer(t),i=bu(e),a=bu(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?zy.has(e)&&!a.values.length||zy.has(t)&&!i.values.length?IB(e,t):Uu(DE(WB(i,a),a.values),n):Cd(e,t)};function OE(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Fe(e,t,n):r0(e)(e,t)}const qB=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ke.update(t,n),stop:()=>zr(t),now:()=>xn.isProcessing?xn.timestamp:Wn.now()}},PE=(e,t,n=10)=>{let i="";const a=Math.max(Math.round(t/n),2);for(let o=0;o<a;o++)i+=e(o/(a-1))+", ";return`linear(${i.substring(0,i.length-2)})`},Ld=2e4;function a0(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Ld;)t+=n,i=e.next(t);return t>=Ld?1/0:t}function XB(e,t=100,n){const i=n({...e,keyframes:[0,t]}),a=Math.min(a0(i),Ld);return{type:"keyframes",ease:o=>i.next(a*o).value/t,duration:es(a)}}const YB=5;function NE(e,t,n){const i=Math.max(t-YB,0);return dE(n-e(i),t-i)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mw=.001;function ZB({duration:e=Ze.duration,bounce:t=Ze.bounce,velocity:n=Ze.velocity,mass:i=Ze.mass}){let a,o,c=1-t;c=Vs(Ze.minDamping,Ze.maxDamping,c),e=Vs(Ze.minDuration,Ze.maxDuration,es(e)),c<1?(a=d=>{const m=d*c,p=m*e,y=m-n,v=Uy(d,c),_=Math.exp(-p);return Mw-y/v*_},o=d=>{const p=d*c*e,y=p*n+n,v=Math.pow(c,2)*Math.pow(d,2)*e,_=Math.exp(-p),S=Uy(Math.pow(d,2),c);return(-a(d)+Mw>0?-1:1)*((y-v)*_)/S}):(a=d=>{const m=Math.exp(-d*e),p=(d-n)*e+1;return-.001+m*p},o=d=>{const m=Math.exp(-d*e),p=(n-d)*(e*e);return m*p});const u=5/e,h=JB(a,o,u);if(e=ts(e),isNaN(h))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:e};{const d=Math.pow(h,2)*i;return{stiffness:d,damping:c*2*Math.sqrt(i*d),duration:e}}}const QB=12;function JB(e,t,n){let i=n;for(let a=1;a<QB;a++)i=i-e(i)/t(i);return i}function Uy(e,t){return e*Math.sqrt(1-t*t)}const KB=["duration","bounce"],$B=["stiffness","damping","mass"];function ww(e,t){return t.some(n=>e[n]!==void 0)}function tz(e){let t={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...e};if(!ww(e,$B)&&ww(e,KB))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,o=2*Vs(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Ze.mass,stiffness:a,damping:o}}else{const n=ZB(e);t={...t,...n,mass:Ze.mass},t.isResolvedFromDuration=!0}return t}function Dd(e=Ze.visualDuration,t=Ze.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:a}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:d,mass:m,duration:p,velocity:y,isResolvedFromDuration:v}=tz({...n,velocity:-es(n.velocity||0)}),_=y||0,S=d/(2*Math.sqrt(h*m)),w=c-o,M=es(Math.sqrt(h/m)),b=Math.abs(w)<5;i||(i=b?Ze.restSpeed.granular:Ze.restSpeed.default),a||(a=b?Ze.restDelta.granular:Ze.restDelta.default);let T;if(S<1){const C=Uy(M,S);T=A=>{const O=Math.exp(-S*M*A);return c-O*((_+S*M*w)/C*Math.sin(C*A)+w*Math.cos(C*A))}}else if(S===1)T=C=>c-Math.exp(-M*C)*(w+(_+M*w)*C);else{const C=M*Math.sqrt(S*S-1);T=A=>{const O=Math.exp(-S*M*A),P=Math.min(C*A,300);return c-O*((_+S*M*w)*Math.sinh(P)+C*w*Math.cosh(P))/C}}const R={calculatedDuration:v&&p||null,next:C=>{const A=T(C);if(v)u.done=C>=p;else{let O=C===0?_:0;S<1&&(O=C===0?ts(_):NE(T,C,A));const P=Math.abs(O)<=i,G=Math.abs(c-A)<=a;u.done=P&&G}return u.value=u.done?c:A,u},toString:()=>{const C=Math.min(a0(R),Ld),A=PE(O=>R.next(C*O).value,C,30);return C+"ms "+A},toTransition:()=>{}};return R}Dd.applyToOptions=e=>{const t=XB(e,100,Dd);return e.ease=t.ease,e.duration=ts(t.duration),e.type="keyframes",e};function Vy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:u,max:h,restDelta:d=.5,restSpeed:m}){const p=e[0],y={done:!1,value:p},v=P=>u!==void 0&&P<u||h!==void 0&&P>h,_=P=>u===void 0?h:h===void 0||Math.abs(u-P)<Math.abs(h-P)?u:h;let S=n*t;const w=p+S,M=c===void 0?w:c(w);M!==w&&(S=M-p);const b=P=>-S*Math.exp(-P/i),T=P=>M+b(P),R=P=>{const G=b(P),J=T(P);y.done=Math.abs(G)<=d,y.value=y.done?M:J};let C,A;const O=P=>{v(y.value)&&(C=P,A=Dd({keyframes:[y.value,_(y.value)],velocity:NE(T,P,y.value),damping:a,stiffness:o,restDelta:d,restSpeed:m}))};return O(0),{calculatedDuration:null,next:P=>{let G=!1;return!A&&C===void 0&&(G=!0,R(P),O(P)),C!==void 0&&P>=C?A.next(P-C):(!G&&R(P),y)}}}function ez(e,t,n){const i=[],a=n||Gs.mix||OE,o=e.length-1;for(let c=0;c<o;c++){let u=a(e[c],e[c+1]);if(t){const h=Array.isArray(t)?t[c]||Mi:t;u=Uu(h,u)}i.push(u)}return i}function nz(e,t,{clamp:n=!0,ease:i,mixer:a}={}){const o=e.length;if(Qv(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=ez(t,i,a),h=u.length,d=m=>{if(c&&m<e[0])return t[0];let p=0;if(h>1)for(;p<e.length-2&&!(m<e[p+1]);p++);const y=vu(e[p],e[p+1],m);return u[p](y)};return n?m=>d(Vs(e[0],e[o-1],m)):d}function iz(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const a=vu(0,t,i);e.push(Fe(n,1,a))}}function sz(e){const t=[0];return iz(t,e.length-1),t}function rz(e,t){return e.map(n=>n*t)}function az(e,t){return e.map(()=>t||ME).splice(0,e.length-1)}function kc({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const a=yB(i)?i.map(gw):gw(i),o={done:!1,value:t[0]},c=rz(n&&n.length===t.length?n:sz(t),e),u=nz(c,t,{ease:Array.isArray(a)?a:az(t,a)});return{calculatedDuration:e,next:h=>(o.value=u(h),o.done=h>=e,o)}}const oz=e=>e!==null;function o0(e,{repeat:t,repeatType:n="loop"},i,a=1){const o=e.filter(oz),u=a<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!u||i===void 0?o[u]:i}const lz={decay:Vy,inertia:Vy,tween:kc,keyframes:kc,spring:Dd};function BE(e){typeof e.type=="string"&&(e.type=lz[e.type])}class l0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const cz=e=>e/100;class c0 extends l0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Wn.now()&&this.tick(Wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(i=this.options).onStop)==null||a.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;BE(t);const{type:n=kc,repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=t;let{keyframes:u}=t;const h=n||kc;h!==kc&&typeof u[0]!="number"&&(this.mixKeyframes=Uu(cz,OE(u[0],u[1])),u=[0,100]);const d=h({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-c})),d.calculatedDuration===null&&(d.calculatedDuration=a0(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:a,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:m,repeat:p,repeatType:y,repeatDelay:v,type:_,onUpdate:S,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const M=this.currentTime-d*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?M<0:M>a;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let T=this.currentTime,R=i;if(p){const P=Math.min(this.currentTime,a)/u;let G=Math.floor(P),J=P%1;!J&&P>=1&&(J=1),J===1&&G--,G=Math.min(G,p+1),!!(G%2)&&(y==="reverse"?(J=1-J,v&&(J-=v/u)):y==="mirror"&&(R=c)),T=Vs(0,1,J)*u}const C=b?{done:!1,value:m[0]}:R.next(T);o&&(C.value=o(C.value));let{done:A}=C;!b&&h!==null&&(A=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return O&&_!==Vy&&(C.value=o0(m,this.options,w,this.speed)),S&&S(C.value),O&&this.finish(),C}then(t,n){return this.finished.then(t,n)}get duration(){return es(this.calculatedDuration)}get time(){return es(this.currentTime)}set time(t){var n;t=ts(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Wn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=es(this.currentTime))}play(){var a,o;if(this.isStopped)return;const{driver:t=qB,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(o=(a=this.options).onPlay)==null||o.call(a);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function uz(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const va=e=>e*180/Math.PI,Gy=e=>{const t=va(Math.atan2(e[1],e[0]));return Hy(t)},fz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Gy,rotateZ:Gy,skewX:e=>va(Math.atan(e[1])),skewY:e=>va(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Hy=e=>(e=e%360,e<0&&(e+=360),e),Sw=Gy,Tw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ew=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),hz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Tw,scaleY:Ew,scale:e=>(Tw(e)+Ew(e))/2,rotateX:e=>Hy(va(Math.atan2(e[6],e[5]))),rotateY:e=>Hy(va(Math.atan2(-e[2],e[0]))),rotateZ:Sw,rotate:Sw,skewX:e=>va(Math.atan(e[4])),skewY:e=>va(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Iy(e){return e.includes("scale")?1:0}function Fy(e,t){if(!e||e==="none")return Iy(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=hz,a=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=fz,a=u}if(!a)return Iy(t);const o=i[t],c=a[1].split(",").map(pz);return typeof o=="function"?o(c):c[o]}const dz=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Fy(n,t)};function pz(e){return parseFloat(e.trim())}const _l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ml=new Set(_l),Aw=e=>e===bl||e===Kt,mz=new Set(["x","y","z"]),gz=_l.filter(e=>!mz.has(e));function yz(e){const t=[];return gz.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const _a={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Fy(t,"x"),y:(e,{transform:t})=>Fy(t,"y")};_a.translateX=_a.x;_a.translateY=_a.y;const Ma=new Set;let ky=!1,Wy=!1,jy=!1;function zE(){if(Wy){const e=Array.from(Ma).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const a=yz(i);a.length&&(n.set(i,a),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([o,c])=>{var u;(u=i.getValue(o))==null||u.set(c)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Wy=!1,ky=!1,Ma.forEach(e=>e.complete(jy)),Ma.clear()}function UE(){Ma.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Wy=!0)})}function vz(){jy=!0,UE(),zE(),jy=!1}class u0{constructor(t,n,i,a,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ma.add(this),ky||(ky=!0,ke.read(UE),ke.resolveKeyframes(zE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:a}=this;if(t[0]===null){const o=a==null?void 0:a.get(),c=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const u=i.readValue(n,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),a&&o===void 0&&a.set(t[0])}uz(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ma.delete(this)}cancel(){this.state==="scheduled"&&(Ma.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xz=e=>e.startsWith("--");function bz(e,t,n){xz(t)?e.style.setProperty(t,n):e.style[t]=n}const _z=Jv(()=>window.ScrollTimeline!==void 0),Mz={};function wz(e,t){const n=Jv(e);return()=>Mz[t]??n()}const VE=wz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bc=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Rw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bc([0,.65,.55,1]),circOut:Bc([.55,0,1,.45]),backIn:Bc([.31,.01,.66,-.59]),backOut:Bc([.33,1.53,.69,.99])};function GE(e,t){if(e)return typeof e=="function"?VE()?PE(e,t):"ease-out":wE(e)?Bc(e):Array.isArray(e)?e.map(n=>GE(n,t)||Rw.easeOut):Rw[e]}function Sz(e,t,n,{delay:i=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:u="easeOut",times:h}={},d=void 0){const m={[t]:n};h&&(m.offset=h);const p=GE(u,a);Array.isArray(p)&&(m.easing=p);const y={delay:i,duration:a,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),e.animate(m,y)}function HE(e){return typeof e=="function"&&"applyToOptions"in e}function Tz({type:e,...t}){return HE(e)&&VE()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Ez extends l0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:a,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=t,Qv(typeof t.type!="string");const d=Tz(t);this.animation=Sz(n,i,a,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const m=o0(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):bz(n,i,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return es(Number(t))}get time(){return es(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ts(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&_z()?(this.animation.timeline=t,Mi):n(this)}}const IE={anticipate:xE,backInOut:vE,circInOut:_E};function Az(e){return e in IE}function Rz(e){typeof e.ease=="string"&&Az(e.ease)&&(e.ease=IE[e.ease])}const Cw=10;class Cz extends Ez{constructor(t){Rz(t),BE(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:a,element:o,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new c0({...c,autoplay:!1}),h=ts(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-Cw).value,u.sample(h).value,Cw),u.stop()}}const Lw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ur.test(e)||e==="0")&&!e.startsWith("url("));function Lz(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Dz(e,t,n,i){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],c=Lw(a,t),u=Lw(o,t);return!c||!u?!1:Lz(e)||(n==="spring"||HE(n))&&i}function FE(e){return fE(e)&&"offsetHeight"in e}const Oz=new Set(["opacity","clipPath","filter","transform"]),Pz=Jv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Nz(e){var d;const{motionValue:t,name:n,repeatDelay:i,repeatType:a,damping:o,type:c}=e;if(!FE((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:u,transformTemplate:h}=t.owner.getProps();return Pz()&&n&&Oz.has(n)&&(n!=="transform"||!h)&&!u&&!i&&a!=="mirror"&&o!==0&&c!=="inertia"}const Bz=40;class zz extends l0{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",keyframes:u,name:h,motionValue:d,element:m,...p}){var _;super(),this.stop=()=>{var S,w;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Wn.now();const y={autoplay:t,delay:n,type:i,repeat:a,repeatDelay:o,repeatType:c,name:h,motionValue:d,element:m,...p},v=(m==null?void 0:m.KeyframeResolver)||u0;this.keyframeResolver=new v(u,(S,w,M)=>this.onKeyframesResolved(S,w,y,!M),h,d,m),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(t,n,i,a){this.keyframeResolver=void 0;const{name:o,type:c,velocity:u,delay:h,isHandoff:d,onUpdate:m}=i;this.resolvedAt=Wn.now(),Dz(t,o,c,u)||((Gs.instantAnimations||!h)&&(m==null||m(o0(t,i,n))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const y={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Bz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},v=!d&&Nz(y)?new Cz({...y,element:y.motionValue.owner.current}):new c0(y);v.finished.then(()=>this.notifyFinished()).catch(Mi),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),vz()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Uz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Vz(e){const t=Uz.exec(e);if(!t)return[,];const[,n,i,a]=t;return[`--${n??i}`,a]}function kE(e,t,n=1){const[i,a]=Vz(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const c=o.trim();return uE(c)?parseFloat(c):c}return n0(a)?kE(a,t,n+1):a}function f0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const WE=new Set(["width","height","top","left","right","bottom",..._l]),Gz={test:e=>e==="auto",parse:e=>e},jE=e=>t=>t.test(e),qE=[bl,Kt,ns,_r,LB,CB,Gz],Dw=e=>qE.find(jE(e));function Hz(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||hE(e):!0}const Iz=new Set(["brightness","contrast","saturate","opacity"]);function Fz(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(i0)||[];if(!i)return e;const a=n.replace(i,"");let o=Iz.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+a+")"}const kz=/\b([a-z-]*)\(.*?\)/gu,qy={...Ur,getAnimatableNone:e=>{const t=e.match(kz);return t?t.map(Fz).join(" "):e}},Ow={...bl,transform:Math.round},Wz={rotate:_r,rotateX:_r,rotateY:_r,rotateZ:_r,scale:kh,scaleX:kh,scaleY:kh,scaleZ:kh,skew:_r,skewX:_r,skewY:_r,distance:Kt,translateX:Kt,translateY:Kt,translateZ:Kt,x:Kt,y:Kt,z:Kt,perspective:Kt,transformPerspective:Kt,opacity:xu,originX:vw,originY:vw,originZ:Kt},h0={borderWidth:Kt,borderTopWidth:Kt,borderRightWidth:Kt,borderBottomWidth:Kt,borderLeftWidth:Kt,borderRadius:Kt,radius:Kt,borderTopLeftRadius:Kt,borderTopRightRadius:Kt,borderBottomRightRadius:Kt,borderBottomLeftRadius:Kt,width:Kt,maxWidth:Kt,height:Kt,maxHeight:Kt,top:Kt,right:Kt,bottom:Kt,left:Kt,padding:Kt,paddingTop:Kt,paddingRight:Kt,paddingBottom:Kt,paddingLeft:Kt,margin:Kt,marginTop:Kt,marginRight:Kt,marginBottom:Kt,marginLeft:Kt,backgroundPositionX:Kt,backgroundPositionY:Kt,...Wz,zIndex:Ow,fillOpacity:xu,strokeOpacity:xu,numOctaves:Ow},jz={...h0,color:En,backgroundColor:En,outlineColor:En,fill:En,stroke:En,borderColor:En,borderTopColor:En,borderRightColor:En,borderBottomColor:En,borderLeftColor:En,filter:qy,WebkitFilter:qy},XE=e=>jz[e];function YE(e,t){let n=XE(e);return n!==qy&&(n=Ur),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const qz=new Set(["auto","none","0"]);function Xz(e,t,n){let i=0,a;for(;i<e.length&&!a;){const o=e[i];typeof o=="string"&&!qz.has(o)&&bu(o).values.length&&(a=e[i]),i++}if(a&&n)for(const o of t)e[o]=YE(n,a)}class Yz extends u0{constructor(t,n,i,a,o){super(t,n,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let d=t[h];if(typeof d=="string"&&(d=d.trim(),n0(d))){const m=kE(d,n.current);m!==void 0&&(t[h]=m),h===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!WE.has(i)||t.length!==2)return;const[a,o]=t,c=Dw(a),u=Dw(o);if(c!==u)if(Aw(c)&&Aw(u))for(let h=0;h<t.length;h++){const d=t[h];typeof d=="string"&&(t[h]=parseFloat(d))}else _a[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||Hz(t[a]))&&i.push(a);i.length&&Xz(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_a[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,c=i[o];i[o]=_a[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function ZE(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const a=document.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const QE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Pw=30,Zz=e=>!isNaN(parseFloat(e));class Qz{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{var c,u;const o=Wn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();a&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Wn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Zz(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Kv);const i=this.events[t].add(n);return t==="change"?()=>{i(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Pw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Pw);return dE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fl(e,t){return new Qz(e,t)}const{schedule:d0}=SE(queueMicrotask,!1),Bi={x:!1,y:!1};function JE(){return Bi.x||Bi.y}function Jz(e){return e==="x"||e==="y"?Bi[e]?null:(Bi[e]=!0,()=>{Bi[e]=!1}):Bi.x||Bi.y?null:(Bi.x=Bi.y=!0,()=>{Bi.x=Bi.y=!1})}function KE(e,t){const n=ZE(e),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[n,a,()=>i.abort()]}function Nw(e){return!(e.pointerType==="touch"||JE())}function Kz(e,t,n={}){const[i,a,o]=KE(e,n),c=u=>{if(!Nw(u))return;const{target:h}=u,d=t(h,u);if(typeof d!="function"||!h)return;const m=p=>{Nw(p)&&(d(p),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,a)};return i.forEach(u=>{u.addEventListener("pointerenter",c,a)}),o}const $E=(e,t)=>t?e===t?!0:$E(e,t.parentElement):!1,p0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,$z=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tU(e){return $z.has(e.tagName)||e.tabIndex!==-1}const Jh=new WeakSet;function Bw(e){return t=>{t.key==="Enter"&&e(t)}}function Hg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const eU=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=Bw(()=>{if(Jh.has(n))return;Hg(n,"down");const a=Bw(()=>{Hg(n,"up")}),o=()=>Hg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function zw(e){return p0(e)&&!JE()}function nU(e,t,n={}){const[i,a,o]=KE(e,n),c=u=>{const h=u.currentTarget;if(!zw(u))return;Jh.add(h);const d=t(h,u),m=(v,_)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",y),Jh.has(h)&&Jh.delete(h),zw(v)&&typeof d=="function"&&d(v,{success:_})},p=v=>{m(v,h===window||h===document||n.useGlobalTarget||$E(h,v.target))},y=v=>{m(v,!1)};window.addEventListener("pointerup",p,a),window.addEventListener("pointercancel",y,a)};return i.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,a),FE(u)&&(u.addEventListener("focus",d=>eU(d,a)),!tU(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function tA(e){return fE(e)&&"ownerSVGElement"in e}function iU(e){return tA(e)&&e.tagName==="svg"}const An=e=>!!(e&&e.getVelocity),sU=[...qE,En,Ur],rU=e=>sU.find(jE(e)),eA=Rt.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function aU(e=!0){const t=Rt.useContext(Xv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=t,o=Rt.useId();Rt.useEffect(()=>{if(e)return a(o)},[e]);const c=Rt.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,c]:[!0]}const nA=Rt.createContext({strict:!1}),Uw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hl={};for(const e in Uw)hl[e]={isEnabled:t=>Uw[e].some(n=>!!t[n])};function oU(e){for(const t in e)hl[t]={...hl[t],...e[t]}}const lU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Od(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lU.has(e)}let iA=e=>!Od(e);function cU(e){e&&(iA=t=>t.startsWith("on")?!Od(t):e(t))}try{cU(require("@emotion/is-prop-valid").default)}catch{}function uU(e,t,n){const i={};for(const a in e)a==="values"&&typeof e.values=="object"||(iA(a)||n===!0&&Od(a)||!t&&!Od(a)||e.draggable&&a.startsWith("onDrag"))&&(i[a]=e[a]);return i}function fU(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const jd=Rt.createContext({});function qd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function _u(e){return typeof e=="string"||Array.isArray(e)}const m0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g0=["initial",...m0];function Xd(e){return qd(e.animate)||g0.some(t=>_u(e[t]))}function sA(e){return!!(Xd(e)||e.variants)}function hU(e,t){if(Xd(e)){const{initial:n,animate:i}=e;return{initial:n===!1||_u(n)?n:void 0,animate:_u(i)?i:void 0}}return e.inherit!==!1?t:{}}function dU(e){const{initial:t,animate:n}=hU(e,Rt.useContext(jd));return Rt.useMemo(()=>({initial:t,animate:n}),[Vw(t),Vw(n)])}function Vw(e){return Array.isArray(e)?e.join(" "):e}const pU=Symbol.for("motionComponentSymbol");function jo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mU(e,t,n){return Rt.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):jo(n)&&(n.current=i))},[t])}const y0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gU="framerAppearId",rA="data-"+y0(gU),aA=Rt.createContext({});function yU(e,t,n,i,a){var S,w;const{visualElement:o}=Rt.useContext(jd),c=Rt.useContext(nA),u=Rt.useContext(Xv),h=Rt.useContext(eA).reducedMotion,d=Rt.useRef(null);i=i||c.renderer,!d.current&&i&&(d.current=i(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=d.current,p=Rt.useContext(aA);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&vU(d.current,n,a,p);const y=Rt.useRef(!1);Rt.useInsertionEffect(()=>{m&&y.current&&m.update(n,u)});const v=n[rA],_=Rt.useRef(!!v&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,v))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,v)));return uB(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),d0.render(m.render),_.current&&m.animationState&&m.animationState.animateChanges())}),Rt.useEffect(()=>{m&&(!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,v)}),_.current=!1))}),m}function vU(e,t,n,i){const{layoutId:a,layout:o,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:d,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:oA(e.parent)),e.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||u&&jo(u),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:h,layoutRoot:d})}function oA(e){if(e)return e.options.allowProjection!==!1?e.projection:oA(e.parent)}function xU({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:a}){e&&oU(e);function o(u,h){let d;const m={...Rt.useContext(eA),...u,layoutId:bU(u)},{isStatic:p}=m,y=dU(u),v=i(u,p);if(!p&&qv){_U();const _=MU(m);d=_.MeasureLayout,y.visualElement=yU(a,v,m,t,_.ProjectionNode)}return Bt.jsxs(jd.Provider,{value:y,children:[d&&y.visualElement?Bt.jsx(d,{visualElement:y.visualElement,...m}):null,n(a,u,mU(v,y.visualElement,h),v,p,y.visualElement)]})}o.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=Rt.forwardRef(o);return c[pU]=a,c}function bU({layoutId:e}){const t=Rt.useContext(cE).id;return t&&e!==void 0?t+"-"+e:e}function _U(e,t){Rt.useContext(nA).strict}function MU(e){const{drag:t,layout:n}=hl;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Mu={};function wU(e){for(const t in e)Mu[t]=e[t],e0(t)&&(Mu[t].isCSSVariable=!0)}function lA(e,{layout:t,layoutId:n}){return Ml.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Mu[e]||e==="opacity")}const SU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TU=_l.length;function EU(e,t,n){let i="",a=!0;for(let o=0;o<TU;o++){const c=_l[o],u=e[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const d=QE(u,h0[c]);if(!h){a=!1;const m=SU[c]||c;i+=`${m}(${d}) `}n&&(t[c]=d)}}return i=i.trim(),n?i=n(t,a?"":i):a&&(i="none"),i}function v0(e,t,n){const{style:i,vars:a,transformOrigin:o}=e;let c=!1,u=!1;for(const h in t){const d=t[h];if(Ml.has(h)){c=!0;continue}else if(e0(h)){a[h]=d;continue}else{const m=QE(d,h0[h]);h.startsWith("origin")?(u=!0,o[h]=m):i[h]=m}}if(t.transform||(c||n?i.transform=EU(t,e.transform,n):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:m=0}=o;i.transformOrigin=`${h} ${d} ${m}`}}const x0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cA(e,t,n){for(const i in t)!An(t[i])&&!lA(i,n)&&(e[i]=t[i])}function AU({transformTemplate:e},t){return Rt.useMemo(()=>{const n=x0();return v0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function RU(e,t){const n=e.style||{},i={};return cA(i,n,e),Object.assign(i,AU(e,t)),i}function CU(e,t){const n={},i=RU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const LU={offset:"stroke-dashoffset",array:"stroke-dasharray"},DU={offset:"strokeDashoffset",array:"strokeDasharray"};function OU(e,t,n=1,i=0,a=!0){e.pathLength=1;const o=a?LU:DU;e[o.offset]=Kt.transform(-i);const c=Kt.transform(t),u=Kt.transform(n);e[o.array]=`${c} ${u}`}function uA(e,{attrX:t,attrY:n,attrScale:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},h,d,m){if(v0(e,u,d),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:y}=e;p.transform&&(y.transform=p.transform,delete p.transform),(y.transform||p.transformOrigin)&&(y.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),y.transform&&(y.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),a!==void 0&&OU(p,a,o,c,!1)}const fA=()=>({...x0(),attrs:{}}),hA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function PU(e,t,n,i){const a=Rt.useMemo(()=>{const o=fA();return uA(o,t,hA(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};cA(o,e.style,e),a.style={...o,...a.style}}return a}const NU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b0(e){return typeof e!="string"||e.includes("-")?!1:!!(NU.indexOf(e)>-1||/[A-Z]/u.test(e))}function BU(e=!1){return(n,i,a,{latestValues:o},c)=>{const h=(b0(n)?PU:CU)(i,o,c,n),d=uU(i,typeof n=="string",e),m=n!==Rt.Fragment?{...d,...h,ref:a}:{},{children:p}=i,y=Rt.useMemo(()=>An(p)?p.get():p,[p]);return Rt.createElement(n,{...m,children:y})}}function Gw(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function _0(e,t,n,i){if(typeof t=="function"){const[a,o]=Gw(i);t=t(n!==void 0?n:e.custom,a,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,o]=Gw(i);t=t(n!==void 0?n:e.custom,a,o)}return t}function Kh(e){return An(e)?e.get():e}function zU({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,a){return{latestValues:UU(n,i,a,e),renderState:t()}}const dA=e=>(t,n)=>{const i=Rt.useContext(jd),a=Rt.useContext(Xv),o=()=>zU(e,t,i,a);return n?o():cB(o)};function UU(e,t,n,i){const a={},o=i(e,{});for(const y in o)a[y]=Kh(o[y]);let{initial:c,animate:u}=e;const h=Xd(e),d=sA(e);t&&d&&!h&&e.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let m=n?n.initial===!1:!1;m=m||c===!1;const p=m?u:c;if(p&&typeof p!="boolean"&&!qd(p)){const y=Array.isArray(p)?p:[p];for(let v=0;v<y.length;v++){const _=_0(e,y[v]);if(_){const{transitionEnd:S,transition:w,...M}=_;for(const b in M){let T=M[b];if(Array.isArray(T)){const R=m?T.length-1:0;T=T[R]}T!==null&&(a[b]=T)}for(const b in S)a[b]=S[b]}}}return a}function M0(e,t,n){var o;const{style:i}=e,a={};for(const c in i)(An(i[c])||t.style&&An(t.style[c])||lA(c,e)||((o=n==null?void 0:n.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(a[c]=i[c]);return a}const VU={useVisualState:dA({scrapeMotionValuesFromProps:M0,createRenderState:x0})};function pA(e,t,n){const i=M0(e,t,n);for(const a in e)if(An(e[a])||An(t[a])){const o=_l.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=e[a]}return i}const GU={useVisualState:dA({scrapeMotionValuesFromProps:pA,createRenderState:fA})};function HU(e,t){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...b0(i)?GU:VU,preloadedFeatures:e,useRender:BU(a),createVisualElement:t,Component:i};return xU(c)}}function wu(e,t,n){const i=e.getProps();return _0(i,t,n!==void 0?n:i.custom,e)}const Xy=e=>Array.isArray(e);function IU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,fl(n))}function FU(e){return Xy(e)?e[e.length-1]||0:e}function kU(e,t){const n=wu(e,t);let{transitionEnd:i={},transition:a={},...o}=n||{};o={...o,...i};for(const c in o){const u=FU(o[c]);IU(e,c,u)}}function WU(e){return!!(An(e)&&e.add)}function Yy(e,t){const n=e.getValue("willChange");if(WU(n))return n.add(t);if(!n&&Gs.WillChange){const i=new Gs.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function mA(e){return e.props[rA]}const jU=e=>e!==null;function qU(e,{repeat:t,repeatType:n="loop"},i){const a=e.filter(jU),o=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[o]}const XU={type:"spring",stiffness:500,damping:25,restSpeed:10},YU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ZU={type:"keyframes",duration:.8},QU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JU=(e,{keyframes:t})=>t.length>2?ZU:Ml.has(e)?e.startsWith("scale")?YU(t[1]):XU:QU;function KU({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:u,from:h,elapsed:d,...m}){return!!Object.keys(m).length}const w0=(e,t,n,i={},a,o)=>c=>{const u=f0(i,e)||{},h=u.delay||i.delay||0;let{elapsed:d=0}=i;d=d-ts(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-d,onUpdate:y=>{t.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:o?void 0:a};KU(u)||Object.assign(m,JU(e,m)),m.duration&&(m.duration=ts(m.duration)),m.repeatDelay&&(m.repeatDelay=ts(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let p=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(p=!0)),(Gs.instantAnimations||Gs.skipAnimations)&&(p=!0,m.duration=0,m.delay=0),m.allowFlatten=!u.type&&!u.ease,p&&!o&&t.get()!==void 0){const y=qU(m.keyframes,u);if(y!==void 0){ke.update(()=>{m.onUpdate(y),m.onComplete()});return}}return u.isSync?new c0(m):new zz(m)};function $U({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function gA(e,t,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:c,...u}=t;i&&(o=i);const h=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const m in u){const p=e.getValue(m,e.latestValues[m]??null),y=u[m];if(y===void 0||d&&$U(d,m))continue;const v={delay:n,...f0(o||{},m)},_=p.get();if(_!==void 0&&!p.isAnimating&&!Array.isArray(y)&&y===_&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const M=mA(e);if(M){const b=window.MotionHandoffAnimation(M,m,ke);b!==null&&(v.startTime=b,S=!0)}}Yy(e,m),p.start(w0(m,p,y,e.shouldReduceMotion&&WE.has(m)?{type:!1}:v,e,S));const w=p.animation;w&&h.push(w)}return c&&Promise.all(h).then(()=>{ke.update(()=>{c&&kU(e,c)})}),h}function Zy(e,t,n={}){var h;const i=wu(e,t,n.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all(gA(e,i,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:p,staggerDirection:y}=a;return t4(e,t,m+d,p,y,n)}:()=>Promise.resolve(),{when:u}=a;if(u){const[d,m]=u==="beforeChildren"?[o,c]:[c,o];return d().then(()=>m())}else return Promise.all([o(),c(n.delay)])}function t4(e,t,n=0,i=0,a=1,o){const c=[],u=(e.variantChildren.size-1)*i,h=a===1?(d=0)=>d*i:(d=0)=>u-d*i;return Array.from(e.variantChildren).sort(e4).forEach((d,m)=>{d.notify("AnimationStart",t),c.push(Zy(d,t,{...o,delay:n+h(m)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(c)}function e4(e,t){return e.sortNodePosition(t)}function n4(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(o=>Zy(e,o,n));i=Promise.all(a)}else if(typeof t=="string")i=Zy(e,t,n);else{const a=typeof t=="function"?wu(e,t,n.custom):t;i=Promise.all(gA(e,a,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function yA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const i4=g0.length;function vA(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?vA(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<i4;n++){const i=g0[n],a=e.props[i];(_u(a)||a===!1)&&(t[i]=a)}return t}const s4=[...m0].reverse(),r4=m0.length;function a4(e){return t=>Promise.all(t.map(({animation:n,options:i})=>n4(e,n,i)))}function o4(e){let t=a4(e),n=Hw(),i=!0;const a=h=>(d,m)=>{var y;const p=wu(e,m,h==="exit"?(y=e.presenceContext)==null?void 0:y.custom:void 0);if(p){const{transition:v,transitionEnd:_,...S}=p;d={...d,...S,..._}}return d};function o(h){t=h(e)}function c(h){const{props:d}=e,m=vA(e.parent)||{},p=[],y=new Set;let v={},_=1/0;for(let w=0;w<r4;w++){const M=s4[w],b=n[M],T=d[M]!==void 0?d[M]:m[M],R=_u(T),C=M===h?b.isActive:null;C===!1&&(_=w);let A=T===m[M]&&T!==d[M]&&R;if(A&&i&&e.manuallyAnimateOnMount&&(A=!1),b.protectedKeys={...v},!b.isActive&&C===null||!T&&!b.prevProp||qd(T)||typeof T=="boolean")continue;const O=l4(b.prevProp,T);let P=O||M===h&&b.isActive&&!A&&R||w>_&&R,G=!1;const J=Array.isArray(T)?T:[T];let j=J.reduce(a(M),{});C===!1&&(j={});const{prevResolvedValues:I={}}=b,K={...I,...j},F=q=>{P=!0,y.has(q)&&(G=!0,y.delete(q)),b.needsAnimating[q]=!0;const X=e.getValue(q);X&&(X.liveStyle=!1)};for(const q in K){const X=j[q],lt=I[q];if(v.hasOwnProperty(q))continue;let ht=!1;Xy(X)&&Xy(lt)?ht=!yA(X,lt):ht=X!==lt,ht?X!=null?F(q):y.add(q):X!==void 0&&y.has(q)?F(q):b.protectedKeys[q]=!0}b.prevProp=T,b.prevResolvedValues=j,b.isActive&&(v={...v,...j}),i&&e.blockInitialAnimation&&(P=!1),P&&(!(A&&O)||G)&&p.push(...J.map(q=>({animation:q,options:{type:M}})))}if(y.size){const w={};if(typeof d.initial!="boolean"){const M=wu(e,Array.isArray(d.initial)?d.initial[0]:d.initial);M&&M.transition&&(w.transition=M.transition)}y.forEach(M=>{const b=e.getBaseTarget(M),T=e.getValue(M);T&&(T.liveStyle=!0),w[M]=b??null}),p.push({animation:w})}let S=!!p.length;return i&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(S=!1),i=!1,S?t(p):Promise.resolve()}function u(h,d){var p;if(n[h].isActive===d)return Promise.resolve();(p=e.variantChildren)==null||p.forEach(y=>{var v;return(v=y.animationState)==null?void 0:v.setActive(h,d)}),n[h].isActive=d;const m=c(h);for(const y in n)n[y].protectedKeys={};return m}return{animateChanges:c,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Hw(),i=!0}}}function l4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!yA(t,e):!1}function ua(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hw(){return{animate:ua(!0),whileInView:ua(),whileHover:ua(),whileTap:ua(),whileDrag:ua(),whileFocus:ua(),exit:ua()}}class Vr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class c4 extends Vr{constructor(t){super(t),t.animationState||(t.animationState=o4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let u4=0;class f4 extends Vr{constructor(){super(...arguments),this.id=u4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const h4={animation:{Feature:c4},exit:{Feature:f4}};function Su(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Hu(e){return{point:{x:e.pageX,y:e.pageY}}}const d4=e=>t=>p0(t)&&e(t,Hu(t));function Wc(e,t,n,i){return Su(e,t,d4(n),i)}function xA({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function p4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function m4(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const bA=1e-4,g4=1-bA,y4=1+bA,_A=.01,v4=0-_A,x4=0+_A;function Bn(e){return e.max-e.min}function b4(e,t,n){return Math.abs(e-t)<=n}function Iw(e,t,n,i=.5){e.origin=i,e.originPoint=Fe(t.min,t.max,e.origin),e.scale=Bn(n)/Bn(t),e.translate=Fe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=g4&&e.scale<=y4||isNaN(e.scale))&&(e.scale=1),(e.translate>=v4&&e.translate<=x4||isNaN(e.translate))&&(e.translate=0)}function jc(e,t,n,i){Iw(e.x,t.x,n.x,i?i.originX:void 0),Iw(e.y,t.y,n.y,i?i.originY:void 0)}function Fw(e,t,n){e.min=n.min+t.min,e.max=e.min+Bn(t)}function _4(e,t,n){Fw(e.x,t.x,n.x),Fw(e.y,t.y,n.y)}function kw(e,t,n){e.min=t.min-n.min,e.max=e.min+Bn(t)}function qc(e,t,n){kw(e.x,t.x,n.x),kw(e.y,t.y,n.y)}const Ww=()=>({translate:0,scale:1,origin:0,originPoint:0}),qo=()=>({x:Ww(),y:Ww()}),jw=()=>({min:0,max:0}),$e=()=>({x:jw(),y:jw()});function xi(e){return[e("x"),e("y")]}function Ig(e){return e===void 0||e===1}function Qy({scale:e,scaleX:t,scaleY:n}){return!Ig(e)||!Ig(t)||!Ig(n)}function da(e){return Qy(e)||MA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function MA(e){return qw(e.x)||qw(e.y)}function qw(e){return e&&e!=="0%"}function Pd(e,t,n){const i=e-n,a=t*i;return n+a}function Xw(e,t,n,i,a){return a!==void 0&&(e=Pd(e,a,i)),Pd(e,n,i)+t}function Jy(e,t=0,n=1,i,a){e.min=Xw(e.min,t,n,i,a),e.max=Xw(e.max,t,n,i,a)}function wA(e,{x:t,y:n}){Jy(e.x,t.translate,t.scale,t.originPoint),Jy(e.y,n.translate,n.scale,n.originPoint)}const Yw=.999999999999,Zw=1.0000000000001;function M4(e,t,n,i=!1){const a=n.length;if(!a)return;t.x=t.y=1;let o,c;for(let u=0;u<a;u++){o=n[u],c=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Yo(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,wA(e,c)),i&&da(o.latestValues)&&Yo(e,o.latestValues))}t.x<Zw&&t.x>Yw&&(t.x=1),t.y<Zw&&t.y>Yw&&(t.y=1)}function Xo(e,t){e.min=e.min+t,e.max=e.max+t}function Qw(e,t,n,i,a=.5){const o=Fe(e.min,e.max,a);Jy(e,t,n,o,i)}function Yo(e,t){Qw(e.x,t.x,t.scaleX,t.scale,t.originX),Qw(e.y,t.y,t.scaleY,t.scale,t.originY)}function SA(e,t){return xA(m4(e.getBoundingClientRect(),t))}function w4(e,t,n){const i=SA(e,n),{scroll:a}=t;return a&&(Xo(i.x,a.offset.x),Xo(i.y,a.offset.y)),i}const TA=({current:e})=>e?e.ownerDocument.defaultView:null,Jw=(e,t)=>Math.abs(e-t);function S4(e,t){const n=Jw(e.x,t.x),i=Jw(e.y,t.y);return Math.sqrt(n**2+i**2)}class EA{constructor(t,n,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=kg(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=S4(p.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:_}=p,{timestamp:S}=xn;this.history.push({..._,timestamp:S});const{onStart:w,onMove:M}=this.handlers;y||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,p)},this.handlePointerMove=(p,y)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Fg(y,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(p,y)=>{this.end();const{onEnd:v,onSessionEnd:_,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=kg(p.type==="pointercancel"?this.lastMoveEventInfo:Fg(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,w),_&&_(p,w)},!p0(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=a||window;const c=Hu(t),u=Fg(c,this.transformPagePoint),{point:h}=u,{timestamp:d}=xn;this.history=[{...h,timestamp:d}];const{onSessionStart:m}=n;m&&m(t,kg(u,this.history)),this.removeListeners=Uu(Wc(this.contextWindow,"pointermove",this.handlePointerMove),Wc(this.contextWindow,"pointerup",this.handlePointerUp),Wc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function Fg(e,t){return t?{point:t(e.point)}:e}function Kw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function kg({point:e},t){return{point:e,delta:Kw(e,AA(t)),offset:Kw(e,T4(t)),velocity:E4(t,.1)}}function T4(e){return e[0]}function AA(e){return e[e.length-1]}function E4(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const a=AA(e);for(;n>=0&&(i=e[n],!(a.timestamp-i.timestamp>ts(t)));)n--;if(!i)return{x:0,y:0};const o=es(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function A4(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Fe(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Fe(n,e,i.max):Math.min(e,n)),e}function $w(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function R4(e,{top:t,left:n,bottom:i,right:a}){return{x:$w(e.x,n,a),y:$w(e.y,t,i)}}function t1(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function C4(e,t){return{x:t1(e.x,t.x),y:t1(e.y,t.y)}}function L4(e,t){let n=.5;const i=Bn(e),a=Bn(t);return a>i?n=vu(t.min,t.max-i,e.min):i>a&&(n=vu(e.min,e.max-a,t.min)),Vs(0,1,n)}function D4(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ky=.35;function O4(e=Ky){return e===!1?e=0:e===!0&&(e=Ky),{x:e1(e,"left","right"),y:e1(e,"top","bottom")}}function e1(e,t,n){return{min:n1(e,t),max:n1(e,n)}}function n1(e,t){return typeof e=="number"?e:e[t]||0}const P4=new WeakMap;class N4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$e(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hu(m).point)},o=(m,p)=>{const{drag:y,dragPropagation:v,onDragStart:_}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Jz(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xi(w=>{let M=this.getAxisMotionValue(w).get()||0;if(ns.test(M)){const{projection:b}=this.visualElement;if(b&&b.layout){const T=b.layout.layoutBox[w];T&&(M=Bn(T)*(parseFloat(M)/100))}}this.originPoint[w]=M}),_&&ke.postRender(()=>_(m,p)),Yy(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(m,p)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:_,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:w}=p;if(v&&this.currentDirection===null){this.currentDirection=B4(w),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),S&&S(m,p)},u=(m,p)=>this.stop(m,p),h=()=>xi(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)==null?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new EA(t,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:TA(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&ke.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:a}=this.getProps();if(!i||!Wh(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=A4(c,this.constraints[t],this.elastic[t])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,a=this.constraints;t&&jo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=R4(i.layoutBox,t):this.constraints=!1,this.elastic=O4(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&xi(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=D4(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!jo(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=w4(i,a.root,this.visualElement.getTransformPagePoint());let c=C4(a.layout.layoutBox,o);if(n){const u=n(p4(c));this.hasMutatedConstraints=!!u,u&&(c=xA(u))}return c}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},d=xi(m=>{if(!Wh(m,n,this.currentDirection))return;let p=h&&h[m]||{};c&&(p={min:0,max:0});const y=a?200:1e6,v=a?40:1e7,_={type:"inertia",velocity:i?t[m]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(m,_)});return Promise.all(d).then(u)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Yy(this.visualElement,t),i.start(w0(t,i,0,n,this.visualElement,!1))}stopAnimation(){xi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){xi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){xi(n=>{const{drag:i}=this.getProps();if(!Wh(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:u}=a.layout.layoutBox[n];o.set(t[n]-Fe(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!jo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};xi(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();a[c]=L4({min:h,max:h},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),xi(c=>{if(!Wh(c,t,null))return;const u=this.getAxisMotionValue(c),{min:h,max:d}=this.constraints[c];u.set(Fe(h,d,a[c]))})}addListeners(){if(!this.visualElement.current)return;P4.set(this.visualElement,this);const t=this.visualElement.current,n=Wc(t,"pointerdown",h=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();jo(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ke.read(i);const c=Su(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(xi(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=h[m].translate,p.set(p.get()+h[m].translate))}),this.visualElement.render())});return()=>{c(),n(),o(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=Ky,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:u}}}function Wh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function B4(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class z4 extends Vr{constructor(t){super(t),this.removeGroupControls=Mi,this.removeListeners=Mi,this.controls=new N4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mi}unmount(){this.removeGroupControls(),this.removeListeners()}}const i1=e=>(t,n)=>{e&&ke.postRender(()=>e(t,n))};class U4 extends Vr{constructor(){super(...arguments),this.removePointerDownListener=Mi}onPointerDown(t){this.session=new EA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:i1(t),onStart:i1(n),onMove:i,onEnd:(o,c)=>{delete this.session,a&&ke.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=Wc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $h={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function s1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Oc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Kt.test(e))e=parseFloat(e);else return e;const n=s1(e,t.target.x),i=s1(e,t.target.y);return`${n}% ${i}%`}},V4={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,a=Ur.parse(e);if(a.length>5)return i;const o=Ur.createTransformer(e),c=typeof a[0]!="number"?1:0,u=n.x.scale*t.x,h=n.y.scale*t.y;a[0+c]/=u,a[1+c]/=h;const d=Fe(u,h,.5);return typeof a[2+c]=="number"&&(a[2+c]/=d),typeof a[3+c]=="number"&&(a[3+c]/=d),o(a)}};class G4 extends Rt.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=t;wU(H4),o&&(n.group&&n.group.add(o),i&&i.register&&a&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),$h.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:a,isPresent:o}=this.props,{projection:c}=i;return c&&(c.isPresent=o,a||t.layoutDependency!==n||n===void 0||t.isPresent!==o?c.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?c.promote():c.relegate()||ke.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),d0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function RA(e){const[t,n]=aU(),i=Rt.useContext(cE);return Bt.jsx(G4,{...e,layoutGroup:i,switchLayoutGroup:Rt.useContext(aA),isPresent:t,safeToRemove:n})}const H4={borderRadius:{...Oc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oc,borderTopRightRadius:Oc,borderBottomLeftRadius:Oc,borderBottomRightRadius:Oc,boxShadow:V4};function I4(e,t,n){const i=An(e)?e:fl(e);return i.start(w0("",i,t,n)),i.animation}const F4=(e,t)=>e.depth-t.depth;class k4{constructor(){this.children=[],this.isDirty=!1}add(t){Yv(this.children,t),this.isDirty=!0}remove(t){Zv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(F4),this.isDirty=!1,this.children.forEach(t)}}function W4(e,t){const n=Wn.now(),i=({timestamp:a})=>{const o=a-n;o>=t&&(zr(i),e(o-t))};return ke.setup(i,!0),()=>zr(i)}const CA=["TopLeft","TopRight","BottomLeft","BottomRight"],j4=CA.length,r1=e=>typeof e=="string"?parseFloat(e):e,a1=e=>typeof e=="number"||Kt.test(e);function q4(e,t,n,i,a,o){a?(e.opacity=Fe(0,n.opacity??1,X4(i)),e.opacityExit=Fe(t.opacity??1,0,Y4(i))):o&&(e.opacity=Fe(t.opacity??1,n.opacity??1,i));for(let c=0;c<j4;c++){const u=`border${CA[c]}Radius`;let h=o1(t,u),d=o1(n,u);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||a1(h)===a1(d)?(e[u]=Math.max(Fe(r1(h),r1(d),i),0),(ns.test(d)||ns.test(h))&&(e[u]+="%")):e[u]=d}(t.rotate||n.rotate)&&(e.rotate=Fe(t.rotate||0,n.rotate||0,i))}function o1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const X4=LA(0,.5,bE),Y4=LA(.5,.95,Mi);function LA(e,t,n){return i=>i<e?0:i>t?1:n(vu(e,t,i))}function l1(e,t){e.min=t.min,e.max=t.max}function vi(e,t){l1(e.x,t.x),l1(e.y,t.y)}function c1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function u1(e,t,n,i,a){return e-=t,e=Pd(e,1/n,i),a!==void 0&&(e=Pd(e,1/a,i)),e}function Z4(e,t=0,n=1,i=.5,a,o=e,c=e){if(ns.test(t)&&(t=parseFloat(t),t=Fe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=Fe(o.min,o.max,i);e===o&&(u-=t),e.min=u1(e.min,t,n,u,a),e.max=u1(e.max,t,n,u,a)}function f1(e,t,[n,i,a],o,c){Z4(e,t[n],t[i],t[a],t.scale,o,c)}const Q4=["x","scaleX","originX"],J4=["y","scaleY","originY"];function h1(e,t,n,i){f1(e.x,t,Q4,n?n.x:void 0,i?i.x:void 0),f1(e.y,t,J4,n?n.y:void 0,i?i.y:void 0)}function d1(e){return e.translate===0&&e.scale===1}function DA(e){return d1(e.x)&&d1(e.y)}function p1(e,t){return e.min===t.min&&e.max===t.max}function K4(e,t){return p1(e.x,t.x)&&p1(e.y,t.y)}function m1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function OA(e,t){return m1(e.x,t.x)&&m1(e.y,t.y)}function g1(e){return Bn(e.x)/Bn(e.y)}function y1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $4{constructor(){this.members=[]}add(t){Yv(this.members,t),t.scheduleRender()}remove(t){if(Zv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tV(e,t,n){let i="";const a=e.x.translate/t.x,o=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||o||c)&&(i=`translate3d(${a}px, ${o}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:m,rotateX:p,rotateY:y,skewX:v,skewY:_}=n;d&&(i=`perspective(${d}px) ${i}`),m&&(i+=`rotate(${m}deg) `),p&&(i+=`rotateX(${p}deg) `),y&&(i+=`rotateY(${y}deg) `),v&&(i+=`skewX(${v}deg) `),_&&(i+=`skewY(${_}deg) `)}const u=e.x.scale*t.x,h=e.y.scale*t.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const Wg=["","X","Y","Z"],eV={visibility:"hidden"},nV=1e3;let iV=0;function jg(e,t,n,i){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),i&&(i[e]=0))}function PA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=mA(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ke,!(a||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&PA(i)}function NA({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},u=t==null?void 0:t()){this.id=iV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(aV),this.nodes.forEach(fV),this.nodes.forEach(hV),this.nodes.forEach(oV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new k4)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Kv),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const h=this.eventHandlers.get(c);h&&h.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=tA(c)&&!iU(c),this.instance=c;const{layoutId:u,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),e){let m;const p=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=W4(p,250),$h.hasAnimatedSinceResize&&($h.hasAnimatedSinceResize=!1,this.nodes.forEach(x1))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||yV,{onLayoutAnimationStart:S,onLayoutAnimationComplete:w}=d.getProps(),M=!this.targetLayout||!OA(this.targetLayout,v),b=!p&&y;if(this.options.layoutRoot||this.resumeFrom||b||p&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...f0(_,"layout"),onPlay:S,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(m,b)}else p||x1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(v1);return}this.isUpdating||this.nodes.forEach(cV),this.isUpdating=!1,this.nodes.forEach(uV),this.nodes.forEach(sV),this.nodes.forEach(rV),this.clearAllSnapshots();const u=Wn.now();xn.delta=Vs(0,1e3/60,u-xn.timestamp),xn.timestamp=u,xn.isProcessing=!0,zg.update.process(xn),zg.preRender.process(xn),zg.render.process(xn),xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,d0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lV),this.sharedNodes.forEach(pV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bn(this.snapshot.measuredBox.x)&&!Bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!DA(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;c&&this.instance&&(u||da(this.latestValues)||m)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return c&&(h=this.removeTransform(h)),vV(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:c}=this.options;if(!c)return $e();const u=c.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(xV))){const{scroll:m}=this.root;m&&(Xo(u.x,m.offset.x),Xo(u.y,m.offset.y))}return u}removeElementScroll(c){var h;const u=$e();if(vi(u,c),(h=this.scroll)!=null&&h.wasRoot)return u;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:p,options:y}=m;m!==this.root&&p&&y.layoutScroll&&(p.wasRoot&&vi(u,c),Xo(u.x,p.offset.x),Xo(u.y,p.offset.y))}return u}applyTransform(c,u=!1){const h=$e();vi(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Yo(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),da(m.latestValues)&&Yo(h,m.latestValues)}return da(this.latestValues)&&Yo(h,this.latestValues),h}removeTransform(c){const u=$e();vi(u,c);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!da(d.latestValues))continue;Qy(d.latestValues)&&d.updateSnapshot();const m=$e(),p=d.measurePageBox();vi(m,p),h1(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return da(this.latestValues)&&h1(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var y;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:p}=this.options;if(!(!this.layout||!(m||p))){if(this.resolvedRelativeTargetAt=xn.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),qc(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$e(),this.targetWithTransforms=$e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vi(this.target,this.layout.layoutBox),wA(this.target,this.targetDelta)):vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),qc(this.relativeTargetOrigin,this.target,v.target),vi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Qy(this.parent.latestValues)||MA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===xn.timestamp&&(h=!1),h)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;vi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;M4(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=$e());const{target:v}=c;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c1(this.prevProjectionDelta.x,this.projectionDelta.x),c1(this.prevProjectionDelta.y,this.projectionDelta.y)),jc(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!y1(this.projectionDelta.x,this.prevProjectionDelta.x)||!y1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qo(),this.projectionDelta=qo(),this.projectionDeltaWithTransform=qo()}setAnimationOrigin(c,u=!1){const h=this.snapshot,d=h?h.latestValues:{},m={...this.latestValues},p=qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=$e(),v=h?h.source:void 0,_=this.layout?this.layout.source:void 0,S=v!==_,w=this.getStack(),M=!w||w.members.length<=1,b=!!(S&&!M&&this.options.crossfade===!0&&!this.path.some(gV));this.animationProgress=0;let T;this.mixTargetDelta=R=>{const C=R/1e3;b1(p.x,c.x,C),b1(p.y,c.y,C),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qc(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mV(this.relativeTarget,this.relativeTargetOrigin,y,C),T&&K4(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=$e()),vi(T,this.relativeTarget)),S&&(this.animationValues=m,q4(m,d,this.latestValues,C,b,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,h,d;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(d=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||d.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{$h.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fl(0)),this.currentAnimation=I4(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:h,layout:d,latestValues:m}=c;if(!(!u||!h||!d)){if(this!==c&&this.layout&&d&&BA(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||$e();const p=Bn(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+p;const y=Bn(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+y}vi(u,h),Yo(u,m),jc(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new $4),this.sharedNodes.get(c).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const d={};h.z&&jg("z",c,d,this.animationValues);for(let m=0;m<Wg.length;m++)jg(`rotate${Wg[m]}`,c,d,this.animationValues),jg(`skew${Wg[m]}`,c,d,this.animationValues);c.render();for(const m in d)c.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return eV;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Kh(c==null?void 0:c.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Kh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!da(this.latestValues)&&(v.transform=h?h({},""):"none",this.hasProjected=!1),v}const m=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=tV(this.projectionDeltaWithTransform,this.treeScale,m),h&&(u.transform=h(m,u.transform));const{x:p,y}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,d.animationValues?u.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in Mu){if(m[v]===void 0)continue;const{correct:_,applyTo:S,isCSSVariable:w}=Mu[v],M=u.transform==="none"?m[v]:_(m[v],d);if(S){const b=S.length;for(let T=0;T<b;T++)u[S[T]]=M}else w?this.options.visualElement.renderState.vars[v]=M:u[v]=M}return this.options.layoutId&&(u.pointerEvents=d===this?Kh(c==null?void 0:c.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(v1),this.root.sharedNodes.clear()}}}function sV(e){e.updateLayout()}function rV(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=e.layout,{animationType:o}=e.options,c=t.source!==e.layout.source;o==="size"?xi(p=>{const y=c?t.measuredBox[p]:t.layoutBox[p],v=Bn(y);y.min=i[p].min,y.max=y.min+v}):BA(o,t.layoutBox,i)&&xi(p=>{const y=c?t.measuredBox[p]:t.layoutBox[p],v=Bn(i[p]);y.max=y.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+v)});const u=qo();jc(u,i,t.layoutBox);const h=qo();c?jc(h,e.applyTransform(a,!0),t.measuredBox):jc(h,i,t.layoutBox);const d=!DA(u);let m=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:y,layout:v}=p;if(y&&v){const _=$e();qc(_,t.layoutBox,y.layoutBox);const S=$e();qc(S,i,v.layoutBox),OA(_,S)||(m=!0),p.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=_,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function aV(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function lV(e){e.clearSnapshot()}function v1(e){e.clearMeasurements()}function cV(e){e.isLayoutDirty=!1}function uV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function x1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function fV(e){e.resolveTargetDelta()}function hV(e){e.calcProjection()}function dV(e){e.resetSkewAndRotation()}function pV(e){e.removeLeadSnapshot()}function b1(e,t,n){e.translate=Fe(t.translate,0,n),e.scale=Fe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function _1(e,t,n,i){e.min=Fe(t.min,n.min,i),e.max=Fe(t.max,n.max,i)}function mV(e,t,n,i){_1(e.x,t.x,n.x,i),_1(e.y,t.y,n.y,i)}function gV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const yV={duration:.45,ease:[.4,0,.1,1]},M1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),w1=M1("applewebkit/")&&!M1("chrome/")?Math.round:Mi;function S1(e){e.min=w1(e.min),e.max=w1(e.max)}function vV(e){S1(e.x),S1(e.y)}function BA(e,t,n){return e==="position"||e==="preserve-aspect"&&!b4(g1(t),g1(n),.2)}function xV(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const bV=NA({attachResizeListener:(e,t)=>Su(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qg={current:void 0},zA=NA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!qg.current){const e=new bV({});e.mount(window),e.setOptions({layoutScroll:!0}),qg.current=e}return qg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),_V={pan:{Feature:U4},drag:{Feature:z4,ProjectionNode:zA,MeasureLayout:RA}};function T1(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=i[a];o&&ke.postRender(()=>o(t,Hu(t)))}class MV extends Vr{mount(){const{current:t}=this.node;t&&(this.unmount=Kz(t,(n,i)=>(T1(this.node,i,"Start"),a=>T1(this.node,a,"End"))))}unmount(){}}class wV extends Vr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uu(Su(this.node.current,"focus",()=>this.onFocus()),Su(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function E1(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=i[a];o&&ke.postRender(()=>o(t,Hu(t)))}class SV extends Vr{mount(){const{current:t}=this.node;t&&(this.unmount=nU(t,(n,i)=>(E1(this.node,i,"Start"),(a,{success:o})=>E1(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $y=new WeakMap,Xg=new WeakMap,TV=e=>{const t=$y.get(e.target);t&&t(e)},EV=e=>{e.forEach(TV)};function AV({root:e,...t}){const n=e||document;Xg.has(n)||Xg.set(n,{});const i=Xg.get(n),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(EV,{root:e,...t})),i[a]}function RV(e,t,n){const i=AV(t);return $y.set(e,n),i.observe(e),()=>{$y.delete(e),i.unobserve(e)}}const CV={some:0,all:1};class LV extends Vr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:o}=t,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:CV[a]},u=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),y=d?m:p;y&&y(h)};return RV(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(DV(t,n))&&this.startObserver()}unmount(){}}function DV({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const OV={inView:{Feature:LV},tap:{Feature:SV},focus:{Feature:wV},hover:{Feature:MV}},PV={layout:{ProjectionNode:zA,MeasureLayout:RA}},tv={current:null},UA={current:!1};function NV(){if(UA.current=!0,!!qv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tv.current=e.matches;e.addListener(t),t()}else tv.current=!1}const BV=new WeakMap;function zV(e,t,n){for(const i in t){const a=t[i],o=n[i];if(An(a))e.addValue(i,a);else if(An(o))e.addValue(i,fl(a,{owner:e}));else if(o!==a)if(e.hasValue(i)){const c=e.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(i);e.addValue(i,fl(c!==void 0?c:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const A1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UV{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=u0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Wn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,ke.render(this.render,!1,!0))};const{latestValues:h,renderState:d}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Xd(n),this.isVariantNode=sA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const v=p[y];h[y]!==void 0&&An(v)&&v.set(h[y],!1)}}mount(t){this.current=t,BV.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),UA.current||NV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Ml.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&ke.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hl){const n=hl[t];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$e()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<A1.length;i++){const a=A1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=t[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=zV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=fl(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(uE(i)||hE(i))?i=parseFloat(i):!rU(i)&&Ur.test(n)&&(i=YE(t,n)),this.setBaseTarget(t,An(i)?i.get():i)),An(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=_0(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);c&&(i=c[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!An(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Kv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class VA extends UV{constructor(){super(...arguments),this.KeyframeResolver=Yz}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;An(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function GA(e,{style:t,vars:n},i,a){Object.assign(e.style,t,a&&a.getProjectionStyles(i));for(const o in n)e.style.setProperty(o,n[o])}function VV(e){return window.getComputedStyle(e)}class GV extends VA{constructor(){super(...arguments),this.type="html",this.renderInstance=GA}readValueFromInstance(t,n){var i;if(Ml.has(n))return(i=this.projection)!=null&&i.isProjecting?Iy(n):dz(t,n);{const a=VV(t),o=(e0(n)?a.getPropertyValue(n):a[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return SA(t,n)}build(t,n,i){v0(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return M0(t,n,i)}}const HA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HV(e,t,n,i){GA(e,t,void 0,i);for(const a in t.attrs)e.setAttribute(HA.has(a)?a:y0(a),t.attrs[a])}class IV extends VA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$e}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ml.has(n)){const i=XE(n);return i&&i.default||0}return n=HA.has(n)?n:y0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return pA(t,n,i)}build(t,n,i){uA(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,a){HV(t,n,i,a)}mount(t){this.isSVGTag=hA(t.tagName),super.mount(t)}}const FV=(e,t)=>b0(e)?new IV(t):new GV(t,{allowProjection:e!==Rt.Fragment}),kV=HU({...h4,...OV,..._V,...PV},FV),WV=fU(kV),jV={some:0,all:1};function qV(e,t,{root:n,margin:i,amount:a="some"}={}){const o=ZE(e),c=new WeakMap,u=d=>{d.forEach(m=>{const p=c.get(m.target);if(m.isIntersecting!==!!p)if(m.isIntersecting){const y=t(m.target,m);typeof y=="function"?c.set(m.target,y):h.unobserve(m.target)}else typeof p=="function"&&(p(m),c.delete(m.target))})},h=new IntersectionObserver(u,{root:n,rootMargin:i,threshold:typeof a=="number"?a:jV[a]});return o.forEach(d=>h.observe(d)),()=>h.disconnect()}function XV(e,{root:t,margin:n,amount:i,once:a=!1,initial:o=!1}={}){const[c,u]=Rt.useState(o);return Rt.useEffect(()=>{if(!e.current||a&&c)return;const h=()=>(u(!0),a?void 0:()=>u(!1)),d={root:t&&t.current||void 0,margin:n,amount:i};return qV(e.current,h,d)},[t,e,n,a,i]),c}function IA(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=IA(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function YV(){for(var e,t,n=0,i="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=IA(e))&&(i&&(i+=" "),i+=t);return i}const S0="-",ZV=e=>{const t=JV(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:c=>{const u=c.split(S0);return u[0]===""&&u.length!==1&&u.shift(),FA(u,t)||QV(c)},getConflictingClassGroupIds:(c,u)=>{const h=n[c]||[];return u&&i[c]?[...h,...i[c]]:h}}},FA=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),a=i?FA(e.slice(1),i):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(S0);return(c=t.validators.find(({validator:u})=>u(o)))==null?void 0:c.classGroupId},R1=/^\[(.+)\]$/,QV=e=>{if(R1.test(e)){const t=R1.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},JV=e=>{const{theme:t,classGroups:n}=e,i={nextPart:new Map,validators:[]};for(const a in n)ev(n[a],i,a,t);return i},ev=(e,t,n,i)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:C1(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(KV(a)){ev(a(i),t,n,i);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,c])=>{ev(c,C1(t,o),n,i)})})},C1=(e,t)=>{let n=e;return t.split(S0).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},KV=e=>e.isThemeGetter,$V=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const a=(o,c)=>{n.set(o,c),t++,t>e&&(t=0,i=n,n=new Map)};return{get(o){let c=n.get(o);if(c!==void 0)return c;if((c=i.get(o))!==void 0)return a(o,c),c},set(o,c){n.has(o)?n.set(o,c):a(o,c)}}},nv="!",iv=":",tG=iv.length,eG=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=a=>{const o=[];let c=0,u=0,h=0,d;for(let _=0;_<a.length;_++){let S=a[_];if(c===0&&u===0){if(S===iv){o.push(a.slice(h,_)),h=_+tG;continue}if(S==="/"){d=_;continue}}S==="["?c++:S==="]"?c--:S==="("?u++:S===")"&&u--}const m=o.length===0?a:a.substring(h),p=nG(m),y=p!==m,v=d&&d>h?d-h:void 0;return{modifiers:o,hasImportantModifier:y,baseClassName:p,maybePostfixModifierPosition:v}};if(t){const a=t+iv,o=i;i=c=>c.startsWith(a)?o(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=i;i=o=>n({className:o,parseClassName:a})}return i},nG=e=>e.endsWith(nv)?e.substring(0,e.length-1):e.startsWith(nv)?e.substring(1):e,iG=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let o=[];return i.forEach(c=>{c[0]==="["||t[c]?(a.push(...o.sort(),c),o=[]):o.push(c)}),a.push(...o.sort()),a}},sG=e=>({cache:$V(e.cacheSize),parseClassName:eG(e),sortModifiers:iG(e),...ZV(e)}),rG=/\s+/,aG=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:o}=t,c=[],u=e.trim().split(rG);let h="";for(let d=u.length-1;d>=0;d-=1){const m=u[d],{isExternal:p,modifiers:y,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:S}=n(m);if(p){h=m+(h.length>0?" "+h:h);continue}let w=!!S,M=i(w?_.substring(0,S):_);if(!M){if(!w){h=m+(h.length>0?" "+h:h);continue}if(M=i(_),!M){h=m+(h.length>0?" "+h:h);continue}w=!1}const b=o(y).join(":"),T=v?b+nv:b,R=T+M;if(c.includes(R))continue;c.push(R);const C=a(M,w);for(let A=0;A<C.length;++A){const O=C[A];c.push(T+O)}h=m+(h.length>0?" "+h:h)}return h};function oG(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=kA(t))&&(i&&(i+=" "),i+=n);return i}const kA=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=kA(e[i]))&&(n&&(n+=" "),n+=t);return n};function lG(e,...t){let n,i,a,o=c;function c(h){const d=t.reduce((m,p)=>p(m),e());return n=sG(d),i=n.cache.get,a=n.cache.set,o=u,u(h)}function u(h){const d=i(h);if(d)return d;const m=aG(h,n);return a(h,m),m}return function(){return o(oG.apply(null,arguments))}}const an=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},WA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,jA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cG=/^\d+\/\d+$/,uG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vo=e=>cG.test(e),le=e=>!!e&&!Number.isNaN(Number(e)),br=e=>!!e&&Number.isInteger(Number(e)),Yg=e=>e.endsWith("%")&&le(e.slice(0,-1)),Ds=e=>uG.test(e),mG=()=>!0,gG=e=>fG.test(e)&&!hG.test(e),qA=()=>!1,yG=e=>dG.test(e),vG=e=>pG.test(e),xG=e=>!Pt(e)&&!Nt(e),bG=e=>wl(e,ZA,qA),Pt=e=>WA.test(e),fa=e=>wl(e,QA,gG),Zg=e=>wl(e,TG,le),L1=e=>wl(e,XA,qA),_G=e=>wl(e,YA,vG),jh=e=>wl(e,JA,yG),Nt=e=>jA.test(e),Pc=e=>Sl(e,QA),MG=e=>Sl(e,EG),D1=e=>Sl(e,XA),wG=e=>Sl(e,ZA),SG=e=>Sl(e,YA),qh=e=>Sl(e,JA,!0),wl=(e,t,n)=>{const i=WA.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},Sl=(e,t,n=!1)=>{const i=jA.exec(e);return i?i[1]?t(i[1]):n:!1},XA=e=>e==="position"||e==="percentage",YA=e=>e==="image"||e==="url",ZA=e=>e==="length"||e==="size"||e==="bg-size",QA=e=>e==="length",TG=e=>e==="number",EG=e=>e==="family-name",JA=e=>e==="shadow",AG=()=>{const e=an("color"),t=an("font"),n=an("text"),i=an("font-weight"),a=an("tracking"),o=an("leading"),c=an("breakpoint"),u=an("container"),h=an("spacing"),d=an("radius"),m=an("shadow"),p=an("inset-shadow"),y=an("text-shadow"),v=an("drop-shadow"),_=an("blur"),S=an("perspective"),w=an("aspect"),M=an("ease"),b=an("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...R(),Nt,Pt],A=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],P=()=>[Nt,Pt,h],G=()=>[Vo,"full","auto",...P()],J=()=>[br,"none","subgrid",Nt,Pt],j=()=>["auto",{span:["full",br,Nt,Pt]},br,Nt,Pt],I=()=>[br,"auto",Nt,Pt],K=()=>["auto","min","max","fr",Nt,Pt],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],k=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...P()],q=()=>[Vo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],X=()=>[e,Nt,Pt],lt=()=>[...R(),D1,L1,{position:[Nt,Pt]}],ht=()=>["no-repeat",{repeat:["","x","y","space","round"]}],gt=()=>["auto","cover","contain",wG,bG,{size:[Nt,Pt]}],At=()=>[Yg,Pc,fa],yt=()=>["","none","full",d,Nt,Pt],Gt=()=>["",le,Pc,fa],st=()=>["solid","dashed","dotted","double"],Me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],St=()=>[le,Yg,D1,L1],ie=()=>["","none",_,Nt,Pt],kt=()=>["none",le,Nt,Pt],ce=()=>["none",le,Nt,Pt],$t=()=>[le,Nt,Pt],ft=()=>[Vo,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ds],breakpoint:[Ds],color:[mG],container:[Ds],"drop-shadow":[Ds],ease:["in","out","in-out"],font:[xG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ds],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ds],shadow:[Ds],spacing:["px",le],text:[Ds],"text-shadow":[Ds],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vo,Pt,Nt,w]}],container:["container"],columns:[{columns:[le,Pt,Nt,u]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[br,"auto",Nt,Pt]}],basis:[{basis:[Vo,"full","auto",u,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[le,Vo,"auto","initial","none",Pt]}],grow:[{grow:["",le,Nt,Pt]}],shrink:[{shrink:["",le,Nt,Pt]}],order:[{order:[br,"first","last","none",Nt,Pt]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...k(),"normal"]}],"justify-self":[{"justify-self":["auto",...k()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...k(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...k(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...k(),"baseline"]}],"place-self":[{"place-self":["auto",...k()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[u,"screen",...q()]}],"min-w":[{"min-w":[u,"screen","none",...q()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,Pc,fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Nt,Zg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Yg,Pt]}],"font-family":[{font:[MG,Pt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Nt,Pt]}],"line-clamp":[{"line-clamp":[le,"none",Nt,Zg]}],leading:[{leading:[o,...P()]}],"list-image":[{"list-image":["none",Nt,Pt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Nt,Pt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...st(),"wavy"]}],"text-decoration-thickness":[{decoration:[le,"from-font","auto",Nt,fa]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[le,"auto",Nt,Pt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Nt,Pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Nt,Pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:lt()}],"bg-repeat":[{bg:ht()}],"bg-size":[{bg:gt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},br,Nt,Pt],radial:["",Nt,Pt],conic:[br,Nt,Pt]},SG,_G]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:At()}],"gradient-via-pos":[{via:At()}],"gradient-to-pos":[{to:At()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:yt()}],"rounded-s":[{"rounded-s":yt()}],"rounded-e":[{"rounded-e":yt()}],"rounded-t":[{"rounded-t":yt()}],"rounded-r":[{"rounded-r":yt()}],"rounded-b":[{"rounded-b":yt()}],"rounded-l":[{"rounded-l":yt()}],"rounded-ss":[{"rounded-ss":yt()}],"rounded-se":[{"rounded-se":yt()}],"rounded-ee":[{"rounded-ee":yt()}],"rounded-es":[{"rounded-es":yt()}],"rounded-tl":[{"rounded-tl":yt()}],"rounded-tr":[{"rounded-tr":yt()}],"rounded-br":[{"rounded-br":yt()}],"rounded-bl":[{"rounded-bl":yt()}],"border-w":[{border:Gt()}],"border-w-x":[{"border-x":Gt()}],"border-w-y":[{"border-y":Gt()}],"border-w-s":[{"border-s":Gt()}],"border-w-e":[{"border-e":Gt()}],"border-w-t":[{"border-t":Gt()}],"border-w-r":[{"border-r":Gt()}],"border-w-b":[{"border-b":Gt()}],"border-w-l":[{"border-l":Gt()}],"divide-x":[{"divide-x":Gt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Gt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...st(),"hidden","none"]}],"divide-style":[{divide:[...st(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...st(),"none","hidden"]}],"outline-offset":[{"outline-offset":[le,Nt,Pt]}],"outline-w":[{outline:["",le,Pc,fa]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",m,qh,jh]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",p,qh,jh]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:Gt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[le,fa]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":Gt()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",y,qh,jh]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[le,Nt,Pt]}],"mix-blend":[{"mix-blend":[...Me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[le]}],"mask-image-linear-from-pos":[{"mask-linear-from":St()}],"mask-image-linear-to-pos":[{"mask-linear-to":St()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":St()}],"mask-image-t-to-pos":[{"mask-t-to":St()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":St()}],"mask-image-r-to-pos":[{"mask-r-to":St()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":St()}],"mask-image-b-to-pos":[{"mask-b-to":St()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":St()}],"mask-image-l-to-pos":[{"mask-l-to":St()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":St()}],"mask-image-x-to-pos":[{"mask-x-to":St()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":St()}],"mask-image-y-to-pos":[{"mask-y-to":St()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[Nt,Pt]}],"mask-image-radial-from-pos":[{"mask-radial-from":St()}],"mask-image-radial-to-pos":[{"mask-radial-to":St()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[le]}],"mask-image-conic-from-pos":[{"mask-conic-from":St()}],"mask-image-conic-to-pos":[{"mask-conic-to":St()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:lt()}],"mask-repeat":[{mask:ht()}],"mask-size":[{mask:gt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Nt,Pt]}],filter:[{filter:["","none",Nt,Pt]}],blur:[{blur:ie()}],brightness:[{brightness:[le,Nt,Pt]}],contrast:[{contrast:[le,Nt,Pt]}],"drop-shadow":[{"drop-shadow":["","none",v,qh,jh]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",le,Nt,Pt]}],"hue-rotate":[{"hue-rotate":[le,Nt,Pt]}],invert:[{invert:["",le,Nt,Pt]}],saturate:[{saturate:[le,Nt,Pt]}],sepia:[{sepia:["",le,Nt,Pt]}],"backdrop-filter":[{"backdrop-filter":["","none",Nt,Pt]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[le,Nt,Pt]}],"backdrop-contrast":[{"backdrop-contrast":[le,Nt,Pt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",le,Nt,Pt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[le,Nt,Pt]}],"backdrop-invert":[{"backdrop-invert":["",le,Nt,Pt]}],"backdrop-opacity":[{"backdrop-opacity":[le,Nt,Pt]}],"backdrop-saturate":[{"backdrop-saturate":[le,Nt,Pt]}],"backdrop-sepia":[{"backdrop-sepia":["",le,Nt,Pt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Nt,Pt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[le,"initial",Nt,Pt]}],ease:[{ease:["linear","initial",M,Nt,Pt]}],delay:[{delay:[le,Nt,Pt]}],animate:[{animate:["none",b,Nt,Pt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Nt,Pt]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:kt()}],"rotate-x":[{"rotate-x":kt()}],"rotate-y":[{"rotate-y":kt()}],"rotate-z":[{"rotate-z":kt()}],scale:[{scale:ce()}],"scale-x":[{"scale-x":ce()}],"scale-y":[{"scale-y":ce()}],"scale-z":[{"scale-z":ce()}],"scale-3d":["scale-3d"],skew:[{skew:$t()}],"skew-x":[{"skew-x":$t()}],"skew-y":[{"skew-y":$t()}],transform:[{transform:[Nt,Pt,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ft()}],"translate-x":[{"translate-x":ft()}],"translate-y":[{"translate-y":ft()}],"translate-z":[{"translate-z":ft()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nt,Pt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nt,Pt]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[le,Pc,fa,Zg]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},RG=lG(AG);function CG(...e){return RG(YV(e))}function LG({tileClassName:e,minTileWidth:t=32,animationDuration:n=.5,animationDelay:i=1,stagger:a=.05,children:o}){const[c,u]=Rt.useState([]),h=Rt.useRef(null),d=XV(h,{once:!0,amount:.3}),m=Rt.useCallback(()=>{if(h.current){const{offsetWidth:p,offsetHeight:y}=h.current,v=Math.max(3,Math.floor(p/t)),_=p/v+1,S=Array.from({length:v},(w,M)=>({id:M,width:_,order:Math.abs(M-Math.floor((v-1)/2))}));u(S)}},[t]);return Rt.useEffect(()=>{m();const p=new ResizeObserver(m);return h.current&&p.observe(h.current),()=>p.disconnect()},[m]),Bt.jsxs("div",{ref:h,className:"relative overflow-hidden",children:[o,Bt.jsx("div",{className:"absolute inset-0 flex",children:c.map(p=>Bt.jsx(WV.div,{className:CG("bg-gray-800",e),style:{width:p.width,position:"absolute",left:`${p.id*100/c.length}%`,top:0,height:"100%"},initial:{y:0},animate:d?{y:"100%"}:{y:0},transition:{duration:n,delay:i+p.order*a,ease:[.45,0,.55,1]}},p.id))})]})}const DG=({sparkColor:e="#fff",sparkSize:t=10,sparkRadius:n=15,sparkCount:i=8,duration:a=400,easing:o="ease-out",extraScale:c=1,children:u})=>{const h=Rt.useRef(null),d=Rt.useRef([]),m=Rt.useRef(null);Rt.useEffect(()=>{const v=h.current;if(!v)return;const _=v.parentElement;if(!_)return;let S;const w=()=>{const{width:T,height:R}=_.getBoundingClientRect();(v.width!==T||v.height!==R)&&(v.width=T,v.height=R)},M=()=>{clearTimeout(S),S=setTimeout(w,100)},b=new ResizeObserver(M);return b.observe(_),w(),()=>{b.disconnect(),clearTimeout(S)}},[]);const p=Rt.useCallback(v=>{switch(o){case"linear":return v;case"ease-in":return v*v;case"ease-in-out":return v<.5?2*v*v:-1+(4-2*v)*v;default:return v*(2-v)}},[o]);Rt.useEffect(()=>{const v=h.current;if(!v)return;const _=v.getContext("2d");if(!_)return;let S;const w=M=>{m.current||(m.current=M),_==null||_.clearRect(0,0,v.width,v.height),d.current=d.current.filter(b=>{const T=M-b.startTime;if(T>=a)return!1;const R=T/a,C=p(R),A=C*n*c,O=t*(1-C),P=b.x+A*Math.cos(b.angle),G=b.y+A*Math.sin(b.angle),J=b.x+(A+O)*Math.cos(b.angle),j=b.y+(A+O)*Math.sin(b.angle);return _.strokeStyle=e,_.lineWidth=2,_.beginPath(),_.moveTo(P,G),_.lineTo(J,j),_.stroke(),!0}),S=requestAnimationFrame(w)};return S=requestAnimationFrame(w),()=>{cancelAnimationFrame(S)}},[e,t,n,i,a,p,c]);const y=v=>{const _=h.current;if(!_)return;const S=_.getBoundingClientRect(),w=v.clientX-S.left,M=v.clientY-S.top,b=performance.now(),T=Array.from({length:i},(R,C)=>({x:w,y:M,angle:2*Math.PI*C/i,startTime:b}));d.current.push(...T)};return Bt.jsxs("div",{className:"relative w-full h-full",onClick:y,children:[Bt.jsx("canvas",{ref:h,className:"absolute inset-0 pointer-events-none"}),u]})};function KA({children:e,...t}){const n=Rt.useRef(null),i=Rt.useRef(null),[a,o]=Rt.useState(!1),c=Rt.useCallback(d=>{if(a||!n.current||!i.current)return;o(!0);const m=n.current,p=i.current,y=m.getBoundingClientRect(),v=Math.max(y.width,y.height)*2,_=d.clientX-y.left-v/2,S=d.clientY-y.top-v/2;p.style.width=`${v}px`,p.style.height=`${v}px`,p.style.left=`${_}px`,p.style.top=`${S}px`,p.classList.remove("ripple-leave"),p.classList.add("ripple-enter")},[a]),u=Rt.useCallback(d=>{if(d.target!==d.currentTarget||!n.current||!i.current)return;o(!1);const m=n.current,p=i.current,y=m.getBoundingClientRect(),v=Math.max(y.width,y.height)*2,_=d.clientX-y.left-v/2,S=d.clientY-y.top-v/2;p.style.left=`${_}px`,p.style.top=`${S}px`,p.classList.remove("ripple-enter"),p.classList.add("ripple-leave");const w=()=>{p&&(p.classList.remove("ripple-leave"),p.removeEventListener("animationend",w))};p.addEventListener("animationend",w)},[]),h=Rt.useCallback(d=>{if(!n.current||!i.current||!a)return;const m=n.current,p=i.current,y=m.getBoundingClientRect(),v=Math.max(y.width,y.height)*2,_=d.clientX-y.left-v/2,S=d.clientY-y.top-v/2;p.style.left=`${_}px`,p.style.top=`${S}px`},[a]);return Bt.jsxs("button",{ref:n,className:"font-jost duration-[600ms] relative flex items-center justify-center overflow-hidden rounded-full bg-[#cbfe7e] p-[1.3rem] text-[1.2rem] font-medium text-[#0e352e] transition hover:text-white hover:bg-[#D0E3DD]  hover:scale-105",onMouseEnter:d=>{d.target===d.currentTarget&&c(d)},onMouseLeave:d=>{d.target===d.currentTarget&&u(d)},onMouseMove:h,...t,children:[Bt.jsx("span",{className:"relative z-[2]",children:e}),Bt.jsx("span",{ref:i,className:"ripple"}),Bt.jsx("style",{children:`
        .ripple {
          position: absolute;
          border-radius: 50%;
          pointer-events: none;
          background-color: #000000;
          z-index: 1;
          opacity: 0;
          transition: transform 50ms linear;
        }
        .ripple-enter {
          animation: ripple-enter 600ms ease-out forwards;
        }
        .ripple-leave {
          animation: ripple-leave 600ms ease-out forwards;
        }
        @keyframes ripple-enter {
          from { transform: scale(0); opacity: 1; }
          to { transform: scale(1); opacity: 1; }
        }
        @keyframes ripple-leave {
          from { transform: scale(1); opacity: 1; }
          to { transform: scale(0); opacity: 1; }
        }
      `})]})}const OG=({items:e,animationTime:t=600,particleCount:n=15,particleDistances:i=[90,10],particleR:a=100,timeVariance:o=300,colors:c=[1,2,3,1,2,3,1,4],initialActiveIndex:u=0})=>{const h=Rt.useRef(null),d=Rt.useRef(null),m=Rt.useRef(null),p=Rt.useRef(null),[y,v]=Rt.useState(u),_=(C=1)=>C/2-Math.random()*C,S=(C,A,O)=>{const P=(360+_(8))/O*A*(Math.PI/180);return[C*Math.cos(P),C*Math.sin(P)]},w=(C,A,O,P)=>{let G=_(P/10);return{start:S(O[0],n-C,n),end:S(O[1]+_(7),n-C,n),time:A,scale:1+_(.2),color:c[Math.floor(Math.random()*c.length)],rotate:G>0?(G+P/20)*10:(G-P/20)*10}},M=C=>{const A=i,O=a,P=t*2+o;C.style.setProperty("--time",`${P}ms`);for(let G=0;G<n;G++){const J=t*2+_(o*2),j=w(G,J,A,O);C.classList.remove("active"),setTimeout(()=>{const I=document.createElement("span"),K=document.createElement("span");I.classList.add("particle"),I.style.setProperty("--start-x",`${j.start[0]}px`),I.style.setProperty("--start-y",`${j.start[1]}px`),I.style.setProperty("--end-x",`${j.end[0]}px`),I.style.setProperty("--end-y",`${j.end[1]}px`),I.style.setProperty("--time",`${j.time}ms`),I.style.setProperty("--scale",`${j.scale}`),I.style.setProperty("--color",`var(--color-${j.color}, white)`),I.style.setProperty("--rotate",`${j.rotate}deg`),K.classList.add("point"),I.appendChild(K),C.appendChild(I),requestAnimationFrame(()=>{C.classList.add("active")}),setTimeout(()=>{try{C.removeChild(I)}catch{}},J)},30)}},b=C=>{if(!h.current||!m.current||!p.current)return;const A=h.current.getBoundingClientRect(),O=C.getBoundingClientRect(),P={left:`${O.x-A.x}px`,top:`${O.y-A.y}px`,width:`${O.width}px`,height:`${O.height}px`};Object.assign(m.current.style,P),Object.assign(p.current.style,P),p.current.innerText=C.innerText},T=(C,A)=>{const O=C.currentTarget;y!==A&&(v(A),b(O),m.current&&m.current.querySelectorAll(".particle").forEach(G=>m.current.removeChild(G)),p.current&&(p.current.classList.remove("active"),p.current.offsetWidth,p.current.classList.add("active")),m.current&&M(m.current))},R=(C,A)=>{if(C.key==="Enter"||C.key===" "){C.preventDefault();const O=C.currentTarget.parentElement;O&&T({currentTarget:O},A)}};return Rt.useEffect(()=>{var O;if(!d.current||!h.current)return;const C=d.current.querySelectorAll("li")[y];C&&(b(C),(O=p.current)==null||O.classList.add("active"));const A=new ResizeObserver(()=>{var G;const P=(G=d.current)==null?void 0:G.querySelectorAll("li")[y];P&&b(P)});return A.observe(h.current),()=>A.disconnect()},[y]),Bt.jsxs(Bt.Fragment,{children:[Bt.jsx("style",{children:`
          :root {
            --linear-ease: linear(0, 0.068, 0.19 2.7%, 0.804 8.1%, 1.037, 1.199 13.2%, 1.245, 1.27 15.8%, 1.274, 1.272 17.4%, 1.249 19.1%, 0.996 28%, 0.949, 0.928 33.3%, 0.926, 0.933 36.8%, 1.001 45.6%, 1.013, 1.019 50.8%, 1.018 54.4%, 1 63.1%, 0.995 68%, 1.001 85%, 1);
          }
          .effect {
            position: absolute;
            opacity: 1;
            pointer-events: none;
            display: grid;
            place-items: center;
            z-index: 1;
          }
          .effect.text {
            color: white;
            transition: color 0.3s ease;
          }
          .effect.text.active {
            color: black;
          }
          .effect.filter {
            filter: blur(7px) contrast(100) blur(0);
            mix-blend-mode: lighten;
          }
          .effect.filter::before {
            content: "";
            position: absolute;
            inset: -75px;
            z-index: -2;
            background: rgba(0, 0, 0, 0.2); /* or try 0.05 for very subtle */
  filter: blur(7px);
          }
          .effect.filter::after {
            content: "";
            position: absolute;
            inset: 0;
            background: transparent;
            transform: scale(0);
            opacity: 0;
            z-index: -1;
            border-radius: 9999px;
          }
          .effect.active::after {
            animation: pill 0.3s ease both;
          }
          @keyframes pill {
            to {
              transform: scale(1);
              opacity: 1;
            }
          }
          .particle,
          .point {
            display: block;
            opacity: 0;
            width: 20px;
            height: 20px;
            border-radius: 9999px;
            transform-origin: center;
          }
          .particle {
            --time: 5s;
            position: absolute;
            top: calc(50% - 8px);
            left: calc(50% - 8px);
            animation: particle calc(var(--time)) ease 1 -350ms;
          }
          .point {
            background: var(--color);
            opacity: 1;
            animation: point calc(var(--time)) ease 1 -350ms;
          }
          @keyframes particle {
            0% {
              transform: rotate(0deg) translate(calc(var(--start-x)), calc(var(--start-y)));
              opacity: 1;
              animation-timing-function: cubic-bezier(0.55, 0, 1, 0.45);
            }
            70% {
              transform: rotate(calc(var(--rotate) * 0.5)) translate(calc(var(--end-x) * 1.2), calc(var(--end-y) * 1.2));
              opacity: 1;
              animation-timing-function: ease;
            }
            85% {
              transform: rotate(calc(var(--rotate) * 0.66)) translate(calc(var(--end-x)), calc(var(--end-y)));
              opacity: 1;
            }
            100% {
              transform: rotate(calc(var(--rotate) * 1.2)) translate(calc(var(--end-x) * 0.5), calc(var(--end-y) * 0.5));
              opacity: 1;
            }
          }
          @keyframes point {
            0% {
              transform: scale(0);
              opacity: 0;
              animation-timing-function: cubic-bezier(0.55, 0, 1, 0.45);
            }
            25% {
              transform: scale(calc(var(--scale) * 0.25));
            }
            38% {
              opacity: 1;
            }
            65% {
              transform: scale(var(--scale));
              opacity: 1;
              animation-timing-function: ease;
            }
            85% {
              transform: scale(var(--scale));
              opacity: 1;
            }
            100% {
              transform: scale(0);
              opacity: 0;
            }
          }
          li.active {
            color: black;
            text-shadow: none;
          }
          li.active::after {
            opacity: 1;
            transform: scale(1);
          }
          li::after {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: 8px;
            background: white;
            opacity: 0;
            transform: scale(0);
            transition: all 0.3s ease;
            z-index: -1;
          }
        `}),Bt.jsxs("div",{className:"relative",ref:h,children:[Bt.jsx("nav",{className:"flex relative",style:{transform:"translate3d(0,0,0.01px)"},children:Bt.jsx("ul",{ref:d,className:"flex gap-8 list-none p-0 px-4 m-0 relative z-[3]",style:{color:"black",textShadow:"0 1px 1px hsl(205deg 30% 10% / 0.2)"},children:e.map((C,A)=>Bt.jsx("li",{className:`py-[0.6em] px-[1em] rounded-full relative cursor-pointer transition-[background-color_color_box-shadow] duration-300 ease shadow-[0_0_0.5px_1.5px_transparent] text-white ${y===A?"active":""}`,onClick:O=>T(O,A),children:Bt.jsx("a",{href:C.href,onKeyDown:O=>R(O,A),className:"outline-none",children:C.label})},A))})}),Bt.jsx("span",{className:"effect filter",ref:m}),Bt.jsx("span",{className:"effect text",ref:p})]})]})};function PG(){const e=[{label:"Home",href:"src/home/Page.tsx"},{label:"Song Suggestor",href:"#"},{label:"About",href:"#About"}];return Bt.jsxs("div",{className:"fixed top-8 flex w-[80%] rounded-2xl bg-white/20 backdrop-blur-3xl justify-between pt-1 z-[20]",children:[Bt.jsxs("div",{className:"relative flex items-center justify-center",children:[Bt.jsx("img",{src:"src/assets/images/img1.png",className:"w-24  z-10 pointer-events-none select-none"}),Bt.jsx("div",{className:"flex items-center justify-center ",children:Bt.jsx("p",{className:"text-gray-200 text-2xl p-1 text-center",children:"Lift My Mind"})})]}),Bt.jsx("div",{className:"flex items-center font-bold justify-center",children:Bt.jsx(OG,{items:e,particleCount:15,particleDistances:[90,10],particleR:100,initialActiveIndex:0,animationTime:600,timeVariance:300,colors:[1,2,3,1,2,3,1,4]})})]})}function NG(){const e=[{icon:"",title:"Understand Your Mood Health",description:"We focus on We start with a quick and intuitive form to gauge how you're feeling  from calm to stressed, joyful to low."},{icon:"",title:"Recommend the Song",description:"Based on your mood, we match you with a song scientifically shown to support emotional well-being."},{icon:"",title:"Enhance Inner Peace",description:"Regularly listening to mood-based music can reduce stress, improve focus, and promote a better mental state."},{icon:"",title:"Enjoy the Soundtrack",description:"Immerse yourself in a personalized musical experience designed to uplift and soothe your mind."}];return Bt.jsx(Bt.Fragment,{children:Bt.jsxs("div",{className:"relative w-full h-screen flex flex-col items-center justify-center ",children:[Bt.jsx("p",{className:"relative w-7xl left-1/2-translate-x-1/2 bg-clip-text bg-gradient-to-b via-emerald-200 from-emerald-50 to-emerald-900 text-[700%] z-20 text-transparent font-extrabold text-center pointer-events-none select-none",children:"WHAT WE DO"}),Bt.jsx("div",{className:"w-[80%]  grid  grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 ",children:e.map((t,n)=>Bt.jsx("div",{className:`
                                relative group
                                p-1 h-[400px]
                                rounded-xl
                                backdrop-blur-sm
                                border border-white/10
                                flex
                                justify-center
                                items-center
                            `,children:Bt.jsxs("div",{className:"relative h-full flex justify-center  flex-col bg-black/40 rounded-lg p-6",children:[Bt.jsx("div",{className:"text-5xl mb-6 ",children:t.icon}),Bt.jsx("h3",{className:"text-2xl font-semibold text-white mb-4",children:t.title}),Bt.jsx("p",{className:"text-gray-300 flex-grow",children:t.description})]})},n))}),Bt.jsx("p",{className:"text-gray-200 text-xl mt-6 text-center",children:"Based on your mood, well recommend a song that uplifts and empowers."}),Bt.jsx(KA,{className:"font-jost m-8 duration-[600ms] relative flex items-center justify-center overflow-hidden rounded-full bg-[#036041] p-[1.3rem] text-[1.2rem] font-extrabold text-[#D0E3DD] transition hover:text-white hover:bg-[#D0E3DD] hover:shadow-lg hover:shadow-[#D0E3DD] hover:scale-105 uppercase",onClick:()=>alert("Button Clicked!"),children:"Get Your Recommendations "})]})})}function BG(){return Bt.jsxs(Bt.Fragment,{children:[Bt.jsx(LG,{}),Bt.jsxs("div",{className:"h-screen min-h-screen w-full fill flex justify-center relative overflow-hidden",children:[Bt.jsx(lB,{}),Bt.jsx(PG,{}),Bt.jsx("div",{className:"relative  w-full flex flex-col items-center min-h-screen backdrop-blur-sm  z-[3] pt-12  px-4",children:Bt.jsx(DG,{sparkColor:"#fff",sparkSize:10,sparkRadius:15,sparkCount:8,duration:400,children:Bt.jsx("div",{className:"absolute w-full h-full flex flex-col items-center justify-center z-[2]",children:Bt.jsx("div",{className:"relative flex w-full flex-col items-center justify-start flex-1 mt-3",children:Bt.jsxs("div",{className:"relative w-full flex top-11 flex-col items-center",children:[Bt.jsx("p",{className:"absolute w-7xl top-0 left-1/2-translate-x-1/2  text-stroke-1 bg-clip-text bg-gradient-to-b via-emerald-200 from-emerald-50 to-emerald-900 text-[700%] z-20 text-transparent font-extrabold text-center pointer-events-none select-none",children:"YOUR MOOD"}),Bt.jsx("img",{src:"src/assets/images/headphone.png",className:"absolute top-0 left-1/2 -translate-x-1/2 w-[340px] md:w-[500px] z-10 pointer-events-none select-none",style:{marginTop:"0.5rem"}}),Bt.jsx("p",{className:"absolute top-0 w-7xl left-1/2-translate-x-1/2 bg-clip-text  bg-gradient-to-b via-emerald-200 from-emerald-50 to-emerald-900 text-[700%] text-transparent z-5 font-extrabold text-center pointer-events-none select-none",style:{marginTop:"7rem"},children:"HAS A SOUNDTRACK"}),Bt.jsx("div",{className:"h-[320px] md:h-[630px]"}),Bt.jsx("p",{className:"text-gray-200 text-xl mt-6 text-center",children:"Songs chosen to calm your mind and match your mood."}),Bt.jsx(KA,{className:"font-jost m-3 duration-[600ms] relative flex items-center justify-center overflow-hidden rounded-full bg-[#036041] p-[1.3rem] text-[1.2rem] font-extrabold text-[#D0E3DD] transition hover:text-white hover:bg-[#D0E3DD] hover:shadow-lg hover:shadow-[#D0E3DD] hover:scale-105 uppercase",onClick:()=>alert("Button Clicked!"),children:"FIND YOUR SONG"})]})})})})})]}),Bt.jsx("div",{className:"relative w-full h-screen backdrop-blur-sm flex flex-col items-center justify-start flex-1 ",children:Bt.jsx(NG,{})})]})}mR.createRoot(document.getElementById("root")).render(Bt.jsx(Rt.StrictMode,{children:Bt.jsx(BG,{})}));
